{"version":3,"file":"theme.js","sources":["../../src/js/globals/forms.js","../../src/js/globals/height.js","../../src/js/main/settings.js","../../src/js/features/outer-height-margins.js","../../src/js/globals/prevent-overflow.js","../../src/js/util/debounce.js","../../src/js/globals/scroll.js","../../src/js/util/touch.js","../../src/js/util/loader.js","../../src/js/util/get-script.js","../../src/js/util/open-photoswipe.js","../../src/js/globals/legacy.js","../../src/js/globals/resize.js","../../src/js/main/globals.js","../../src/js/vendor/isElementVisible.min.js","../../src/js/util/show-element.js","../../src/js/globals/recent-products.js","../../src/js/vendor/theme-scripts/theme-a11y.js","../../src/js/util/slide-up.js","../../src/js/util/slide-down.js","../../src/js/util/fetch-error.js","../../src/js/features/background-set.js","../../src/js/globals/quantity-handle.js","../../src/js/globals/cart-drawer.js","../../src/js/globals/accessibility-handle.js","../../src/js/globals/squirrelly.js","../../src/js/util/old-loader.js","../../src/js/media/model.js","../../src/js/templates/customer-addresses.js","../../src/js/templates/login.js","../../src/js/vendor/theme-scripts/theme-sections.js","../../src/js/features/remove-animations.js","../../src/js/features/badge-position.js","../../src/js/util/fetch-product.js","../../src/js/features/swatch.js","../../src/js/util/throttle.js","../../src/js/features/custom-scrollbar.js","../../src/js/media/init-slider.js","../../src/js/media/zoom.js","../../src/js/media/video.js","../../src/js/media/media.js","../../src/js/util/hide-element.js","../../src/js/features/modals.js","../../src/js/features/store-availability.js","../../src/js/vendor/theme-scripts/listeners.js","../../src/js/vendor/theme-scripts/theme-product.js","../../src/js/vendor/theme-scripts/theme-product-form.js","../../src/js/features/product-form.js","../../src/js/features/quickview-button.js","../../src/js/features/quickview.js","../../src/js/features/infinity-scroll.js","../../src/js/sections/blog.js","../../src/js/features/popout.js","../../src/js/globals/newsletter.js","../../src/js/sections/footer.js","../../src/js/util/siblings.js","../../src/js/features/collapsible.js","../../src/js/features/range-slider.js","../../src/js/sections/collection.js","../../src/js/sections/featured-collection.js","../../src/js/features/outer-width-margins.js","../../src/js/util/format-prices.js","../../src/js/features/header-search-predictive.js","../../src/js/features/navigation.js","../../src/js/sections/header.js","../../src/js/features/quantity-selectors.js","../../src/js/sections/product.js","../../src/js/sections/list-collections.js","../../src/js/sections/related-products.js","../../src/js/sections/recently-viewed-products.js","../../src/js/sections/logo-list.js","../../src/js/sections/faq.js","../../src/js/sections/slideshow.js","../../src/js/sections/image-with-text.js","../../src/js/sections/mosaic.js","../../src/js/sections/popups.js","../../src/js/sections/password.js","../../src/js/sections/tabs.js","../../src/js/util/wrap.js","../../src/js/main/main.js"],"sourcesContent":["function floatLabels(container) {\n  const floats = container.querySelectorAll('.form-field');\n  floats.forEach((element) => {\n    const label = element.querySelector('label');\n    const input = element.querySelector('input, textarea');\n    if (label && input) {\n      input.addEventListener('keyup', (event) => {\n        if (event.target.value !== '') {\n          label.classList.add('label--float');\n        } else {\n          label.classList.remove('label--float');\n        }\n      });\n      if (input.value && input.value.length) {\n        label.classList.add('label--float');\n      }\n    }\n  });\n}\n\nexport default floatLabels;\n","function readHeights() {\n  const h = {};\n  h.windowHeight = window.innerHeight;\n  h.announcementHeight = getHeight('[data-section-type*=\"announcement\"]');\n  h.footerHeight = getHeight('[data-section-type*=\"footer\"]');\n  h.headerHeight = getHeight('[data-header-height].header--has-scrolled') || 60; // Header height is always 60px on scroll\n  h.headerInitialHeight = getHeight('[data-header-height]:not(.header--has-scrolled)');\n  return h;\n}\n\nfunction setVarsOnResize() {\n  document.addEventListener('theme:resize', resizeVars);\n}\n\nfunction setVars() {\n  const {windowHeight, announcementHeight, headerInitialHeight, headerHeight, footerHeight} = readHeights();\n\n  document.documentElement.style.setProperty('--announcement-height', `${announcementHeight}px`);\n  document.documentElement.style.setProperty('--header-height', `${headerHeight}px`);\n  document.documentElement.style.setProperty('--header-initial-height', `${headerInitialHeight}px`);\n\n  document.documentElement.style.setProperty('--footer-height', `${footerHeight}px`);\n  document.documentElement.style.setProperty('--content-full', `${windowHeight - headerHeight}px`);\n  document.documentElement.style.setProperty('--content-min', `${windowHeight - headerHeight - footerHeight}px`);\n  document.documentElement.style.setProperty('--scrollbar-width', `${getScrollbarWidth()}px`);\n}\n\nfunction resizeVars() {\n  // restrict the heights that are changed on resize to avoid iOS jump when URL bar is shown and hidden\n  const {windowHeight, announcementHeight, headerHeight, footerHeight} = readHeights();\n  document.documentElement.style.setProperty('--announcement-height', `${announcementHeight}px`);\n  document.documentElement.style.setProperty('--header-height', `${headerHeight}px`);\n\n  document.documentElement.style.setProperty('--footer-height', `${footerHeight}px`);\n  document.documentElement.style.setProperty('--content-full', `${windowHeight - headerHeight}px`);\n  document.documentElement.style.setProperty('--content-min', `${windowHeight - headerHeight - footerHeight}px`);\n}\n\nfunction getHeight(selector) {\n  const el = document.querySelector(selector);\n  if (el) {\n    return el.clientHeight;\n  } else {\n    return 0;\n  }\n}\n\nfunction getScrollbarWidth() {\n  // Creating invisible container\n  const outer = document.createElement('div');\n  outer.style.visibility = 'hidden';\n  outer.style.overflow = 'scroll'; // forcing scrollbar to appear\n  outer.style.msOverflowStyle = 'scrollbar'; // needed for WinJS apps\n  document.body.appendChild(outer);\n\n  // Creating inner element and placing it in the container\n  const inner = document.createElement('div');\n  outer.appendChild(inner);\n\n  // Calculating difference between container's full width and the child width\n  const scrollbarWidth = outer.offsetWidth - inner.offsetWidth;\n\n  // Removing temporary elements from the DOM\n  outer.parentNode.removeChild(outer);\n\n  return scrollbarWidth;\n}\n\nexport {setVarsOnResize, readHeights, setVars, getHeight};\n","window.theme = window.theme || {};\n\nwindow.theme.sizes = {\n  mobile: 550,\n  small: 767,\n  large: 1023,\n  widescreen: 1279,\n};\n\nwindow.theme.keyboardKeys = {\n  TAB: 9,\n  ENTER: 13,\n  ESCAPE: 27,\n  SPACE: 32,\n  LEFTARROW: 37,\n  RIGHTARROW: 39,\n};\n\nwindow.theme.dimensions = {\n  headerScrolled: 60,\n};\n\nwindow.theme.loadedSPR = false;\n\nwindow.theme.focusable = 'button, [href], input, select, textarea, [tabindex]:not([tabindex=\"-1\"])';\n","const outerHeight = (el) => {\n  const style = getComputedStyle(el);\n  let height = el.offsetHeight;\n\n  height += parseInt(style.marginTop) + parseInt(style.marginBottom);\n\n  return height;\n};\n\nexport default outerHeight;\n","import outerHeight from '../features/outer-height-margins';\n\nconst selectors = {\n  bannerContainer: '[data-banner-container]',\n  bannerContent: '[data-banner-content]',\n};\n\nfunction preventOverflow(container) {\n  const banners = container.querySelectorAll(selectors.bannerContainer);\n\n  if (banners) {\n    banners.forEach((banner) => {\n      const content = banner.querySelector(selectors.bannerContent);\n\n      if (content) {\n        banner.style.minHeight = `${outerHeight(content)}px`;\n\n        document.addEventListener('theme:resize', () => {\n          banner.style.minHeight = `${outerHeight(content)}px`;\n        });\n      }\n    });\n  }\n}\n\nexport default preventOverflow;\n","function debounce(fn, time) {\n  let timeout;\n  return function () {\n    // eslint-disable-next-line prefer-rest-params\n    if (fn) {\n      const functionCall = () => fn.apply(this, arguments);\n      clearTimeout(timeout);\n      timeout = setTimeout(functionCall, time);\n    }\n  };\n}\n\nexport default debounce;\n","import {disableBodyScroll, clearAllBodyScrollLocks} from 'body-scroll-lock';\n\nlet prev = window.pageYOffset;\nlet up = null;\nlet down = null;\nlet wasUp = null;\nlet wasDown = null;\nlet scrollLockTimeout = 0;\n\nfunction dispatch() {\n  const position = window.pageYOffset;\n  if (position > prev) {\n    down = true;\n    up = false;\n  } else if (position < prev) {\n    down = false;\n    up = true;\n  } else {\n    up = null;\n    down = null;\n  }\n  prev = position;\n  document.dispatchEvent(\n    new CustomEvent('theme:scroll', {\n      detail: {\n        up,\n        down,\n        position,\n      },\n      bubbles: false,\n    })\n  );\n  if (up && !wasUp) {\n    document.dispatchEvent(\n      new CustomEvent('theme:scroll:up', {\n        detail: {position},\n        bubbles: false,\n      })\n    );\n  }\n  if (down && !wasDown) {\n    document.dispatchEvent(\n      new CustomEvent('theme:scroll:down', {\n        detail: {position},\n        bubbles: false,\n      })\n    );\n  }\n  wasDown = down;\n  wasUp = up;\n}\n\nfunction lock(e) {\n  disableBodyScroll(e.detail, {\n    allowTouchMove: (el) => el.tagName === 'TEXTAREA',\n  });\n  document.documentElement.setAttribute('data-scroll-locked', '');\n}\n\nfunction unlock() {\n  // Prevent body scroll lock race conditions\n  scrollLockTimeout = setTimeout(() => {\n    document.body.removeAttribute('data-drawer-closing');\n  }, 20);\n\n  if (document.body.hasAttribute('data-drawer-closing')) {\n    document.body.removeAttribute('data-drawer-closing');\n\n    if (scrollLockTimeout) {\n      clearTimeout(scrollLockTimeout);\n    }\n\n    return;\n  } else {\n    document.body.setAttribute('data-drawer-closing', '');\n  }\n\n  document.documentElement.removeAttribute('data-scroll-locked');\n  clearAllBodyScrollLocks();\n}\n\nfunction scrollListener() {\n  let timeout;\n  window.addEventListener(\n    'scroll',\n    function () {\n      if (timeout) {\n        window.cancelAnimationFrame(timeout);\n      }\n      timeout = window.requestAnimationFrame(function () {\n        dispatch();\n      });\n    },\n    {passive: true}\n  );\n\n  window.addEventListener('theme:scroll:lock', lock);\n  window.addEventListener('theme:scroll:unlock', unlock);\n}\n\nexport default scrollListener;\n","let touched = false;\n\nexport default function isTouch() {\n  return touched;\n}\n\nfunction wasTouched() {\n  window.theme.touched = true;\n  touched = true;\n  document.removeEventListener('touchstart', wasTouched, {passive: true});\n  document.documentElement.className = document.documentElement.className.replace('no-touch', 'touch');\n  document.dispatchEvent(\n    new CustomEvent('theme:touch', {\n      bubbles: true,\n    })\n  );\n}\n\ndocument.addEventListener('touchstart', wasTouched, {passive: true});\n","import getScript from '../util/get-script';\n\nconst loaders = {};\nwindow.isYoutubeAPILoaded = false;\n\nexport default function loadScript(options = {}) {\n  if (!options.type) {\n    options.type = 'json';\n  }\n\n  if (options.url) {\n    if (loaders[options.url]) {\n      return loaders[options.url];\n    } else {\n      return getScriptWithPromise(options.url, options.type);\n    }\n  } else if (options.json) {\n    if (loaders[options.json]) {\n      return Promise.resolve(loaders[options.json]);\n    } else {\n      return window\n        .fetch(options.json)\n        .then((response) => {\n          return response.json();\n        })\n        .then((response) => {\n          loaders[options.json] = response;\n          return response;\n        });\n    }\n  } else if (options.name) {\n    const key = ''.concat(options.name, options.version);\n    if (loaders[key]) {\n      return loaders[key];\n    } else {\n      return loadShopifyWithPromise(options);\n    }\n  } else {\n    return Promise.reject();\n  }\n}\n\nfunction getScriptWithPromise(url, type) {\n  const loader = new Promise((resolve, reject) => {\n    if (type === 'text') {\n      fetch(url)\n        .then((response) => response.text())\n        .then((data) => {\n          resolve(data);\n        })\n        .catch((error) => {\n          reject(error);\n        });\n    } else {\n      getScript(\n        url,\n        function () {\n          resolve();\n        },\n        function () {\n          reject();\n        }\n      );\n    }\n  });\n\n  loaders[url] = loader;\n  return loader;\n}\n\nfunction loadShopifyWithPromise(options) {\n  const key = ''.concat(options.name, options.version);\n  const loader = new Promise((resolve, reject) => {\n    try {\n      window.Shopify.loadFeatures([\n        {\n          name: options.name,\n          version: options.version,\n          onLoad: (err) => {\n            onLoadFromShopify(resolve, reject, err);\n          },\n        },\n      ]);\n    } catch (err) {\n      reject(err);\n    }\n  });\n  loaders[key] = loader;\n  return loader;\n}\n\nfunction onLoadFromShopify(resolve, reject, err) {\n  if (err) {\n    return reject(err);\n  } else {\n    return resolve();\n  }\n}\n","export default function getScript(url, callback, callbackError) {\n  let head = document.getElementsByTagName('head')[0];\n  let done = false;\n  let script = document.createElement('script');\n  script.src = url;\n\n  // Attach handlers for all browsers\n  script.onload = script.onreadystatechange = function () {\n    if (!done && (!this.readyState || this.readyState == 'loaded' || this.readyState == 'complete')) {\n      done = true;\n      callback();\n    } else {\n      callbackError();\n    }\n  };\n\n  head.appendChild(script);\n}\n","import loadScript from './../util/loader';\n\nconst selectors = {\n  popupContainer: '.pswp',\n  popupCloseBtn: '.pswp__custom-close',\n  popupIframe: 'iframe',\n  popupCustomIframe: '.pswp__custom-iframe',\n  popupThumbs: '.pswp__thumbs',\n  dataOptionClasses: 'data-pswp-option-classes',\n  dataVideoType: 'data-video-type',\n  dataDisableSound: 'data-disable-sound',\n  dataVideoId: 'data-video-id',\n};\n\nconst classes = {\n  classCurrent: 'is-current',\n  classCustomLoader: 'pswp--custom-loader',\n  classCustomOpen: 'pswp--custom-opening',\n  classLoader: 'pswp__loader',\n  loaded: 'loaded',\n};\n\nconst loaderHTML = `<div class=\"${classes.classLoader}\"><div class=\"loader pswp__loader-line\"><div class=\"loader-indeterminate\"></div></div></div>`;\n\nconst players = [];\nconst loadVideoYT = (playerId, videoId, disableSound) => {\n  const defaultYoutubeOptions = {\n    height: '720',\n    width: '1280',\n    events: {\n      onReady: function (event) {\n        const eventIframe = event.target.getIframe();\n\n        eventIframe.setAttribute('tabindex', '-1');\n\n        if (disableSound) {\n          event.target.mute();\n        } else {\n          event.target.unMute();\n        }\n        event.target.playVideo();\n      },\n      onStateChange: function (event) {\n        // Loop video if state is ended\n        if (event.data == 0) {\n          event.target.playVideo();\n        }\n        if (event.data == 1 && event.target.getIframe().parentElement) {\n          // video is playing\n          event.target.getIframe().parentElement.classList.add(classes.loaded);\n        }\n      },\n    },\n  };\n  const currentYoutubeOptions = Object.assign({}, defaultYoutubeOptions);\n  currentYoutubeOptions.videoId = videoId;\n  if (videoId.length) {\n    players[playerId] = new YT.Player(playerId, currentYoutubeOptions);\n  }\n};\n\nconst loadVideoVimeo = (videoId, state, disableSound) => {\n  const oembed_url = 'https://vimeo.com/api/oembed.json';\n  const vimeo_url = 'https://vimeo.com/' + videoId;\n  let paramsString = '';\n\n  const params = {\n    url: vimeo_url,\n    background: false,\n    muted: disableSound,\n    autoplay: true,\n  };\n\n  for (let key in params) {\n    paramsString += encodeURIComponent(key) + '=' + encodeURIComponent(params[key]) + '&';\n  }\n\n  fetch(`${oembed_url}?${paramsString}`)\n    .then((response) => response.json())\n    .then(function (data) {\n      state.innerHTML = data.html;\n\n      setTimeout(function () {\n        state.parentElement.classList.add(classes.loaded);\n      }, 1000);\n    })\n    .catch(function (error) {\n      console.log('error: ', error);\n    });\n};\n\nconst openPhotoSwipe = (items, options = '') => {\n  const pswpElement = document.querySelectorAll(selectors.popupContainer)[0];\n  pswpElement.classList.add(classes.classCustomOpen);\n\n  if (pswpElement.classList.contains(classes.classCustomLoader) && options !== '' && options.mainClass) {\n    pswpElement.setAttribute(selectors.dataOptionClasses, options.mainClass);\n    let loaderElem = document.createElement('div');\n    loaderElem.innerHTML = loaderHTML;\n    loaderElem = loaderElem.firstChild;\n    pswpElement.appendChild(loaderElem);\n  } else {\n    pswpElement.setAttribute(selectors.dataOptionClasses, '');\n  }\n\n  const loadedPromise = loadScript({url: window.theme.assets.photoswipe});\n  const returnPhotoSwipe = loadedPromise\n    .then(() => {\n      const PhotoSwipe = window.themePhotoswipe.PhotoSwipe.default;\n      const PhotoSwipeUI = window.themePhotoswipe.PhotoSwipeUI.default;\n      const popupThumbsContainer = pswpElement.querySelector(selectors.popupThumbs);\n\n      if (pswpElement.classList.contains(classes.classCustomLoader)) {\n        pswpElement.classList.remove(classes.classCustomLoader);\n      }\n\n      pswpElement.classList.remove(classes.classCustomOpen);\n\n      let newOptions = {\n        history: false,\n        focus: false,\n        mainClass: '',\n      };\n\n      if (options !== '') {\n        newOptions = options;\n      }\n\n      const popup = new PhotoSwipe(pswpElement, PhotoSwipeUI, items, newOptions);\n      popup.init();\n\n      const videoContainer = pswpElement.querySelector(selectors.popupCustomIframe);\n      if (videoContainer) {\n        const videoType = videoContainer.getAttribute(selectors.dataVideoType);\n        const videoId = videoContainer.getAttribute(selectors.dataVideoId);\n        const videoDisableSound = videoContainer.getAttribute(selectors.dataDisableSound) === 'true';\n        const videoContainerId = videoContainer.id;\n\n        if (videoType == 'youtube') {\n          if (window.isYoutubeAPILoaded) {\n            loadVideoYT(videoContainerId, videoId, videoDisableSound);\n          } else {\n            // Load Youtube API if not loaded yet\n            window.loadYoutubeAPI();\n            document.body.addEventListener('youtubeAPIReady', () => loadVideoYT(videoContainerId, videoId, videoDisableSound));\n          }\n        } else if (videoType == 'vimeo') {\n          loadVideoVimeo(videoId, videoContainer, videoDisableSound);\n        }\n      }\n\n      const closeBtn = pswpElement.querySelector(selectors.popupCloseBtn);\n      if (closeBtn) {\n        closeBtn.addEventListener('click', function () {\n          popup.close();\n        });\n      }\n\n      popup.listen('close', function () {\n        const popupIframe = pswpElement.querySelector(selectors.popupIframe);\n        if (popupIframe) {\n          popupIframe.setAttribute('src', '');\n          popupIframe.parentNode.removeChild(popupIframe);\n        }\n\n        if (popupThumbsContainer && popupThumbsContainer.firstChild) {\n          while (popupThumbsContainer.firstChild) {\n            popupThumbsContainer.removeChild(popupThumbsContainer.firstChild);\n          }\n        }\n\n        pswpElement.setAttribute(selectors.dataOptionClasses, '');\n        const loaderElem = pswpElement.querySelector(`.${classes.classLoader}`);\n        if (loaderElem) {\n          pswpElement.removeChild(loaderElem);\n        }\n      });\n\n      if (popupThumbsContainer && popupThumbsContainer.firstChild) {\n        const stopDisabledScroll = (e) => {\n          e.stopPropagation();\n        };\n        popupThumbsContainer.addEventListener('wheel', stopDisabledScroll);\n        popupThumbsContainer.addEventListener('mousewheel', stopDisabledScroll);\n        popupThumbsContainer.addEventListener('DOMMouseScroll', stopDisabledScroll);\n\n        const popupThumbs = pswpElement.querySelectorAll(`${selectors.popupThumbs} > *`);\n        popupThumbs.forEach((element, i) => {\n          element.addEventListener('click', function (e) {\n            e.preventDefault();\n            this.parentElement.querySelector(`.${classes.classCurrent}`).classList.remove(classes.classCurrent);\n            this.classList.add(classes.classCurrent);\n            popup.goTo(i);\n          });\n        });\n\n        const setCurrentThumb = () => {\n          const lastCurrentThumb = pswpElement.querySelector(`${selectors.popupThumbs} > .${classes.classCurrent}`);\n          if (lastCurrentThumb) {\n            lastCurrentThumb.classList.remove(classes.classCurrent);\n          }\n          const currentThumb = popupThumbs[popup.getCurrentIndex()];\n          const thumbsContainerLeft = popupThumbsContainer.scrollLeft;\n          const thumbsContainerWidth = popupThumbsContainer.offsetWidth;\n          const thumbsContainerPos = thumbsContainerLeft + thumbsContainerWidth;\n          const currentThumbLeft = currentThumb.offsetLeft;\n          const currentThumbWidth = currentThumb.offsetWidth;\n          const currentThumbPos = currentThumbLeft + currentThumbWidth;\n\n          currentThumb.classList.add(classes.classCurrent);\n\n          if (thumbsContainerPos <= currentThumbPos || thumbsContainerPos > currentThumbLeft) {\n            const currentThumbMarginLeft = parseInt(window.getComputedStyle(currentThumb).marginLeft);\n            popupThumbsContainer.scrollTo({\n              top: 0,\n              left: currentThumbLeft - currentThumbMarginLeft,\n              behavior: 'smooth',\n            });\n          }\n        };\n\n        popup.listen('imageLoadComplete', setCurrentThumb);\n        popup.listen('beforeChange', setCurrentThumb);\n      }\n    })\n    .catch((e) => console.error(e));\n  return returnPhotoSwipe;\n};\n\nexport default openPhotoSwipe;\n","import openPhotoSwipe from '../util/open-photoswipe';\n\nfunction ariaToggle(container) {\n  const toggleButtons = container.querySelectorAll('[data-aria-toggle]');\n  if (toggleButtons.length) {\n    toggleButtons.forEach((element) => {\n      element.addEventListener('click', function (event) {\n        event.preventDefault();\n        const currentTarget = event.currentTarget;\n        currentTarget.setAttribute('aria-expanded', currentTarget.getAttribute('aria-expanded') == 'false' ? 'true' : 'false');\n        const toggleID = currentTarget.getAttribute('aria-controls');\n        document.querySelector(`#${toggleID}`).classList.toggle('expanding');\n        setTimeout(function () {\n          document.querySelector(`#${toggleID}`).classList.toggle('expanded');\n        }, 40);\n      });\n    });\n  }\n}\n\nfunction videoPopups(container) {\n  const videoPopups = container.querySelectorAll('[data-video-popup]');\n  if (videoPopups.length) {\n    videoPopups.forEach((element) => {\n      element.addEventListener('click', function (e) {\n        const videoPopupHtml = element.getAttribute('data-video-popup');\n        if (videoPopupHtml.trim() !== '') {\n          e.preventDefault();\n\n          const items = [\n            {\n              html: videoPopupHtml,\n            },\n          ];\n\n          openPhotoSwipe(items);\n        }\n      });\n    });\n  }\n}\n\nfunction lazyImageBackgrounds() {\n  document.addEventListener('lazyloaded', function (e) {\n    const lazyImage = e.target.parentNode;\n    if (lazyImage.classList.contains('lazy-image')) {\n      lazyImage.style.backgroundImage = 'none';\n    }\n  });\n}\n\nexport {lazyImageBackgrounds, videoPopups, ariaToggle};\n","import debounce from '../util/debounce';\n\nfunction dispatch() {\n  document.dispatchEvent(\n    new CustomEvent('theme:resize', {\n      bubbles: true,\n    })\n  );\n}\n\nfunction resizeListener() {\n  window.addEventListener(\n    'resize',\n    debounce(function () {\n      dispatch();\n    }, 50)\n  );\n}\n\nexport default resizeListener;\n","import floatLabels from '../globals/forms';\nimport {setVarsOnResize, setVars} from '../globals/height';\nimport preventOverflow from '../globals/prevent-overflow';\nimport resizeListener from '../globals/resize';\nimport scrollListener from '../globals/scroll';\nimport isTouch from '../util/touch';\nimport {lazyImageBackgrounds, videoPopups, ariaToggle} from '../globals/legacy';\n\nresizeListener();\nscrollListener();\nisTouch();\nlazyImageBackgrounds();\nsetVars();\n\nwindow.addEventListener('load', () => {\n  setVarsOnResize();\n  floatLabels(document);\n  preventOverflow(document);\n  videoPopups(document);\n  ariaToggle(document);\n});\n\ndocument.addEventListener('shopify:section:load', (e) => {\n  const container = e.target;\n  floatLabels(container);\n  preventOverflow(container);\n  videoPopups(container);\n  ariaToggle(document);\n\n  document.dispatchEvent(new CustomEvent('theme:header:update', {bubbles: true}));\n});\n\ndocument.addEventListener('shopify:section:reorder', () => {\n  document.dispatchEvent(new CustomEvent('theme:header:update', {bubbles: true}));\n});\n\ndocument.addEventListener('shopify:section:unload', () => {\n  // When you hide/disable a section, the unload event is fired before the section is actually removed from the DOM\n  // We need a little delay before checking for transparent header to make sure it's already removed from the DOM\n  setTimeout(() => {\n    document.dispatchEvent(new CustomEvent('theme:header:update', {bubbles: true}));\n  }, 200);\n});\n","(function () {\n  function n(n) {\n    var i = window.innerWidth || document.documentElement.clientWidth,\n      r = window.innerHeight || document.documentElement.clientHeight,\n      t = n.getBoundingClientRect();\n    return t.top >= 0 && t.bottom <= r && t.left >= 0 && t.right <= i;\n  }\n  function t(n) {\n    var i = window.innerWidth || document.documentElement.clientWidth,\n      r = window.innerHeight || document.documentElement.clientHeight,\n      t = n.getBoundingClientRect(),\n      u = (t.left >= 0 && t.left <= i) || (t.right >= 0 && t.right <= i),\n      f = (t.top >= 0 && t.top <= r) || (t.bottom >= 0 && t.bottom <= r);\n    return u && f;\n  }\n  function i(n, i) {\n    function r() {\n      var r = t(n);\n      r != u && ((u = r), typeof i == 'function' && i(r, n));\n    }\n    var u = t(n);\n    window.addEventListener('load', r);\n    window.addEventListener('resize', r);\n    window.addEventListener('scroll', r);\n  }\n  function r(t, i) {\n    function r() {\n      var r = n(t);\n      r != u && ((u = r), typeof i == 'function' && i(r, t));\n    }\n    var u = n(t);\n    window.addEventListener('load', r);\n    window.addEventListener('resize', r);\n    window.addEventListener('scroll', r);\n  }\n  window.visibilityHelper = {isElementTotallyVisible: n, isElementPartiallyVisible: t, inViewportPartially: i, inViewportTotally: r};\n})();\n","const showElement = (elem, removeProp = false, prop = 'block') => {\n  if (elem) {\n    if (removeProp) {\n      elem.style.removeProperty('display');\n    } else {\n      elem.style.display = prop;\n    }\n  }\n};\n\nexport default showElement;\n","/**\n * Module to show Recently Viewed Products\n */\nimport showElement from '../util/show-element';\n\nconst selectors = {\n  saleClass: ' is-sale',\n  soldClass: ' is-sold-out',\n  badgeClass: ' product-status-flag--',\n  customBadgeClass: ' product-status-flag--custom',\n  apiContent: '[data-api-content]',\n  productTemplate: '[data-product-template]',\n};\n\nShopify.Products = (function () {\n  const config = {\n    howManyToShow: 4,\n    howManyToStoreInMemory: 10,\n    wrapperId: 'RecentlyViewed',\n    onComplete: null,\n  };\n\n  let productHandleQueue = [];\n  let wrapper = null;\n  let howManyToShowItems = null;\n\n  const cookie = {\n    configuration: {\n      expires: 90,\n      path: '/',\n      domain: window.location.hostname,\n    },\n    name: 'shopify_recently_viewed',\n    write: function (recentlyViewed) {\n      const recentlyViewedString = recentlyViewed.join(' ');\n      document.cookie = `${this.name}=${recentlyViewedString}; expires=${this.configuration.expires}; path=${this.configuration.path}; domain=${this.configuration.domain}`;\n    },\n    read: function () {\n      let recentlyViewed = [];\n      let cookieValue = null;\n      const templateProduct = document.querySelector(selectors.productTemplate);\n\n      if (document.cookie.indexOf('; ') !== -1 && document.cookie.split('; ').find((row) => row.startsWith(this.name))) {\n        cookieValue = document.cookie\n          .split('; ')\n          .find((row) => row.startsWith(this.name))\n          .split('=')[1];\n      }\n\n      if (cookieValue !== null) {\n        recentlyViewed = cookieValue.split(' ');\n      }\n\n      if (templateProduct) {\n        const currentProduct = templateProduct.getAttribute('data-product-handle');\n\n        // Remove current product from the array\n        if (recentlyViewed.indexOf(currentProduct) != -1) {\n          const currentProductIndex = recentlyViewed.indexOf(currentProduct);\n          recentlyViewed.splice(currentProductIndex, 1);\n        }\n      }\n\n      return recentlyViewed;\n    },\n    destroy: function () {\n      const cookieVal = null;\n      document.cookie = `${this.name}=${cookieVal}; expires=${this.configuration.expires}; path=${this.configuration.path}; domain=${this.configuration.domain}`;\n    },\n    remove: function (productHandle) {\n      const recentlyViewed = this.read();\n      const position = recentlyViewed.indexOf(productHandle);\n      if (position !== -1) {\n        recentlyViewed.splice(position, 1);\n        this.write(recentlyViewed);\n      }\n    },\n  };\n\n  const finalize = () => {\n    showElement(wrapper, true);\n    const cookieItemsLength = cookie.read().length;\n\n    if (Shopify.recentlyViewed && howManyToShowItems && cookieItemsLength && cookieItemsLength < howManyToShowItems && wrapper.children.length) {\n      let allClassesArr = [];\n      let addClassesArr = [];\n      let objCounter = 0;\n      for (const property in Shopify.recentlyViewed) {\n        objCounter += 1;\n        const objString = Shopify.recentlyViewed[property];\n        const objArr = objString.split(' ');\n        const propertyIdx = parseInt(property.split('_')[1]);\n        allClassesArr = [...allClassesArr, ...objArr];\n\n        if (cookie.read().length === propertyIdx || (objCounter === Object.keys(Shopify.recentlyViewed).length && !addClassesArr.length)) {\n          addClassesArr = [...addClassesArr, ...objArr];\n        }\n      }\n\n      for (let i = 0; i < wrapper.children.length; i++) {\n        const element = wrapper.children[i];\n        if (allClassesArr.length) {\n          element.classList.remove(...allClassesArr);\n        }\n\n        if (addClassesArr.length) {\n          element.classList.add(...addClassesArr);\n        }\n      }\n    }\n\n    // If we have a callback.\n    if (config.onComplete) {\n      try {\n        config.onComplete();\n      } catch (error) {\n        console.log('error: ', error);\n      }\n    }\n  };\n\n  const moveAlong = (shown) => {\n    if (productHandleQueue.length && shown < config.howManyToShow) {\n      fetch('/products/' + productHandleQueue[0] + '?section_id=api-product-grid-item')\n        .then((response) => response.text())\n        .then((product) => {\n          const fresh = document.createElement('div');\n          fresh.innerHTML = product;\n\n          wrapper.innerHTML += fresh.querySelector(selectors.apiContent).innerHTML;\n\n          productHandleQueue.shift();\n          shown++;\n          moveAlong(shown);\n        })\n        .catch(() => {\n          cookie.remove(productHandleQueue[0]);\n          productHandleQueue.shift();\n          moveAlong(shown);\n        });\n    } else {\n      finalize();\n    }\n  };\n\n  return {\n    showRecentlyViewed: function (params) {\n      const paramsNew = params || {};\n      const shown = 0;\n\n      // Update defaults.\n      Object.assign(config, paramsNew);\n\n      // Read cookie.\n      productHandleQueue = cookie.read();\n\n      // Template and element where to insert.\n      wrapper = document.querySelector(`#${config.wrapperId}`);\n\n      // How many products to show.\n      howManyToShowItems = config.howManyToShow;\n      config.howManyToShow = Math.min(productHandleQueue.length, config.howManyToShow);\n\n      // If we have any to show.\n      if (config.howManyToShow && wrapper) {\n        // Getting each product with an Ajax call and rendering it on the page.\n        moveAlong(shown);\n      }\n    },\n\n    getConfig: function () {\n      return config;\n    },\n\n    clearList: function () {\n      cookie.destroy();\n    },\n\n    recordRecentlyViewed: function (params) {\n      const paramsNew = params || {};\n\n      // Update defaults.\n      Object.assign(config, paramsNew);\n\n      // Read cookie.\n      let recentlyViewed = cookie.read();\n\n      // If we are on a product page.\n      if (window.location.pathname.indexOf('/products/') !== -1) {\n        // What is the product handle on this page.\n        const productHandle = decodeURIComponent(window.location.pathname)\n          .match(\n            /\\/products\\/([a-z0-9\\-]|[\\u3000-\\u303F]|[\\u3040-\\u309F]|[\\u30A0-\\u30FF]|[\\uFF00-\\uFFEF]|[\\u4E00-\\u9FAF]|[\\u2605-\\u2606]|[\\u2190-\\u2195]|[\\u203B]|[\\w\\u0430-\\u044f]|[\\u0400-\\u04FF]|[\\u0900-\\u097F]|[\\u0590-\\u05FF\\u200f\\u200e]|[\\u0621-\\u064A\\u0660-\\u0669 ])+/\n          )[0]\n          .split('/products/')[1];\n        // In what position is that product in memory.\n        const position = recentlyViewed.indexOf(productHandle);\n\n        // If not in memory.\n        if (position === -1) {\n          // Add product at the start of the list.\n          recentlyViewed.unshift(productHandle);\n          // Only keep what we need.\n          recentlyViewed = recentlyViewed.splice(0, config.howManyToStoreInMemory);\n        } else {\n          // Remove the product and place it at start of list.\n          recentlyViewed.splice(position, 1);\n          recentlyViewed.unshift(productHandle);\n        }\n\n        // Update cookie.\n        cookie.write(recentlyViewed);\n      }\n    },\n\n    hasProducts: cookie.read().length > 0,\n  };\n})();\n","/**\n * A11y Helpers\n * -----------------------------------------------------------------------------\n * A collection of useful functions that help make your theme more accessible\n */\n\n/**\n * Moves focus to an HTML element\n * eg for In-page links, after scroll, focus shifts to content area so that\n * next `tab` is where user expects. Used in bindInPageLinks()\n * eg move focus to a modal that is opened. Used in trapFocus()\n *\n * @param {Element} container - Container DOM element to trap focus inside of\n * @param {Object} options - Settings unique to your theme\n * @param {string} options.className - Class name to apply to element on focus.\n */\nexport function forceFocus(element, options) {\n    options = options || {};\n  \n    var savedTabIndex = element.tabIndex;\n  \n    element.tabIndex = -1;\n    element.dataset.tabIndex = savedTabIndex;\n    element.focus();\n    if (typeof options.className !== 'undefined') {\n      element.classList.add(options.className);\n    }\n    element.addEventListener('blur', callback);\n  \n    function callback(event) {\n      event.target.removeEventListener(event.type, callback);\n  \n      element.tabIndex = savedTabIndex;\n      delete element.dataset.tabIndex;\n      if (typeof options.className !== 'undefined') {\n        element.classList.remove(options.className);\n      }\n    }\n  }\n  \n  /**\n   * If there's a hash in the url, focus the appropriate element\n   * This compensates for older browsers that do not move keyboard focus to anchor links.\n   * Recommendation: To be called once the page in loaded.\n   *\n   * @param {Object} options - Settings unique to your theme\n   * @param {string} options.className - Class name to apply to element on focus.\n   * @param {string} options.ignore - Selector for elements to not include.\n   */\n  \n  export function focusHash(options) {\n    options = options || {};\n    var hash = window.location.hash;\n    var element = document.getElementById(hash.slice(1));\n  \n    // if we are to ignore this element, early return\n    if (element && options.ignore && element.matches(options.ignore)) {\n      return false;\n    }\n  \n    if (hash && element) {\n      forceFocus(element, options);\n    }\n  }\n  \n  /**\n   * When an in-page (url w/hash) link is clicked, focus the appropriate element\n   * This compensates for older browsers that do not move keyboard focus to anchor links.\n   * Recommendation: To be called once the page in loaded.\n   *\n   * @param {Object} options - Settings unique to your theme\n   * @param {string} options.className - Class name to apply to element on focus.\n   * @param {string} options.ignore - CSS selector for elements to not include.\n   */\n  \n  export function bindInPageLinks(options) {\n    options = options || {};\n    var links = Array.prototype.slice.call(\n      document.querySelectorAll('a[href^=\"#\"]')\n    );\n\n    function queryCheck (selector) {\n      return document.getElementById(selector) !== null\n    }\n  \n    return links.filter(function(link) {\n      if (link.hash === '#' || link.hash === '') {\n        return false;\n      }\n  \n      if (options.ignore && link.matches(options.ignore)) {\n        return false;\n      }\n\n      if (!queryCheck(link.hash.substr(1))) {\n        return false;\n      }\n  \n      var element = document.querySelector(link.hash);\n  \n      if (!element) {\n        return false;\n      }\n  \n      link.addEventListener('click', function() {\n        forceFocus(element, options);\n      });\n  \n      return true;\n    });\n  }\n  \n  export function focusable(container) {\n    var elements = Array.prototype.slice.call(\n      container.querySelectorAll(\n        '[tabindex],' +\n          '[draggable],' +\n          'a[href],' +\n          'area,' +\n          'button:enabled,' +\n          'input:not([type=hidden]):enabled,' +\n          'object,' +\n          'select:enabled,' +\n          'textarea:enabled'\n      )\n    );\n  \n    // Filter out elements that are not visible.\n    // Copied from jQuery https://github.com/jquery/jquery/blob/2d4f53416e5f74fa98e0c1d66b6f3c285a12f0ce/src/css/hiddenVisibleSelectors.js\n    return elements.filter(function(element) {\n      return !!(\n        element.offsetWidth ||\n        element.offsetHeight ||\n        element.getClientRects().length\n      );\n    });\n  }\n  \n  /**\n   * Traps the focus in a particular container\n   *\n   * @param {Element} container - Container DOM element to trap focus inside of\n   * @param {Element} elementToFocus - Element to be focused on first\n   * @param {Object} options - Settings unique to your theme\n   * @param {string} options.className - Class name to apply to element on focus.\n   */\n  \n  var trapFocusHandlers = {};\n  \n  export function trapFocus(container, options) {\n    options = options || {};\n    var elements = focusable(container);\n    var elementToFocus = options.elementToFocus || container;\n    var first = elements[0];\n    var last = elements[elements.length - 1];\n  \n    removeTrapFocus();\n  \n    trapFocusHandlers.focusin = function(event) {\n      if (container !== event.target && !container.contains(event.target)) {\n        first.focus();\n      }\n  \n      if (\n        event.target !== container &&\n        event.target !== last &&\n        event.target !== first\n      )\n        return;\n      document.addEventListener('keydown', trapFocusHandlers.keydown);\n    };\n  \n    trapFocusHandlers.focusout = function() {\n      document.removeEventListener('keydown', trapFocusHandlers.keydown);\n    };\n  \n    trapFocusHandlers.keydown = function(event) {\n      if (event.keyCode !== 9) return; // If not TAB key\n  \n      // On the last focusable element and tab forward, focus the first element.\n      if (event.target === last && !event.shiftKey) {\n        event.preventDefault();\n        first.focus();\n      }\n  \n      //  On the first focusable element and tab backward, focus the last element.\n      if (\n        (event.target === container || event.target === first) &&\n        event.shiftKey\n      ) {\n        event.preventDefault();\n        last.focus();\n      }\n    };\n  \n    document.addEventListener('focusout', trapFocusHandlers.focusout);\n    document.addEventListener('focusin', trapFocusHandlers.focusin);\n  \n    forceFocus(elementToFocus, options);\n  }\n  \n  /**\n   * Removes the trap of focus from the page\n   */\n  export function removeTrapFocus() {\n    document.removeEventListener('focusin', trapFocusHandlers.focusin);\n    document.removeEventListener('focusout', trapFocusHandlers.focusout);\n    document.removeEventListener('keydown', trapFocusHandlers.keydown);\n  }\n  \n  /**\n   * Add a preventive message to external links and links that open to a new window.\n   * @param {string} elements - Specific elements to be targeted\n   * @param {object} options.messages - Custom messages to overwrite with keys: newWindow, external, newWindowExternal\n   * @param {string} options.messages.newWindow - When the link opens in a new window (e.g. target=\"_blank\")\n   * @param {string} options.messages.external - When the link is to a different host domain.\n   * @param {string} options.messages.newWindowExternal - When the link is to a different host domain and opens in a new window.\n   * @param {object} options.prefix - Prefix to namespace \"id\" of the messages\n   */\n  export function accessibleLinks(elements, options) {\n    if (typeof elements !== 'string') {\n      throw new TypeError(elements + ' is not a String.');\n    }\n  \n    elements = document.querySelectorAll(elements);\n  \n    if (elements.length === 0) {\n      return;\n    }\n  \n    options = options || {};\n    options.messages = options.messages || {};\n  \n    var messages = {\n      newWindow: options.messages.newWindow || 'Opens in a new window.',\n      external: options.messages.external || 'Opens external website.',\n      newWindowExternal:\n        options.messages.newWindowExternal ||\n        'Opens external website in a new window.'\n    };\n  \n    var prefix = options.prefix || 'a11y';\n  \n    var messageSelectors = {\n      newWindow: prefix + '-new-window-message',\n      external: prefix + '-external-message',\n      newWindowExternal: prefix + '-new-window-external-message'\n    };\n  \n    function generateHTML(messages) {\n      var container = document.createElement('ul');\n      var htmlMessages = Object.keys(messages).reduce(function(html, key) {\n        return (html +=\n          '<li id=' + messageSelectors[key] + '>' + messages[key] + '</li>');\n      }, '');\n  \n      container.setAttribute('hidden', true);\n      container.innerHTML = htmlMessages;\n  \n      document.body.appendChild(container);\n    }\n  \n    function externalSite(link) {\n      return link.hostname !== window.location.hostname;\n    }\n  \n    elements.forEach(function(link) {\n      var target = link.getAttribute('target');\n      var rel = link.getAttribute('rel');\n      var isExternal = externalSite(link);\n      var isTargetBlank = target === '_blank';\n      var missingRelNoopener = rel === null || rel.indexOf('noopener') === -1;\n  \n      if (isTargetBlank && missingRelNoopener) {\n        var relValue = rel === null ? 'noopener' : rel + ' noopener';\n        link.setAttribute('rel', relValue);\n      }\n  \n      if (isExternal && isTargetBlank) {\n        link.setAttribute('aria-describedby', messageSelectors.newWindowExternal);\n      } else if (isExternal) {\n        link.setAttribute('aria-describedby', messageSelectors.external);\n      } else if (isTargetBlank) {\n        link.setAttribute('aria-describedby', messageSelectors.newWindow);\n      }\n    });\n  \n    generateHTML(messages);\n  }","const slideUp = (target, duration = 500) => {\n  target.style.transitionProperty = 'all';\n  target.style.transitionDuration = duration + 'ms';\n  target.style.boxSizing = 'border-box';\n  target.style.height = target.offsetHeight + 'px';\n  target.offsetHeight;\n  target.style.overflow = 'hidden';\n  target.style.height = 0;\n  target.style.paddingTop = 0;\n  target.style.paddingBottom = 0;\n  target.style.marginTop = 0;\n  target.style.marginBottom = 0;\n  window.setTimeout(() => {\n    target.style.display = 'none';\n    target.style.removeProperty('height');\n    target.style.removeProperty('padding-top');\n    target.style.removeProperty('padding-bottom');\n    target.style.removeProperty('margin-top');\n    target.style.removeProperty('margin-bottom');\n    target.style.removeProperty('overflow');\n    target.style.removeProperty('transition-duration');\n    target.style.removeProperty('transition-property');\n  }, duration);\n};\n\nexport default slideUp;\n","const slideDown = (target, duration = 500, checkHidden = true) => {\n  let display = window.getComputedStyle(target).display;\n  if (checkHidden && display !== 'none') {\n    return;\n  }\n  target.style.removeProperty('display');\n  if (display === 'none') {\n    display = 'block';\n  }\n  target.style.display = display;\n  let height = target.offsetHeight;\n  target.style.overflow = 'hidden';\n  target.style.height = 0;\n  target.style.paddingTop = 0;\n  target.style.paddingBottom = 0;\n  target.style.marginTop = 0;\n  target.style.marginBottom = 0;\n  target.offsetHeight;\n  target.style.boxSizing = 'border-box';\n  target.style.transitionProperty = 'all';\n  target.style.transitionDuration = duration + 'ms';\n  target.style.height = height + 'px';\n  target.style.removeProperty('padding-top');\n  target.style.removeProperty('padding-bottom');\n  target.style.removeProperty('margin-top');\n  target.style.removeProperty('margin-bottom');\n  window.setTimeout(() => {\n    target.style.removeProperty('height');\n    target.style.removeProperty('overflow');\n    target.style.removeProperty('transition-duration');\n    target.style.removeProperty('transition-property');\n  }, duration);\n};\n\nexport default slideDown;\n","function FetchError(object) {\n  this.status = object.status || null;\n  this.headers = object.headers || null;\n  this.json = object.json || null;\n  this.body = object.body || null;\n}\nFetchError.prototype = Error.prototype;\n\nexport default FetchError;\n","const bgset = (image, imageAspectRatio) => {\n  let bgset = '';\n\n  // Don't use bgset if image is blank\n  if (image.indexOf('blank.gif') != -1) {\n    return image;\n  }\n\n  bgset += image.replace('_1x1.', '_180x.') + ' 180w ' + Math.round(180 / imageAspectRatio) + 'h,';\n  bgset += image.replace('_1x1.', '_240x.') + ' 240w ' + Math.round(240 / imageAspectRatio) + 'h,';\n  bgset += image.replace('_1x1.', '_360x.') + ' 360w ' + Math.round(360 / imageAspectRatio) + 'h,';\n  bgset += image.replace('_1x1.', '_540x.') + ' 540w ' + Math.round(540 / imageAspectRatio) + 'h,';\n  bgset += image.replace('_1x1.', '_720x.') + ' 720w ' + Math.round(720 / imageAspectRatio) + 'h,';\n  bgset += image.replace('_1x1.', '_900x.') + ' 900w ' + Math.round(900 / imageAspectRatio) + 'h,';\n  bgset += image.replace('_1x1.', '_1080x.') + ' 1080w ' + Math.round(1080 / imageAspectRatio) + 'h,';\n  bgset += image.replace('_1x1.', '_1296x.') + ' 1296w ' + Math.round(1296 / imageAspectRatio) + 'h,';\n  bgset += image.replace('_1x1.', '_1512x.') + ' 1512w ' + Math.round(1512 / imageAspectRatio) + 'h,';\n  bgset += image.replace('_1x1.', '_1728x.') + ' 1728w ' + Math.round(1728 / imageAspectRatio) + 'h,';\n  bgset += image.replace('_1x1.', '_1950x.') + ' 1950w ' + Math.round(1950 / imageAspectRatio) + 'h,';\n  bgset += image + ' 2048w ' + Math.round(2048 / imageAspectRatio) + 'h';\n\n  return bgset;\n};\n\nexport default bgset;\n","const selectors = {\n  quantityHolder: '[data-quantity-holder]',\n  quantityField: '[data-quantity-field]',\n  quantityButton: '[data-quantity-button]',\n  quantityMinusButton: '[data-quantity-minus]',\n  quantityPlusButton: '[data-quantity-plus]',\n  quantityReadOnly: 'read-only',\n  isDisabled: 'is-disabled',\n};\n\nclass QuantityCounter {\n  constructor(holder, inCart = false) {\n    this.holder = holder;\n    this.quantityUpdateCart = inCart;\n  }\n\n  init() {\n    // Settings\n    this.settings = selectors;\n\n    // DOM Elements\n    this.quantity = this.holder.querySelector(this.settings.quantityHolder);\n    this.field = this.quantity.querySelector(this.settings.quantityField);\n    this.buttons = this.quantity.querySelectorAll(this.settings.quantityButton);\n    this.increaseButton = this.quantity.querySelector(this.settings.quantityPlusButton);\n\n    // Set value or classes\n    this.quantityValue = Number(this.field.value || 0);\n    this.cartItemID = this.field.getAttribute('data-id');\n    this.maxValue = Number(this.field.getAttribute('max')) > 0 ? Number(this.field.getAttribute('max')) : null;\n    this.minValue = Number(this.field.getAttribute('min')) > 0 ? Number(this.field.getAttribute('min')) : 0;\n    this.disableIncrease = this.disableIncrease.bind(this);\n\n    // Flags\n    this.emptyField = false;\n\n    // Methods\n    this.updateQuantity = this.updateQuantity.bind(this);\n    this.decrease = this.decrease.bind(this);\n    this.increase = this.increase.bind(this);\n\n    this.disableIncrease();\n\n    // Events\n    if (!this.quantity.classList.contains(this.settings.quantityReadOnly)) {\n      this.changeValueOnClick();\n      this.changeValueOnInput();\n    }\n  }\n\n  /**\n   * Change field value when click on quantity buttons\n   *\n   * @return  {Void}\n   */\n\n  changeValueOnClick() {\n    const that = this;\n\n    this.buttons.forEach((element) => {\n      element.addEventListener('click', (event) => {\n        event.preventDefault();\n        const clickedElement = event.target;\n        const isDescrease = clickedElement.matches(that.settings.quantityMinusButton) || clickedElement.closest(that.settings.quantityMinusButton);\n        const isIncrease = clickedElement.matches(that.settings.quantityPlusButton) || clickedElement.closest(that.settings.quantityPlusButton);\n\n        if (isDescrease) {\n          that.decrease();\n        }\n\n        if (isIncrease) {\n          that.increase();\n        }\n\n        that.updateQuantity();\n      });\n    });\n  }\n\n  /**\n   * Change field value when input new value in a field\n   *\n   * @return  {Void}\n   */\n\n  changeValueOnInput() {\n    const that = this;\n\n    this.field.addEventListener(\n      'input',\n      function () {\n        that.quantityValue = this.value;\n\n        if (this.value === '') {\n          that.emptyField = true;\n        }\n\n        that.updateQuantity();\n      },\n      this\n    );\n  }\n\n  /**\n   * Update field value\n   *\n   * @return  {Void}\n   */\n\n  updateQuantity() {\n    if (this.maxValue < this.quantityValue && this.maxValue !== null) {\n      this.quantityValue = this.maxValue;\n    }\n\n    if (this.minValue > this.quantityValue) {\n      this.quantityValue = this.minValue;\n    }\n\n    this.field.value = this.quantityValue;\n\n    this.disableIncrease();\n\n    document.dispatchEvent(new CustomEvent('popout:updateValue'));\n\n    if (this.quantityUpdateCart) {\n      this.updateCart();\n    }\n  }\n\n  /**\n   * Decrease value\n   *\n   * @return  {Void}\n   */\n\n  decrease() {\n    if (this.quantityValue > this.minValue) {\n      this.quantityValue--;\n\n      return;\n    }\n\n    this.quantityValue = 0;\n  }\n\n  /**\n   * Increase value\n   *\n   * @return  {Void}\n   */\n\n  increase() {\n    this.quantityValue++;\n  }\n\n  /**\n   * Disable increase\n   *\n   * @return  {[type]}  [return description]\n   */\n\n  disableIncrease() {\n    this.increaseButton.classList.toggle(this.settings.isDisabled, this.quantityValue >= this.maxValue && this.maxValue !== null);\n  }\n\n  /**\n   * Update cart\n   *\n   * @return  {Void}\n   */\n\n  updateCart() {\n    const event = new CustomEvent('cart:update', {\n      bubbles: true,\n      detail: {\n        id: this.cartItemID,\n        quantity: this.quantityValue,\n        valueIsEmpty: this.emptyField,\n      },\n    });\n\n    this.holder.dispatchEvent(event);\n  }\n}\n\nexport default QuantityCounter;\n","import {formatMoney} from '@shopify/theme-currency';\nimport * as Sqrl from 'squirrelly';\nimport * as a11y from '../vendor/theme-scripts/theme-a11y';\nimport slideUp from '../util/slide-up';\nimport slideDown from '../util/slide-down';\nimport debounce from '../util/debounce';\nimport FetchError from '../util/fetch-error';\nimport bgset from '../features/background-set';\n\nimport QuantityCounter from './quantity-handle';\n\nconst settings = {\n  dimensions: {\n    maxSize: 100,\n  },\n  times: {\n    timeoutAddProduct: 1000,\n    closeDropdownAfter: 5000,\n  },\n  classes: {\n    template: 'template-cart',\n    hidden: 'is-hidden',\n    cartVisible: 'cart--is-visible',\n    open: 'is-open',\n    focused: 'is-focused',\n    visible: 'is-visible',\n    loading: 'is-loading',\n    disabled: 'is-disabled',\n    success: 'product__form-submit--success',\n    defaultSuccess: 'is-success',\n    cartEmpty: 'cartToggle--empty',\n    isAdded: 'is-added',\n  },\n  attributes: {\n    expanded: 'aria-expanded',\n    disabled: 'disabled',\n    dataId: 'data-id',\n  },\n  elements: {\n    apiContent: '[data-api-content]',\n    html: 'html',\n    button: 'button',\n    buttonAddToCart: '[data-add-to-cart]',\n    buttonAddToCartText: '[data-add-to-cart-text]',\n    buttonHolder: '[data-foot-holder]',\n    buttonUpdateCart: '[data-update-cart]',\n    cart: '[data-cart]',\n    cartContainer: '[data-cart-container]',\n    cartTemplate: '[data-cart-template]',\n    cartToggleElement: '[data-cart-toggle]',\n    cartClose: '[data-cart-close]',\n    cartItemRemove: '[data-item-remove]',\n    cartItemsCount: '[data-cart-items-count]',\n    cartTotal: '[data-cart-total]',\n    cartErrors: '[data-cart-errors]',\n    cartCloseError: '[data-cart-error-close]',\n    cartOriginalTotal: '[data-cart-original-total]',\n    cartOriginaTotalPrice: '[data-cart-original-total-price]',\n    cartDiscountsHolder: '[data-cart-discounts-holder]',\n    cartAcceptanceCheckbox: '[data-cart-acceptance-checkbox]',\n    cartButtons: '[data-cart-buttons]',\n    cartButtonsFieldset: '[data-cart-buttons-fieldset]',\n    cartFormError: '[data-cart-error]',\n    cartMessage: 'data-cart-message',\n    continueBtn: '[data-continue]',\n    emptyMessage: '[data-empty-message]',\n    errorMessage: '[data-error-message]',\n    freeMessageLimit: 'data-limit',\n    input: 'input',\n    item: '[data-item]',\n    itemsHolder: '[data-items-holder]',\n    leftToSpend: '[data-left-to-spend]',\n    popover: '[data-popover]',\n    popoverTemplate: '[data-popover-template]',\n    progressBar: '[data-cart-bar-progress]',\n    qty: '[data-quantity-field]',\n    quickAddHolder: '[data-quick-add-holder]',\n  },\n  formatMoney: moneyFormat,\n  cartTotalDiscountsTemplate: '[data-cart-total-discount]',\n};\n\nclass CartDrawer {\n  constructor() {\n    if (window.location.pathname === '/password') {\n      return;\n    }\n\n    this.init();\n  }\n\n  init() {\n    // DOM Elements\n    this.html = document.querySelector(settings.elements.html);\n    this.body = document.body;\n\n    this.defineSelectors();\n    this.accessibility = a11y;\n    this.ajaxEnabled = theme.settings.enableAjaxCart;\n    this.popoverTimer = '';\n    this.scrollLockTimeout = 0;\n    this.cartFocusTimeout = 0;\n    this.form = null;\n    this.cartItemsCount = document.querySelector(settings.elements.cartItemsCount);\n\n    // Flags\n    this.cartDrawerIsOpen = false;\n    this.cartDiscounts = 0;\n    this.cartLimitErrorIsHidden = true;\n\n    // Cart events\n    this.openCartDrawer = this.openCartDrawer.bind(this);\n    this.closeCartDrawer = this.closeCartDrawer.bind(this);\n    this.toggleCartDrawer = this.toggleCartDrawer.bind(this);\n    this.cartKeyUpEvent = this.cartKeyUpEvent.bind(this);\n\n    if (this.ajaxEnabled) {\n      this.eventToggleCart();\n    }\n\n    this.initDefaultCartEvents();\n    this.addProductEvent();\n  }\n\n  /**\n   * Render cart and define all elements after cart drawer is open for a first time\n   *\n   * @return  {Void}\n   */\n  renderCart() {\n    // Append cart template html to the cart drawer\n    this.cartContainer.innerHTML = document.querySelector(settings.elements.cartTemplate).innerHTML;\n    this.totalItems = this.items.length;\n\n    this.defineSelectors();\n    this.initDefaultCartEvents();\n\n    this.getCart();\n  }\n\n  /**\n   * Define cart selectors\n   *\n   * @return  {Void}\n   */\n  defineSelectors() {\n    this.cartContainer = document.querySelector(settings.elements.cartContainer);\n    this.cartTemplate = document.querySelector(settings.elements.cartTemplate);\n    this.popover = document.querySelector(settings.elements.popover);\n    this.popoverTemplate = document.querySelector(settings.elements.popoverTemplate).innerHTML;\n    this.cart = document.querySelector(settings.elements.cart);\n    this.emptyMessage = document.querySelector(settings.elements.emptyMessage);\n    this.buttonHolder = document.querySelector(settings.elements.buttonHolder);\n    this.itemsHolder = document.querySelector(settings.elements.itemsHolder);\n    this.items = document.querySelectorAll(settings.elements.item);\n    this.cartToggle = document.querySelector(settings.elements.cartToggleElement);\n    this.continueBtns = document.querySelectorAll(settings.elements.continueBtn);\n    this.cartTotal = document.querySelector(settings.elements.cartTotal);\n    this.cartOriginalTotal = document.querySelector(settings.elements.cartOriginalTotal);\n    this.cartOriginaTotalPrice = document.querySelector(settings.elements.cartOriginaTotalPrice);\n    this.cartDiscountHolder = document.querySelector(settings.elements.cartDiscountsHolder);\n    this.cartTotalDiscountTemplate = document.querySelector(settings.cartTotalDiscountsTemplate).innerHTML;\n    this.cartErrorHolder = document.querySelector(settings.elements.cartErrors);\n    this.cartClose = document.querySelector(settings.elements.cartClose);\n    this.cartCloseErrorMessage = document.querySelector(settings.elements.cartCloseError);\n    this.cartAcceptanceCheckbox = document.querySelector(settings.elements.cartAcceptanceCheckbox);\n    this.cartMessage = document.querySelector(`[${settings.elements.cartMessage}]`);\n    this.progressBar = document.querySelector(settings.elements.progressBar);\n    this.leftToSpend = document.querySelector(settings.elements.leftToSpend);\n  }\n\n  /**\n   * Init default cart events\n   *\n   * @return  {Void}\n   */\n  initDefaultCartEvents() {\n    // Cart Events\n    if (this.ajaxEnabled) {\n      this.cartEvents();\n      this.customEventAddProduct();\n    } else if (this.items.length) {\n      this.noAjaxUpdate();\n    }\n\n    // Init quantity for fields\n    this.initQuantity(this.ajaxEnabled);\n\n    if (this.cartMessage) {\n      this.cartFreeLimitShipping = Number(this.cartMessage.getAttribute(settings.elements.freeMessageLimit));\n\n      this.cartBarProgress();\n    }\n  }\n\n  /**\n   * Init quantity field functionality\n   *\n   * @return  {Void}\n   */\n\n  initQuantity(ajax) {\n    this.items = document.querySelectorAll(settings.elements.item);\n\n    this.items.forEach((item) => {\n      const initQuantity = new QuantityCounter(item, true);\n\n      initQuantity.init();\n      if (ajax) {\n        this.customEventsHandle(item);\n      }\n    });\n  }\n\n  noAjaxUpdate() {\n    const updateBtn = this.buttonHolder.querySelector(settings.elements.buttonUpdateCart);\n    updateBtn.addEventListener('click', (e) => {\n      e.preventDefault();\n      this.items.forEach((item) => {\n        const qty = item.querySelector(`input[${settings.attributes.dataId}]`);\n        this.updateCart({\n          id: qty.getAttribute(settings.attributes.dataId),\n          quantity: qty.value,\n        });\n      });\n    });\n  }\n\n  /**\n   * Custom event who change the cart\n   *\n   * @return  {Void}\n   */\n\n  customEventsHandle(holder) {\n    holder.addEventListener(\n      'cart:update',\n      debounce((event) => {\n        this.updateCart(\n          {\n            id: event.detail.id,\n            quantity: event.detail.quantity,\n          },\n          holder,\n          event.detail.valueIsEmpty\n        );\n      }, 500)\n    );\n  }\n\n  /**\n   *  Custom event for add product to the cart\n   */\n  customEventAddProduct() {\n    document.addEventListener(\n      'cart:add-item',\n      debounce((event) => {\n        this.cartToggle.classList.add(settings.classes.isAdded);\n        setTimeout(() => {\n          this.cartToggle.classList.remove(settings.classes.isAdded);\n        }, 800);\n      }, 500)\n    );\n  }\n\n  /**\n   * Cart events\n   *\n   * @return  {Void}\n   */\n\n  cartEvents() {\n    const cartItemRemove = document.querySelectorAll(settings.elements.cartItemRemove);\n\n    if (cartItemRemove) {\n      cartItemRemove.forEach((item) => {\n        item.addEventListener('click', (event) => {\n          event.preventDefault();\n          event.target.closest(settings.elements.item).classList.add(settings.classes.loading);\n\n          this.updateCart({\n            id: item.getAttribute(settings.attributes.dataId),\n            quantity: 0,\n          });\n        });\n      });\n    }\n\n    if (this.cartCloseErrorMessage) {\n      this.cartCloseErrorMessage.addEventListener('click', (event) => {\n        event.preventDefault();\n\n        slideUp(this.cartErrorHolder, 400);\n      });\n    }\n\n    // Continue Shopping Button\n    if (this.continueBtns) {\n      this.continueBtns.forEach((continueBtn) => {\n        continueBtn.addEventListener('click', (e) => {\n          const referrer = document.referrer;\n          const origin = window.location.origin + '/';\n          const windowWidth = window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth;\n          const notMobile = windowWidth > theme.sizes.small;\n\n          e.preventDefault();\n\n          if (notMobile && !(window.location.href.indexOf('/cart') > -1)) {\n            this.closeCartDrawer();\n          } else if (referrer === origin) {\n            window.location.href = theme.routes.root_url;\n          } else {\n            history.back(1);\n          }\n        });\n      });\n    }\n\n    // Close Cart Button\n    if (this.cartClose) {\n      this.cartClose.addEventListener('click', this.closeCartDrawer);\n    }\n\n    // Esc key close cart dropdown and popover\n    if (this.cartContainer) {\n      this.cartContainer.addEventListener('keyup', this.cartKeyUpEvent);\n    }\n\n    // Terms and conditions checkbox listener\n    if (this.cartAcceptanceCheckbox) {\n      this.cart.addEventListener('click', (event) => {\n        const clickedElement = event.target;\n        const isCartButtons = clickedElement.matches(settings.elements.cartButtons) || clickedElement.closest(settings.elements.cartButtons);\n        if (isCartButtons) {\n          this.termsAcceptance(event);\n        }\n      });\n      this.cartAcceptanceCheckbox.addEventListener('change', (event) => this.termsAcceptance(event));\n\n      if (this.cartAcceptanceCheckbox.checked === false) {\n        this.cart.querySelector(settings.elements.cartButtonsFieldset).setAttribute(settings.attributes.disabled, true);\n      }\n    }\n  }\n\n  cartKeyUpEvent(e) {\n    const key = e.which || e.keyCode;\n\n    if (key === theme.keyboardKeys.ESCAPE && this.cartDrawerIsOpen) {\n      this.closeCartDrawer();\n      this.popoverHide();\n    }\n  }\n\n  /**\n   * Disable checkout if terms not accepted\n   *\n   * @return  {Void}\n   */\n\n  termsAcceptance(event) {\n    const termsNotAccepted = this.cartAcceptanceCheckbox.checked === false;\n    const cartFormError = this.cart.querySelector(settings.elements.cartFormError);\n    const cartButtonsFieldset = this.cart.querySelector(settings.elements.cartButtonsFieldset);\n\n    // Disable form submit if terms and conditions are not accepted\n    if (termsNotAccepted) {\n      event.preventDefault();\n      cartButtonsFieldset.setAttribute(settings.attributes.disabled, true);\n      slideDown(cartFormError);\n    } else {\n      cartButtonsFieldset.removeAttribute(settings.attributes.disabled);\n      slideUp(cartFormError);\n    }\n  }\n\n  /**\n   * Cart Popover\n   *\n   * @return  {Void}\n   */\n\n  renderPopover(product, qty) {\n    let item = {};\n    let prodImg = theme.assets.no_image;\n    let unitPrice = '';\n    const price = formatMoney(product.final_price, settings.formatMoney);\n    const sellingPlanName = product.selling_plan_allocation ? product.selling_plan_allocation.selling_plan.name : null;\n    let properties = '';\n\n    // Unit price\n    if (product.unit_price_measurement) {\n      unitPrice = `${formatMoney(product.unit_price, settings.formatMoney)} `;\n      if (product.unit_price_measurement.reference_value != 1) {\n        unitPrice += product.unit_price_measurement.reference_value;\n      }\n      unitPrice += product.unit_price_measurement.reference_unit;\n    }\n\n    // Product image\n    if (product.image != null) {\n      prodImg = bgset(product.image.replace(/(\\.[^.]*)$/, '_1x1$1').replace('http:', ''), product.featured_image.aspect_ratio);\n    }\n\n    // Properties\n    if (product.properties) {\n      for (const property in product.properties) {\n        if ({}.hasOwnProperty.call(product.properties, property)) {\n          properties += '<p>' + property + ': ' + product.properties[property] + '</p>';\n        }\n      }\n    }\n\n    item = {\n      item_count: qty,\n      img: prodImg,\n      product_title: product.product_title,\n      variation: product.product_has_only_default_variant ? false : product.variant_title,\n      selling_plan_name: sellingPlanName,\n      properties: properties,\n      price: product.price,\n      price_formatted: price,\n      unit_price: unitPrice,\n    };\n\n    return Sqrl.render(this.popoverTemplate, item);\n  }\n\n  popoverShow(product, quantity) {\n    this.popover.innerHTML = this.renderPopover(product, quantity);\n    this.popover.classList.add(settings.classes.visible);\n\n    // clear popover timer, set at top of Cart object\n    clearTimeout(this.popoverTimer);\n\n    // set new instace of popoverTimer\n    this.popoverTimer = setTimeout(() => {\n      this.popoverHide();\n    }, settings.times.closeDropdownAfter);\n  }\n\n  popoverHide() {\n    this.popover.classList.remove(settings.classes.visible);\n    setTimeout(() => {\n      this.popover.innerHtml = '';\n    }, 300);\n  }\n\n  /**\n   * Cart event add product to cart\n   *\n   * @return  {Void}\n   */\n\n  addProductEvent() {\n    document.addEventListener('click', (event) => {\n      if (event.target.matches(settings.elements.buttonAddToCart)) {\n        event.preventDefault();\n        const button = event.target;\n\n        if (button.hasAttribute(settings.attributes.disabled)) {\n          return;\n        }\n\n        button.setAttribute(settings.attributes.disabled, true);\n        this.form = button.closest('form');\n        const quantity = this.form.querySelector(settings.elements.qty).value;\n        let formData = new FormData(this.form);\n        formData = new URLSearchParams(formData).toString();\n\n        if (this.form.querySelector('[type=\"file\"]')) {\n          return;\n        }\n\n        this.addToCart(formData, null, button, quantity);\n\n        document.dispatchEvent(\n          new CustomEvent('cart:add-item', {\n            bubbles: true,\n            detail: {\n              selector: button,\n            },\n          })\n        );\n      }\n    });\n  }\n\n  /**\n   * Get response from the cart\n   *\n   * @return  {Void}\n   */\n\n  getCart() {\n    fetch('/cart.js')\n      .then(this.handleErrors)\n      .then((response) => response.json())\n      .then((response) => {\n        this.updateCounter(response.item_count);\n\n        if (this.cart !== null) {\n          this.newTotalItems = response.items.length;\n\n          this.buildTotalPrice(response);\n          this.subtotal = response.total_price;\n        }\n\n        return fetch('/cart?section_id=api-cart-items');\n      })\n      .then((response) => response.text())\n      .then((response) => {\n        this.build(response);\n\n        if (this.cartMessage) {\n          this.cartBarProgress();\n        }\n      })\n      .catch((error) => console.log(error));\n  }\n\n  /**\n   * Add item(s) to the cart and show the added item(s)\n   *\n   * @param   {String}  data\n   * @param   {DOM Element}  quickAddHolder\n   * @param   {DOM Element}  button\n   *\n   * @return  {Void}\n   */\n\n  addToCart(data, quickAddHolder = null, button = null, quantity = 1) {\n    fetch('/cart/add.js', {\n      method: 'POST',\n      headers: {\n        'X-Requested-With': 'XMLHttpRequest',\n        'Content-Type': 'application/x-www-form-urlencoded',\n      },\n      body: data,\n    })\n      .then((response) => response.json())\n      .then((response) => {\n        if (response.status) {\n          if (quickAddHolder !== null) {\n            this.addToCartError(response, quickAddHolder.element, button);\n          } else {\n            this.addToCartError(response, null, button);\n          }\n\n          return;\n        }\n\n        if (this.ajaxEnabled) {\n          this.cart !== null ? this.getCart() : this.renderCart();\n\n          if (button) {\n            button.classList.remove(settings.classes.loading);\n            button.classList.add(settings.classes.success);\n          }\n\n          setTimeout(() => {\n            if (button !== null) {\n              button.removeAttribute(settings.attributes.disabled);\n              button.classList.remove(settings.classes.success);\n            }\n\n            const windowWidth = window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth;\n\n            if (windowWidth >= theme.sizes.mobile) {\n              this.popoverShow(response, quantity);\n            }\n          }, settings.times.timeoutAddProduct);\n        } else {\n          window.location.href = theme.routes.cart_url;\n        }\n      })\n      .catch((error) => console.log(error));\n  }\n\n  /**\n   * Update cart\n   *\n   * @param   {Object}  updateData\n   *\n   * @return  {Void}\n   */\n\n  updateCart(updateData = {}, holder = null, valueIsEmpty = false) {\n    let newCount = null;\n    let oldCount = null;\n    let newItem = null;\n    let settedQuantity = updateData.quantity;\n\n    if (holder !== null) {\n      holder.closest(settings.elements.item).classList.add(settings.classes.loading);\n    }\n\n    this.items.forEach((item) => {\n      item.classList.add(settings.classes.disabled);\n      item.querySelector(settings.elements.input).setAttribute(settings.attributes.disabled, true);\n      item.querySelector(settings.elements.input).blur();\n      item.querySelectorAll(settings.elements.button).forEach((button) => {\n        button.setAttribute(settings.attributes.disabled, true);\n      });\n    });\n\n    fetch('/cart.js')\n      .then(this.handleErrors)\n      .then((response) => response.json())\n      .then((response) => {\n        const matchKeys = (item) => item.key === updateData.id;\n        const index = response.items.findIndex(matchKeys);\n        oldCount = response.item_count;\n        newItem = response.items[index].title;\n\n        const data = {\n          line: `${index + 1}`,\n          quantity: settedQuantity,\n        };\n\n        return fetch('/cart/change.js', {\n          method: 'post',\n          headers: {'Content-Type': 'application/json'},\n          body: JSON.stringify(data),\n        });\n      })\n      .then(this.handleErrors)\n      .then((response) => response.json())\n      .then((response) => {\n        newCount = response.item_count;\n\n        if (valueIsEmpty) {\n          settedQuantity = 1;\n        }\n\n        if (this.ajaxEnabled) {\n          if (settedQuantity !== 0) {\n            this.cartLimitErrorIsHidden = newCount !== oldCount;\n\n            this.toggleLimitError(newItem);\n          }\n\n          this.updateCounter(newCount);\n\n          // Change the cart total and hide message if missing discounts and the changed product is not deleted\n          this.buildTotalPrice(response);\n          this.cartDiscounts = response.total_discount;\n\n          // Build cart again if the quantity of the changed product is 0 or cart discounts are changed\n          this.subtotal = response.total_price;\n\n          if (this.cartMessage) {\n            this.cartBarProgress();\n          }\n\n          this.getCart();\n        } else {\n          const form = this.buttonHolder.closest('form');\n          response.items.forEach((item) => {\n            if (item.key === updateData.id) {\n              form.querySelector(`[${settings.attributes.dataId}=\"${item.key}\"]`).value = item.quantity;\n            }\n          });\n          form.submit();\n        }\n      })\n      .catch((error) => console.log(error));\n  }\n\n  /**\n   * Show/hide limit error\n   *\n   * @param   {String}  itemTitle\n   *\n   * @return  {Void}\n   */\n\n  toggleLimitError(itemTitle) {\n    this.cartErrorHolder.querySelector(settings.elements.errorMessage).innerText = itemTitle;\n\n    if (this.cartLimitErrorIsHidden) {\n      slideUp(this.cartErrorHolder, 400);\n    } else {\n      slideDown(this.cartErrorHolder, 400);\n    }\n  }\n\n  /**\n   * Handle errors\n   *\n   * @param   {Object}  response\n   *\n   * @return  {Object}\n   */\n\n  handleErrors(response) {\n    if (!response.ok) {\n      return response.json().then(function (json) {\n        const e = new FetchError({\n          status: response.statusText,\n          headers: response.headers,\n          json: json,\n        });\n        throw e;\n      });\n    }\n    return response;\n  }\n\n  /**\n   * Add to cart error handle\n   *\n   * @param   {Object}  data\n   * @param   {DOM Element/Null} quickAddHolder\n   * @param   {DOM Element/Null} button\n   *\n   * @return  {Void}\n   */\n\n  addToCartError(data, quickAddHolder, button) {\n    if (!this.ajaxEnabled) {\n      return;\n    }\n    let errorContainer = this.popover;\n\n    if (button !== null) {\n      const addToCartText = button.querySelector(settings.elements.buttonAddToCartText);\n      addToCartText.textContent = theme.translations.form_submit_error;\n      button.setAttribute(settings.attributes.disabled, settings.attributes.disabled);\n\n      setTimeout(() => {\n        button.removeAttribute(settings.attributes.disabled);\n        addToCartText.textContent = theme.translations.form_submit; // swap it back\n      }, 1000);\n    }\n\n    clearTimeout(this.popoverTimer);\n\n    if (errorContainer) {\n      errorContainer.innerHTML = `<div class=\"popover-error\">${data.message}: ${data.description}</div>`;\n\n      errorContainer.classList.add(settings.classes.visible);\n    }\n\n    if (quickAddHolder) {\n      this.html.dispatchEvent(\n        new CustomEvent('cart:add-to-error', {\n          bubbles: true,\n          detail: {\n            message: data.message,\n            description: data.description,\n            holder: quickAddHolder,\n          },\n        })\n      );\n    }\n\n    this.popoverTimer = setTimeout(() => {\n      errorContainer.classList.remove(settings.classes.visible);\n    }, settings.times.closeDropdownAfter);\n  }\n\n  /**\n   * Open cart dropdown and add class on body\n   *\n   * @return  {Void}\n   */\n\n  openCartDrawer() {\n    this.popoverHide();\n\n    if (this.cart === null) {\n      this.renderCart();\n    }\n\n    document.dispatchEvent(\n      new CustomEvent('theme:drawer:close', {\n        bubbles: false,\n      })\n    );\n\n    document.dispatchEvent(new CustomEvent('theme:scroll:lock', {bubbles: true, detail: this.cart}));\n\n    this.setCartClosePosition();\n    this.body.classList.add(settings.classes.cartVisible);\n    this.cart.classList.add(settings.classes.open);\n    this.cartToggle.setAttribute(settings.attributes.expanded, true);\n    this.accessibility.removeTrapFocus();\n    this.cartDrawerIsOpen = true;\n\n    // Reset cart focus timeout\n    if (this.cartFocusTimeout) {\n      clearTimeout(this.cartFocusTimeout);\n    }\n\n    // Focus first clickable element after drawer animation completes\n    this.cartFocusTimeout = setTimeout(() => {\n      this.accessibility.trapFocus(this.cart, {\n        elementToFocus: this.cart.querySelector('a, button, input'),\n      });\n    }, 500);\n  }\n\n  /**\n   * Close cart dropdown and remove class on body\n   *\n   * @return  {Void}\n   */\n\n  closeCartDrawer() {\n    this.cartDrawerIsOpen = false;\n    document.dispatchEvent(\n      new CustomEvent('theme:cart-close', {\n        bubbles: true,\n      })\n    );\n\n    this.accessibility.removeTrapFocus();\n\n    slideUp(this.cartErrorHolder, 400);\n\n    if (this.body.classList.contains(settings.classes.focused)) {\n      const button = document.querySelector(`${settings.elements.cartToggleElement}`);\n\n      setTimeout(() => {\n        button.focus();\n      }, 200);\n    }\n\n    this.body.classList.remove(settings.classes.cartVisible);\n    this.cart.classList.remove(settings.classes.open);\n    this.cartToggle.setAttribute(settings.attributes.expanded, false);\n    this.popoverHide();\n\n    if (this.scrollLockTimeout) {\n      clearTimeout(this.scrollLockTimeout);\n    }\n\n    // Unlock body scroll after animation completed to prevent content shifting\n    this.scrollLockTimeout = setTimeout(() => {\n      document.dispatchEvent(new CustomEvent('theme:scroll:unlock', {bubbles: true}));\n    }, 500);\n  }\n\n  /**\n   * Toggle cart dropdown\n   *\n   * @return  {Void}\n   */\n\n  toggleCartDrawer() {\n    if (this.body.classList.contains(settings.classes.template)) {\n      return;\n    }\n\n    this.cartDrawerIsOpen ? this.closeCartDrawer() : this.openCartDrawer();\n  }\n\n  /**\n   * Event click to element to open cart dropdown\n   *\n   * @return  {Void}\n   */\n\n  eventToggleCart() {\n    document.addEventListener('click', (event) => {\n      const clickedElement = event.target;\n      const windowWidth = window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth;\n      const isCartToggle = clickedElement.matches(settings.elements.cartToggleElement) || clickedElement.closest(settings.elements.cartToggleElement);\n      const isPopover = clickedElement.matches(settings.elements.popover) || clickedElement.closest(settings.elements.popover);\n\n      if (windowWidth > theme.sizes.small) {\n        if (isCartToggle || isPopover) {\n          this.toggleCartDrawer();\n          event.preventDefault();\n        }\n      }\n    });\n  }\n\n  /**\n   * Toggle classes on different containers and messages\n   *\n   * @return  {Void}\n   */\n\n  toggleClassesOnContainers() {\n    this.emptyMessage.classList.toggle(settings.classes.hidden, this.hasItemsInCart());\n    this.buttonHolder.classList.toggle(settings.classes.hidden, !this.hasItemsInCart());\n    this.itemsHolder.classList.toggle(settings.classes.hidden, !this.hasItemsInCart());\n  }\n\n  /**\n   * Build cart depends on results\n   *\n   * @param   {Object}  data\n   *\n   * @return  {Void}\n   */\n\n  build(data) {\n    if (this.cart === null) {\n      this.renderCart();\n      return;\n    }\n\n    if (this.totalItems !== this.newTotalItems) {\n      this.totalItems = this.newTotalItems;\n\n      this.toggleClassesOnContainers();\n    }\n\n    const fresh = document.createElement('div');\n    fresh.innerHTML = data;\n    this.itemsHolder.innerHTML = fresh.querySelector(settings.elements.apiContent).innerHTML;\n\n    this.cartEvents();\n    this.initQuantity(this.ajaxEnabled);\n  }\n\n  /**\n   * Update cart count\n   *\n   * @param   {Number}  countItems\n   *\n   * @return  {Void}\n   */\n\n  updateCounter(countItems) {\n    if (countItems > 0) {\n      this.cartToggle.classList.remove(settings.classes.cartEmpty);\n    } else {\n      this.cartToggle.classList.add(settings.classes.cartEmpty);\n    }\n\n    // Update cart icon counter\n    if (this.cartItemsCount) {\n      this.cartItemsCount.innerText = countItems < 10 ? countItems : '9+';\n    }\n  }\n\n  /**\n   * Check for items in the cart\n   *\n   * @return  {Void}\n   */\n\n  hasItemsInCart() {\n    return this.totalItems > 0;\n  }\n\n  /**\n   * Build total cart total price\n   *\n   * @param   {Object}  data\n   *\n   * @return  {Void}\n   */\n\n  buildTotalPrice(data) {\n    if (this.cart !== null) {\n      if (data.original_total_price > data.total_price && data.cart_level_discount_applications.length > 0) {\n        this.cartOriginalTotal.classList.remove(settings.classes.hidden);\n        this.cartOriginaTotalPrice.innerHTML = formatMoney(data.original_total_price, settings.formatMoney);\n      } else {\n        this.cartOriginalTotal.classList.add(settings.classes.hidden);\n      }\n\n      this.cartTotal.innerHTML = formatMoney(data.total_price, settings.formatMoney);\n\n      if (data.cart_level_discount_applications.length > 0) {\n        const discountsMarkup = this.buildCartTotalDiscounts(data.cart_level_discount_applications);\n\n        this.cartDiscountHolder.classList.remove(settings.classes.hidden);\n        this.cartDiscountHolder.innerHTML = discountsMarkup;\n      } else {\n        this.cartDiscountHolder.classList.add(settings.classes.hidden);\n      }\n    }\n  }\n\n  /**\n   * Build cart total discounts\n   *\n   * @param   {Array}  discounts\n   *\n   * @return  {String}\n   */\n\n  buildCartTotalDiscounts(discounts) {\n    let discountMarkup = '';\n\n    discounts.forEach((discount) => {\n      discountMarkup += Sqrl.render(this.cartTotalDiscountTemplate, {\n        discount_title: discount.title,\n        discount_total_allocated_amount: formatMoney(discount.total_allocated_amount, settings.formatMoney),\n      });\n    });\n\n    return discountMarkup;\n  }\n\n  /**\n   * Set cart close position\n   *\n   * @return  {Void}\n   */\n\n  setCartClosePosition() {\n    if (this.cartToggle) {\n      const cartToggleTop = this.cartToggle.getBoundingClientRect().top;\n      const containerPadding = 40;\n\n      this.cartClose.style.top = `${cartToggleTop - containerPadding}px`;\n    }\n  }\n\n  /**\n   * Bar progress for spend to get free shipping\n   *\n   * @return  {Void}\n   */\n  cartBarProgress() {\n    if (this.subtotal === undefined) {\n      return;\n    }\n\n    let percent = this.subtotal;\n    let leftToSpend = formatMoney(this.cartFreeLimitShipping - this.subtotal, settings.formatMoney);\n\n    if (this.subtotal > 0) {\n      percent = settings.dimensions.maxSize - ((this.cartFreeLimitShipping - this.subtotal) * settings.dimensions.maxSize) / this.cartFreeLimitShipping;\n    }\n\n    if (percent > settings.dimensions.maxSize) {\n      percent = settings.dimensions.maxSize;\n      leftToSpend = '0';\n    }\n\n    this.progressBar.style.width = `${percent}%`;\n\n    if (this.leftToSpend) {\n      this.leftToSpend.innerHTML = leftToSpend.replace('.00', '');\n    }\n\n    this.checkForFreeDelivery();\n  }\n\n  /**\n   * Check free shipping limit to show a free message\n   */\n  checkForFreeDelivery() {\n    const hasFreeShipping = this.cartMessage.hasAttribute(settings.elements.cartMessageValue) && this.cartMessage.getAttribute(settings.elements.cartMessageValue) === 'true' && this.subtotal !== 0;\n    const cartMessageClass = hasFreeShipping ? '' : settings.classes.defaultSuccess;\n\n    this.cartMessage.classList.toggle(cartMessageClass, this.subtotal >= this.cartFreeLimitShipping || this.subtotal === 0);\n  }\n}\n\nwindow.cart = new CartDrawer();\n","import * as a11y from '../vendor/theme-scripts/theme-a11y';\n\nconst settings = {\n  elements: {\n    html: 'html',\n    body: 'body',\n    inPageLink: '[data-skip-content]',\n    linkesWithOnlyHash: 'a[href=\"#\"]',\n    triggerFocusElement: '[data-focus-element]',\n    viewAll: '[data-view-all]',\n  },\n  classes: {\n    focus: 'is-focused',\n  },\n};\n\nclass Accessibility {\n  constructor() {\n    this.init();\n  }\n\n  init() {\n    this.settings = settings;\n    this.window = window;\n    this.document = document;\n    this.a11y = a11y;\n\n    // DOM Elements\n    this.inPageLink = this.document.querySelector(this.settings.elements.inPageLink);\n    this.linkesWithOnlyHash = this.document.querySelectorAll(`${this.settings.elements.linkesWithOnlyHash}:not(${this.settings.elements.viewAll})`);\n    this.html = this.document.querySelector(this.settings.elements.html);\n    this.body = this.document.querySelector(this.settings.elements.body);\n    this.lastFocused = null;\n\n    // Flags\n    this.isFocused = false;\n\n    // A11Y init methods\n    this.a11y.focusHash();\n    this.a11y.bindInPageLinks();\n\n    // Events\n    this.clickEvents();\n    this.focusEvents();\n    this.focusEventsOff();\n    this.closeExpandedElements();\n  }\n\n  /**\n   * Clicked events accessibility\n   *\n   * @return  {Void}\n   */\n\n  clickEvents() {\n    if (this.inPageLink) {\n      this.inPageLink.addEventListener('click', (event) => {\n        event.preventDefault();\n      });\n    }\n\n    if (this.linkesWithOnlyHash) {\n      this.linkesWithOnlyHash.forEach((item) => {\n        item.addEventListener('click', (event) => {\n          event.preventDefault();\n        });\n      });\n    }\n  }\n\n  /**\n   * Focus events\n   *\n   * @return  {Void}\n   */\n\n  focusEvents() {\n    this.document.addEventListener('keyup', (event) => {\n      if (event.keyCode !== theme.keyboardKeys.TAB) {\n        return;\n      }\n\n      this.body.classList.add(this.settings.classes.focus);\n      this.isFocused = true;\n    });\n\n    // Expand modals\n    this.document.addEventListener('keyup', (event) => {\n      if (!this.isFocused) {\n        return;\n      }\n\n      const target = event.target;\n      const pressEnterOrSpace = event.keyCode === theme.keyboardKeys.ENTER || event.keyCode === theme.keyboardKeys.SPACE;\n      const targetElement = target.matches(this.settings.elements.triggerFocusElement) || target.closest(this.settings.elements.triggerFocusElement);\n\n      if (pressEnterOrSpace && targetElement) {\n        if (this.lastFocused === null) {\n          this.lastFocused = target;\n        }\n      }\n    });\n\n    // Focus addToCart button or quickview button\n    this.html.addEventListener('cart:add-item', (event) => {\n      this.lastFocused = event.detail.selector;\n    });\n  }\n\n  /**\n   * Focus events off\n   *\n   * @return  {Void}\n   */\n\n  focusEventsOff() {\n    this.document.addEventListener('mousedown', () => {\n      this.body.classList.remove(this.settings.classes.focus);\n      this.isFocused = false;\n    });\n  }\n\n  /**\n   * Close expanded elements with when press escape\n   *\n   * @return  {Void}\n   */\n\n  closeExpandedElements() {\n    document.addEventListener('keyup', (event) => {\n      if (event.keyCode !== theme.keyboardKeys.ESCAPE) {\n        return;\n      }\n\n      this.a11y.removeTrapFocus();\n\n      if (this.lastFocused !== null) {\n        setTimeout(() => {\n          this.lastFocused.focus();\n          this.lastFocused = null;\n        }, 600);\n      }\n    });\n  }\n}\n\nwindow.accessibility = new Accessibility();\n","import * as Sqrl from 'squirrelly';\n\nSqrl.filters.define('handle', function (str) {\n  str = str.toLowerCase();\n\n  var toReplace = ['\"', \"'\", '\\\\', '(', ')', '[', ']'];\n\n  // For the old browsers\n  for (var i = 0; i < toReplace.length; ++i) {\n    str = str.replace(toReplace[i], '');\n  }\n\n  str = str.replace(/\\W+/g, '-');\n\n  if (str.charAt(str.length - 1) == '-') {\n    str = str.replace(/-+\\z/, '');\n  }\n\n  if (str.charAt(0) == '-') {\n    str = str.replace(/\\A-+/, '');\n  }\n\n  return str;\n});\n\nSqrl.filters.define('last', function (str) {\n  const words = str.split('-');\n  return words[words.length - 1];\n});\n\nSqrl.filters.define('asset_url', function (str) {\n  let asset = theme.assets.image;\n  asset = asset.replace('image', str);\n  return asset;\n});\n","window.isYoutubeAPILoaded = false;\nfunction loadYoutubeAPI() {\n  if (!window.isYoutubeAPILoaded) {\n    // Load Youtube API script\n    var tag = document.createElement('script');\n    tag.src = 'https://www.youtube.com/iframe_api';\n    var firstScriptTag = document.getElementsByTagName('script')[0];\n    firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);\n  }\n}\nfunction onYouTubeIframeAPIReady() {\n  window.isYoutubeAPILoaded = true;\n  document.body.dispatchEvent(new CustomEvent('youtubeAPIReady'));\n}\n\nwindow.onYouTubeIframeAPIReady = onYouTubeIframeAPIReady;\nwindow.loadYoutubeAPI = loadYoutubeAPI;\n","theme.ProductModel = (function () {\n  let modelJsonSections = {};\n  let models = {};\n  let xrButtons = {};\n  const selectors = {\n    productMediaWrapper: '[data-product-single-media-wrapper]',\n    productXr: '[data-shopify-xr]',\n    dataMediaId: 'data-media-id',\n    dataModelId: 'data-model-id',\n    dataModel3d: 'data-shopify-model3d-id',\n    modelViewer: 'model-viewer',\n    modelJson: '#ModelJson-',\n    classMediaHidden: 'media--hidden',\n    deferredMedia: '[data-deferred-media]',\n    deferredMediaButton: '[data-deferred-media-button]',\n  };\n  const classes = {\n    isLoading: 'is-loading',\n  };\n\n  function init(mediaContainer, sectionId) {\n    modelJsonSections[sectionId] = {\n      loaded: false,\n    };\n\n    const deferredMediaButton = mediaContainer.querySelector(selectors.deferredMediaButton);\n\n    if (deferredMediaButton) {\n      deferredMediaButton.addEventListener('click', loadContent.bind(this, mediaContainer, sectionId));\n    }\n  }\n\n  function loadContent(mediaContainer, sectionId) {\n    if (mediaContainer.querySelector(selectors.deferredMedia).getAttribute('loaded')) {\n      return;\n    }\n\n    mediaContainer.classList.add(classes.isLoading);\n    const content = document.createElement('div');\n    content.appendChild(mediaContainer.querySelector('template').content.firstElementChild.cloneNode(true));\n    const modelViewerElement = content.querySelector('model-viewer');\n    const deferredMedia = mediaContainer.querySelector(selectors.deferredMedia);\n    deferredMedia.appendChild(modelViewerElement).focus();\n    deferredMedia.setAttribute('loaded', true);\n    const mediaId = mediaContainer.dataset.mediaId;\n    const modelId = modelViewerElement.dataset.modelId;\n    const xrButton = mediaContainer.closest(selectors.productMediaWrapper).querySelector(selectors.productXr);\n    xrButtons[sectionId] = {\n      element: xrButton,\n      defaultId: modelId,\n    };\n\n    models[mediaId] = {\n      modelId: modelId,\n      mediaId: mediaId,\n      sectionId: sectionId,\n      container: mediaContainer,\n      element: modelViewerElement,\n    };\n\n    window.Shopify.loadFeatures([\n      {\n        name: 'shopify-xr',\n        version: '1.0',\n        onLoad: setupShopifyXr,\n      },\n      {\n        name: 'model-viewer-ui',\n        version: '1.0',\n        onLoad: setupModelViewerUi,\n      },\n    ]);\n  }\n\n  function setupShopifyXr(errors) {\n    if (errors) {\n      console.warn(errors);\n      return;\n    }\n    if (!window.ShopifyXR) {\n      document.addEventListener('shopify_xr_initialized', function () {\n        setupShopifyXr();\n      });\n      return;\n    }\n\n    for (const sectionId in modelJsonSections) {\n      if (modelJsonSections.hasOwnProperty(sectionId)) {\n        const modelSection = modelJsonSections[sectionId];\n        if (modelSection.loaded) {\n          continue;\n        }\n\n        const modelJson = document.querySelector(`${selectors.modelJson}${sectionId}`);\n        if (modelJson) {\n          window.ShopifyXR.addModels(JSON.parse(modelJson.innerHTML));\n          modelSection.loaded = true;\n        }\n      }\n    }\n    window.ShopifyXR.setupXRElements();\n  }\n\n  function setupModelViewerUi(errors) {\n    if (errors) {\n      console.warn(errors);\n      return;\n    }\n\n    for (const key in models) {\n      if (models.hasOwnProperty(key)) {\n        const model = models[key];\n        if (!model.modelViewerUi) {\n          model.modelViewerUi = new Shopify.ModelViewerUI(model.element);\n        }\n        setupModelViewerListeners(model);\n      }\n    }\n  }\n\n  function setupModelViewerListeners(model) {\n    const xrButton = xrButtons[model.sectionId];\n\n    model.container.addEventListener('mediaVisible', function () {\n      xrButton.element.setAttribute(selectors.dataModel3d, model.modelId);\n\n      pauseOtherMedia(model.mediaId);\n\n      if (window.theme.touched) {\n        return;\n      }\n      model.modelViewerUi.play();\n    });\n\n    model.container.addEventListener('mediaHidden', function () {\n      model.modelViewerUi.pause();\n    });\n\n    model.container.addEventListener('xrLaunch', function () {\n      model.modelViewerUi.pause();\n    });\n\n    model.element.addEventListener('load', () => {\n      model.container.classList.remove(classes.isLoading);\n    });\n\n    model.element.addEventListener('shopify_model_viewer_ui_toggle_play', function () {\n      pauseOtherMedia(model.mediaId);\n    });\n  }\n\n  function pauseOtherMedia(mediaId) {\n    const mediaIdString = `[${selectors.dataMediaId}=\"${mediaId}\"]`;\n    const currentMedia = document.querySelector(`${selectors.productMediaWrapper}${mediaIdString}`);\n    const otherMedia = document.querySelectorAll(`${selectors.productMediaWrapper}:not(${mediaIdString})`);\n\n    currentMedia.classList.remove(selectors.classMediaHidden);\n    if (otherMedia.length) {\n      otherMedia.forEach((element) => {\n        element.dispatchEvent(new CustomEvent('mediaHidden'));\n        element.classList.add(selectors.classMediaHidden);\n      });\n    }\n  }\n\n  function removeSectionModels(sectionId) {\n    for (const key in models) {\n      if (models.hasOwnProperty(key)) {\n        const model = models[key];\n        if (model.sectionId === sectionId) {\n          delete models[key];\n        }\n      }\n    }\n    delete modelJsonSections[sectionId];\n    delete theme.mediaInstances[sectionId];\n  }\n\n  return {\n    init: init,\n    loadContent: loadContent,\n    removeSectionModels: removeSectionModels,\n  };\n})();\n","const selectors = {\n  templateAddresses: '.template-customers-addresses',\n  accountForm: '[data-form]',\n  addressNewForm: '[data-form-new]',\n  btnNew: '[data-button-new]',\n  btnEdit: '[data-button-edit]',\n  btnDelete: '[data-button-delete]',\n  btnCancel: '[data-button-cancel]',\n  dataFormId: 'data-form-id',\n  defaultConfirmMessage: 'Are you sure you wish to delete this address?',\n  editAddress: 'data-form-edit',\n  addressCountryNew: 'AddressCountryNew',\n  addressProvinceNew: 'AddressProvinceNew',\n  addressProvinceContainerNew: 'AddressProvinceContainerNew',\n  addressCountryOption: '[data-country-option]',\n  addressCountry: 'AddressCountry',\n  addressProvince: 'AddressProvince',\n  addressProvinceContainer: 'AddressProvinceContainer',\n  notOptionalInputs: 'input[type=\"text\"]:not(.optional)',\n};\n\nconst classes = {\n  hidden: 'is-hidden',\n  validation: 'validation--showup',\n};\n\nclass Addresses {\n  constructor(section) {\n    this.section = section;\n    this.addressNewForm = this.section.querySelector(selectors.addressNewForm);\n    this.accountForms = this.section.querySelectorAll(selectors.accountForm);\n\n    this.init();\n    this.validate();\n  }\n\n  init() {\n    if (this.addressNewForm) {\n      const section = this.section;\n      const newAddressForm = this.addressNewForm;\n      this.customerAddresses();\n\n      const newButtons = section.querySelectorAll(selectors.btnNew);\n      if (newButtons.length) {\n        newButtons.forEach((button) => {\n          button.addEventListener('click', function (e) {\n            e.preventDefault();\n            button.classList.add(classes.hidden);\n            newAddressForm.classList.remove(classes.hidden);\n          });\n        });\n      }\n\n      const editButtons = section.querySelectorAll(selectors.btnEdit);\n      if (editButtons.length) {\n        editButtons.forEach((button) => {\n          button.addEventListener('click', function (e) {\n            e.preventDefault();\n            const formId = this.getAttribute(selectors.dataFormId);\n            section.querySelector(`[${selectors.editAddress}=\"${formId}\"]`).classList.toggle(classes.hidden);\n          });\n        });\n      }\n\n      const deleteButtons = section.querySelectorAll(selectors.btnDelete);\n      if (deleteButtons.length) {\n        deleteButtons.forEach((button) => {\n          button.addEventListener('click', function (e) {\n            e.preventDefault();\n            const formId = this.getAttribute(selectors.dataFormId);\n            if (confirm(selectors.defaultConfirmMessage)) {\n              Shopify.postLink('/account/addresses/' + formId, {parameters: {_method: 'delete'}});\n            }\n          });\n        });\n      }\n\n      const cancelButtons = section.querySelectorAll(selectors.btnCancel);\n      if (cancelButtons.length) {\n        cancelButtons.forEach((button) => {\n          button.addEventListener('click', function (e) {\n            e.preventDefault();\n            this.closest(selectors.accountForm).classList.add(classes.hidden);\n            document.querySelector(selectors.btnNew).classList.remove(classes.hidden);\n          });\n        });\n      }\n    }\n  }\n\n  customerAddresses() {\n    // Initialize observers on address selectors, defined in shopify_common.js\n    if (Shopify.CountryProvinceSelector) {\n      new Shopify.CountryProvinceSelector(selectors.addressCountryNew, selectors.addressProvinceNew, {\n        hideElement: selectors.addressProvinceContainerNew,\n      });\n    }\n\n    // Initialize each edit form's country/province selector\n    const countryOptions = this.section.querySelectorAll(selectors.addressCountryOption);\n    countryOptions.forEach((element) => {\n      const formId = element.getAttribute(selectors.dataFormId);\n      const countrySelector = `${selectors.addressCountry}_${formId}`;\n      const provinceSelector = `${selectors.addressProvince}_${formId}`;\n      const containerSelector = `${selectors.addressProvinceContainer}_${formId}`;\n\n      new Shopify.CountryProvinceSelector(countrySelector, provinceSelector, {\n        hideElement: containerSelector,\n      });\n    });\n  }\n\n  validate() {\n    this.accountForms.forEach((accountForm) => {\n      const form = accountForm.querySelector('form');\n      const inputs = form.querySelectorAll(selectors.notOptionalInputs);\n\n      form.addEventListener('submit', (event) => {\n        let isEmpty = false;\n\n        // Display notification if input is empty\n        inputs.forEach((input) => {\n          if (!input.value) {\n            input.nextElementSibling.classList.add(classes.validation);\n            isEmpty = true;\n          } else {\n            input.nextElementSibling.classList.remove(classes.validation);\n          }\n        });\n\n        if (isEmpty) {\n          event.preventDefault();\n        }\n      });\n    });\n  }\n}\n\nconst template = document.querySelector(selectors.templateAddresses);\nif (template) {\n  new Addresses(template);\n}\n","const selectors = {\n  form: '[data-account-form]',\n  showReset: '[data-show-reset]',\n  hideReset: '[data-hide-reset]',\n  recover: '[data-recover-password]',\n  login: '[data-login-form]',\n  recoverHash: '#recover',\n};\n\nconst classes = {\n  hidden: 'is-hidden',\n};\n\nclass Login {\n  constructor(form) {\n    this.form = form;\n    this.showButton = form.querySelector(selectors.showReset);\n    this.hideButton = form.querySelector(selectors.hideReset);\n    this.recover = form.querySelector(selectors.recover);\n    this.login = form.querySelector(selectors.login);\n    this.init();\n  }\n\n  init() {\n    if (window.location.hash == selectors.recoverHash) {\n      this.showRecoverPasswordForm();\n    } else {\n      this.hideRecoverPasswordForm();\n    }\n    this.showButton.addEventListener(\n      'click',\n      function (e) {\n        e.preventDefault();\n        this.showRecoverPasswordForm();\n      }.bind(this),\n      false\n    );\n    this.hideButton.addEventListener(\n      'click',\n      function (e) {\n        e.preventDefault();\n        this.hideRecoverPasswordForm();\n      }.bind(this),\n      false\n    );\n  }\n\n  showRecoverPasswordForm() {\n    this.recover.classList.remove(classes.hidden);\n    this.login.classList.add(classes.hidden);\n    window.location.hash = selectors.recoverHash;\n    return false;\n  }\n\n  hideRecoverPasswordForm() {\n    this.login.classList.remove(classes.hidden);\n    this.recover.classList.add(classes.hidden);\n    window.location.hash = '';\n    return false;\n  }\n}\n\nconst loginForm = document.querySelector(selectors.form);\nif (loginForm) {\n  new Login(loginForm);\n}\n","window.Shopify = window.Shopify || {};\nwindow.Shopify.theme = window.Shopify.theme || {};\nwindow.Shopify.theme.sections = window.Shopify.theme.sections || {};\n\nwindow.Shopify.theme.sections.registered = window.Shopify.theme.sections.registered || {};\nwindow.Shopify.theme.sections.instances = window.Shopify.theme.sections.instances || [];\nconst registered = window.Shopify.theme.sections.registered;\nconst instances = window.Shopify.theme.sections.instances;\n\nconst selectors = {\n  id: 'data-section-id',\n  type: 'data-section-type',\n};\n\nclass Registration {\n  constructor(type = null, components = []) {\n    this.type = type;\n    this.components = validateComponentsArray(components);\n    this.callStack = {\n      onLoad: [],\n      onUnload: [],\n      onSelect: [],\n      onDeselect: [],\n      onBlockSelect: [],\n      onBlockDeselect: [],\n      onReorder: [],\n    };\n    components.forEach((comp) => {\n      for (const [key, value] of Object.entries(comp)) {\n        const arr = this.callStack[key];\n        if (Array.isArray(arr) && typeof value === 'function') {\n          arr.push(value);\n        } else {\n          console.warn(`Unregisted function: '${key}' in component: '${this.type}'`);\n          console.warn(value);\n        }\n      }\n    });\n  }\n\n  getStack() {\n    return this.callStack;\n  }\n}\n\nclass Section {\n  constructor(container, registration) {\n    this.container = validateContainerElement(container);\n    this.id = container.getAttribute(selectors.id);\n    this.type = registration.type;\n    this.callStack = registration.getStack();\n\n    try {\n      this.onLoad();\n    } catch (e) {\n      console.warn(`Error in section: ${this.id}`);\n      console.warn(this);\n      console.warn(e);\n    }\n  }\n\n  callFunctions(key, e = null) {\n    this.callStack[key].forEach((func) => {\n      const props = {\n        id: this.id,\n        type: this.type,\n        container: this.container,\n      };\n      if (e) {\n        func.call(props, e);\n      } else {\n        func.call(props);\n      }\n    });\n  }\n\n  onLoad() {\n    this.callFunctions('onLoad');\n  }\n\n  onUnload() {\n    this.callFunctions('onUnload');\n  }\n\n  onSelect(e) {\n    this.callFunctions('onSelect', e);\n  }\n\n  onDeselect(e) {\n    this.callFunctions('onDeselect', e);\n  }\n\n  onBlockSelect(e) {\n    this.callFunctions('onBlockSelect', e);\n  }\n\n  onBlockDeselect(e) {\n    this.callFunctions('onBlockDeselect', e);\n  }\n\n  onReorder(e) {\n    this.callFunctions('onReorder', e);\n  }\n}\n\nfunction validateContainerElement(container) {\n  if (!(container instanceof Element)) {\n    throw new TypeError('Theme Sections: Attempted to load section. The section container provided is not a DOM element.');\n  }\n  if (container.getAttribute(selectors.id) === null) {\n    throw new Error('Theme Sections: The section container provided does not have an id assigned to the ' + selectors.id + ' attribute.');\n  }\n\n  return container;\n}\n\nfunction validateComponentsArray(value) {\n  if ((typeof value !== 'undefined' && typeof value !== 'object') || value === null) {\n    throw new TypeError('Theme Sections: The components object provided is not a valid');\n  }\n\n  return value;\n}\n\n/*\n * @shopify/theme-sections\n * -----------------------------------------------------------------------------\n *\n * A framework to provide structure to your Shopify sections and a load and unload\n * lifecycle. The lifecycle is automatically connected to theme editor events so\n * that your sections load and unload as the editor changes the content and\n * settings of your sections.\n */\n\nfunction register(type, components) {\n  if (typeof type !== 'string') {\n    throw new TypeError('Theme Sections: The first argument for .register must be a string that specifies the type of the section being registered');\n  }\n\n  if (typeof registered[type] !== 'undefined') {\n    throw new Error('Theme Sections: A section of type \"' + type + '\" has already been registered. You cannot register the same section type twice');\n  }\n\n  if (!Array.isArray(components)) {\n    components = [components];\n  }\n\n  const section = new Registration(type, components);\n  registered[type] = section;\n\n  return registered;\n}\n\nfunction unregister(types) {\n  types = normalizeType(types);\n\n  types.forEach(function (type) {\n    delete registered[type];\n  });\n}\n\nfunction load(types, containers) {\n  types = normalizeType(types);\n\n  if (typeof containers === 'undefined') {\n    containers = document.querySelectorAll('[' + selectors.type + ']');\n  }\n\n  containers = normalizeContainers(containers);\n\n  types.forEach(function (type) {\n    const registration = registered[type];\n\n    if (typeof registration === 'undefined') {\n      return;\n    }\n\n    containers = containers.filter(function (container) {\n      // Filter from list of containers because container already has an instance loaded\n      if (isInstance(container)) {\n        return false;\n      }\n\n      // Filter from list of containers because container doesn't have data-section-type attribute\n      if (container.getAttribute(selectors.type) === null) {\n        return false;\n      }\n\n      // Keep in list of containers because current type doesn't match\n      if (container.getAttribute(selectors.type) !== type) {\n        return true;\n      }\n\n      instances.push(new Section(container, registration));\n\n      // Filter from list of containers because container now has an instance loaded\n      return false;\n    });\n  });\n}\n\nfunction reorder(selector) {\n  var instancesToReorder = getInstances(selector);\n\n  instancesToReorder.forEach(function (instance) {\n    instance.onReorder();\n  });\n}\n\nfunction unload(selector) {\n  var instancesToUnload = getInstances(selector);\n\n  instancesToUnload.forEach(function (instance) {\n    var index = instances\n      .map(function (e) {\n        return e.id;\n      })\n      .indexOf(instance.id);\n    instances.splice(index, 1);\n    instance.onUnload();\n  });\n}\n\nfunction getInstances(selector) {\n  var filteredInstances = [];\n\n  // Fetch first element if its an array\n  if (NodeList.prototype.isPrototypeOf(selector) || Array.isArray(selector)) {\n    var firstElement = selector[0];\n  }\n\n  // If selector element is DOM element\n  if (selector instanceof Element || firstElement instanceof Element) {\n    var containers = normalizeContainers(selector);\n\n    containers.forEach(function (container) {\n      filteredInstances = filteredInstances.concat(\n        instances.filter(function (instance) {\n          return instance.container === container;\n        })\n      );\n    });\n\n    // If select is type string\n  } else if (typeof selector === 'string' || typeof firstElement === 'string') {\n    var types = normalizeType(selector);\n\n    types.forEach(function (type) {\n      filteredInstances = filteredInstances.concat(\n        instances.filter(function (instance) {\n          return instance.type === type;\n        })\n      );\n    });\n  }\n\n  return filteredInstances;\n}\n\nfunction getInstanceById(id) {\n  var instance;\n\n  for (var i = 0; i < instances.length; i++) {\n    if (instances[i].id === id) {\n      instance = instances[i];\n      break;\n    }\n  }\n  return instance;\n}\n\nfunction isInstance(selector) {\n  return getInstances(selector).length > 0;\n}\n\nfunction normalizeType(types) {\n  // If '*' then fetch all registered section types\n  if (types === '*') {\n    types = Object.keys(registered);\n\n    // If a single section type string is passed, put it in an array\n  } else if (typeof types === 'string') {\n    types = [types];\n\n    // If single section constructor is passed, transform to array with section\n    // type string\n  } else if (types.constructor === Section) {\n    types = [types.prototype.type];\n\n    // If array of typed section constructors is passed, transform the array to\n    // type strings\n  } else if (Array.isArray(types) && types[0].constructor === Section) {\n    types = types.map(function (Section) {\n      return Section.type;\n    });\n  }\n\n  types = types.map(function (type) {\n    return type.toLowerCase();\n  });\n\n  return types;\n}\n\nfunction normalizeContainers(containers) {\n  // Nodelist with entries\n  if (NodeList.prototype.isPrototypeOf(containers) && containers.length > 0) {\n    containers = Array.prototype.slice.call(containers);\n\n    // Empty Nodelist\n  } else if (NodeList.prototype.isPrototypeOf(containers) && containers.length === 0) {\n    containers = [];\n\n    // Handle null (document.querySelector() returns null with no match)\n  } else if (containers === null) {\n    containers = [];\n\n    // Single DOM element\n  } else if (!Array.isArray(containers) && containers instanceof Element) {\n    containers = [containers];\n  }\n\n  return containers;\n}\n\nif (window.Shopify.designMode) {\n  document.addEventListener('shopify:section:load', function (event) {\n    var id = event.detail.sectionId;\n    var container = event.target.querySelector('[' + selectors.id + '=\"' + id + '\"]');\n\n    if (container !== null) {\n      load(container.getAttribute(selectors.type), container);\n    }\n  });\n\n  document.addEventListener('shopify:section:reorder', function (event) {\n    var id = event.detail.sectionId;\n    var container = event.target.querySelector('[' + selectors.id + '=\"' + id + '\"]');\n    var instance = getInstances(container)[0];\n\n    if (typeof instance === 'object') {\n      reorder(container);\n    }\n  });\n\n  document.addEventListener('shopify:section:unload', function (event) {\n    var id = event.detail.sectionId;\n    var container = event.target.querySelector('[' + selectors.id + '=\"' + id + '\"]');\n    var instance = getInstances(container)[0];\n\n    if (typeof instance === 'object') {\n      unload(container);\n    }\n  });\n\n  document.addEventListener('shopify:section:select', function (event) {\n    var instance = getInstanceById(event.detail.sectionId);\n\n    if (typeof instance === 'object') {\n      instance.onSelect(event);\n    }\n  });\n\n  document.addEventListener('shopify:section:deselect', function (event) {\n    var instance = getInstanceById(event.detail.sectionId);\n\n    if (typeof instance === 'object') {\n      instance.onDeselect(event);\n    }\n  });\n\n  document.addEventListener('shopify:block:select', function (event) {\n    var instance = getInstanceById(event.detail.sectionId);\n\n    if (typeof instance === 'object') {\n      instance.onBlockSelect(event);\n    }\n  });\n\n  document.addEventListener('shopify:block:deselect', function (event) {\n    var instance = getInstanceById(event.detail.sectionId);\n\n    if (typeof instance === 'object') {\n      instance.onBlockDeselect(event);\n    }\n  });\n}\n\nexport {registered, instances, register, unregister, load, unload, reorder, getInstances, getInstanceById, isInstance};\n","const selectors = {\n  aos: 'data-aos',\n};\n\nconst removeAnimations = (container) => {\n  const animatedElements = container.querySelectorAll(`[${selectors.aos}]`);\n  animatedElements.forEach((element) => {\n    element.removeAttribute(selectors.aos);\n  });\n};\n\nexport default removeAnimations;\n","const selectors = {\n  flag: '[data-badge]',\n  aspectRatio: 'data-aspectratio',\n};\n\nconst setBadgePosition = (images) => {\n  images.forEach((image) => {\n    const saleBadge = image.querySelector(selectors.flag);\n\n    if (saleBadge === null) {\n      return;\n    }\n\n    const imageAspectRatio = parseFloat(image.getAttribute(selectors.aspectRatio));\n    const imageWidth = image.offsetWidth;\n    const imageHeight = image.offsetHeight;\n    const containerAspectRatio = imageWidth / imageHeight;\n    let posTop = 0;\n    let posLeft = 0;\n\n    if (imageAspectRatio < containerAspectRatio) {\n      posLeft = (imageWidth - imageHeight * imageAspectRatio) / 2;\n    } else {\n      posTop = (imageHeight - imageWidth / imageAspectRatio) / 2;\n    }\n\n    saleBadge.style.cssText = `top: ${posTop}px; left: ${posLeft}px`;\n  });\n};\n\nexport default setBadgePosition;\n","export function fetchProduct(handle) {\n  const requestRoute = `${theme.routes.root_url}products/${handle}.js`;\n  return window\n    .fetch(requestRoute)\n    .then((response) => {\n      return response.json();\n    })\n    .catch((e) => {\n      console.error(e);\n    });\n}\n","import * as Sqrl from 'squirrelly';\n\nimport {fetchProduct} from '../util/fetch-product';\nimport loadScript from '../util/loader';\n\nconst defaults = {\n  color: 'ash',\n};\n\nconst selectors = {\n  swatch: 'data-swatch',\n  swatchColor: '[data-swatch-color]',\n  wrapper: '[data-grid-swatches]',\n  template: '[data-swatch-template]',\n  handle: 'data-swatch-handle',\n  label: 'data-swatch-label',\n};\n\nclass ColorMatch {\n  constructor(options = {}) {\n    this.settings = {\n      ...defaults,\n      ...options,\n    };\n\n    this.match = this.init();\n  }\n\n  getColor() {\n    return this.match;\n  }\n\n  init() {\n    const getColors = loadScript({json: theme.assets.swatches});\n    return getColors\n      .then((colors) => {\n        return this.matchColors(colors, this.settings.color);\n      })\n      .catch((e) => {\n        console.log('failed to load swatch colors script');\n        console.log(e);\n      });\n  }\n\n  matchColors(colors, name) {\n    let bg = '#E5E5E5';\n    let img = null;\n    const path = theme.assets.base || '/';\n    const comparisonName = name.toLowerCase().replace(/\\s/g, '');\n    const array = colors.colors;\n\n    if (array) {\n      let indexArray = null;\n\n      const hexColorArr = array.filter((colorObj, index) => {\n        const neatName = Object.keys(colorObj).toString().toLowerCase().replace(/\\s/g, '');\n\n        if (neatName === comparisonName) {\n          indexArray = index;\n\n          return colorObj;\n        }\n      });\n\n      if (hexColorArr.length && indexArray !== null) {\n        const value = Object.values(array[indexArray])[0];\n        bg = value;\n\n        if (value.includes('.jpg') || value.includes('.jpeg') || value.includes('.png') || value.includes('.svg')) {\n          img = `${path}${value}`;\n          bg = '#888888';\n        }\n      }\n    }\n\n    return {\n      color: this.settings.color,\n      path: img,\n      hex: bg,\n    };\n  }\n}\n\nclass Swatch {\n  constructor(element) {\n    this.element = element;\n    this.swatchColor = this.element.querySelector(selectors.swatchColor);\n    this.colorString = element.getAttribute(selectors.swatch);\n    const matcher = new ColorMatch({color: this.colorString});\n    matcher.getColor().then((result) => {\n      this.colorMatch = result;\n      this.init();\n    });\n  }\n\n  init() {\n    if (this.colorMatch && this.colorMatch.hex) {\n      this.swatchColor.style.setProperty('--swatch', `${this.colorMatch.hex}`);\n    }\n    if (this.colorMatch && this.colorMatch.path) {\n      this.swatchColor.style.setProperty('background-image', `url(${this.colorMatch.path})`);\n    }\n  }\n}\n\nclass GridSwatch {\n  constructor(wrap, container) {\n    this.template = document.querySelector(selectors.template).innerHTML;\n    this.wrap = wrap;\n    this.container = container;\n    this.handle = wrap.getAttribute(selectors.handle);\n    const label = wrap.getAttribute(selectors.label).trim().toLowerCase();\n    fetchProduct(this.handle).then((product) => {\n      this.product = product;\n      this.colorOption = product.options.find(function (element) {\n        return element.name.toLowerCase() === label || null;\n      });\n\n      if (this.colorOption) {\n        this.swatches = this.colorOption.values;\n        this.init();\n      }\n    });\n  }\n\n  init() {\n    this.wrap.innerHTML = '';\n\n    this.swatches.forEach((swatch) => {\n      let variant = this.product.variants.find((variant) => {\n        return variant.options.includes(swatch);\n      });\n\n      if (variant) {\n        this.wrap.innerHTML += Sqrl.render(this.template, {\n          color: swatch,\n          uniq: `${this.product.id}-${variant.id}`,\n          variant: variant.id,\n          variantUrl: `${this.product.url}?variant=${variant.id}`,\n        });\n      }\n    });\n\n    this.swatchElements = this.wrap.querySelectorAll(`[${selectors.swatch}]`);\n\n    this.swatchElements.forEach((el) => {\n      new Swatch(el);\n    });\n  }\n}\n\nconst makeGridSwatches = (container) => {\n  const gridSwatchWrappers = container.querySelectorAll(selectors.wrapper);\n  gridSwatchWrappers.forEach((wrap) => {\n    new GridSwatch(wrap, this);\n  });\n};\n\nconst swatchSection = {\n  onLoad() {\n    this.swatches = [];\n    const els = this.container.querySelectorAll(`[${selectors.swatch}]`);\n    els.forEach((el) => {\n      this.swatches.push(new Swatch(el));\n    });\n  },\n};\n\nconst swatchGridSection = {\n  onLoad() {\n    makeGridSwatches(this.container);\n  },\n};\n\nexport {swatchGridSection, swatchSection, makeGridSwatches, Swatch};\n","const throttle = (fn, wait) => {\n  let prev, next;\n  return function invokeFn(...args) {\n    const now = Date.now();\n    next = clearTimeout(next);\n    if (!prev || now - prev >= wait) {\n      // eslint-disable-next-line prefer-spread\n      fn.apply(null, args);\n      prev = now;\n    } else {\n      next = setTimeout(invokeFn.bind(null, ...args), wait - (now - prev));\n    }\n  };\n};\n\nexport default throttle;\n","import debounce from '../util/debounce';\nimport throttle from '../util/throttle';\n\nconst selectors = {\n  itemsParent: '[data-custom-scrollbar-items]',\n  scrollbar: '[data-custom-scrollbar]',\n  scrollbarTrack: '[data-custom-scrollbar-track]',\n};\nclass CustomScrollbar {\n  constructor(container) {\n    this.itemsParent = container.querySelector(selectors.itemsParent);\n    this.scrollbar = container.querySelector(selectors.scrollbar);\n    this.scrollbarTrack = container.querySelector(selectors.scrollbarTrack);\n    this.trackWidth = 0;\n    this.scrollEvent = throttle(() => this.calculatePosition(), 50);\n    this.resizeEvent = debounce(() => this.calculateTrackWidth(), 250);\n\n    if (this.scrollbar && this.itemsParent) {\n      this.events();\n      this.calculateTrackWidth();\n    }\n  }\n\n  events() {\n    this.itemsParent.addEventListener('scroll', this.scrollEvent);\n    document.addEventListener('theme:resize', this.resizeEvent);\n  }\n\n  calculateTrackWidth() {\n    this.trackWidth = 100 / this.itemsParent.children.length;\n    this.trackWidth = this.trackWidth < 5 ? 5 : this.trackWidth; // Min track width: 5%\n    this.scrollbar.style.setProperty('--track-width', `${this.trackWidth}%`);\n  }\n\n  calculatePosition() {\n    /* Scrollbar width must be re-calculated by subtracting the track width (in percentage)\n     ** E.g. if the track width is 15% of the scroll bar then we must use a reduced by 15% scrollbar width for the calculations which is 85% of the total scrollbar width\n     ** This is needed in order to prevent the track moving out of the scrollbar container\n     */\n    const reducedScrollbarWidth = this.scrollbar.clientWidth * ((100 - this.trackWidth) / 100);\n    let position = this.itemsParent.scrollLeft / (this.itemsParent.scrollWidth - this.itemsParent.clientWidth);\n\n    position *= reducedScrollbarWidth;\n\n    this.scrollbar.style.setProperty('--position', `${Math.round(position)}px`);\n  }\n\n  destroy() {\n    this.itemsParent.removeEventListener('scroll', this.scrollEvent);\n    document.removeEventListener('theme:resize', this.resizeEvent);\n  }\n}\n\nexport default CustomScrollbar;\n","import FlickityAsNavFor from 'flickity-as-nav-for';\nimport debounce from '../util/debounce';\nimport CustomScrollbar from '../features/custom-scrollbar';\n\nconst selectors = {\n  productContainer: '[data-product-container]',\n  productSlideshow: '[data-product-slideshow]',\n  productImage: '[data-product-single-media-wrapper]',\n  productThumbs: '[data-product-single-media-thumbs]',\n  productThumb: '[data-thumbnail]',\n  productThumbLink: '[data-thumbnail-id]',\n  deferredMediaButton: '[data-deferred-media-button]',\n  mediaType: 'data-type',\n  id: 'data-id',\n  tabIndex: 'tabindex',\n  arrows: 'data-arrows',\n  dots: 'data-dots',\n};\n\nconst classes = {\n  active: 'active',\n  sliderEnabled: 'flickity-enabled',\n  scrollable: 'product--layout-scrollable',\n  mediaHidden: 'media--hidden',\n  focusEnabled: 'is-focused',\n  thumbsArrows: 'product__images__slider-nav--arrows',\n  isMoving: 'is-moving',\n};\n\nclass InitSlider {\n  constructor(section) {\n    this.container = section.container;\n    this.productContainer = this.container.querySelector(selectors.productContainer);\n    this.scrollable = this.productContainer.classList.contains(classes.scrollable);\n    this.slideshow = this.container.querySelector(selectors.productSlideshow);\n    this.productImages = this.container.querySelectorAll(selectors.productImage);\n    this.thumbs = this.container.querySelector(selectors.productThumbs);\n    this.flkty = null;\n    this.flktyNav = null;\n    this.sliderResizeEvent = debounce(() => this.flickityResizeEvent(), 250);\n    this.thumbsResizeEvent = debounce(() => this.checkThumbsWidth(), 250);\n    this.scrollableResizeEvent = debounce(() => this.toggleCustomScrollbar(), 250);\n\n    if (this.productImages.length > 1) {\n      this.init();\n    }\n  }\n\n  init() {\n    this.createSlider();\n    this.createSliderNav();\n    this.createScrollable();\n  }\n\n  createSlider() {\n    if (!this.slideshow) {\n      return;\n    }\n\n    const instance = this;\n    const firstSlide = this.slideshow.querySelectorAll(`[${selectors.mediaType}]`)[0];\n    const arrows = this.slideshow.getAttribute(selectors.arrows) === 'true';\n    const dots = this.slideshow.getAttribute(selectors.dots) === 'true';\n\n    const flickityOptions = {\n      autoPlay: false,\n      arrowShape: theme.icons.arrowNavSlider,\n      prevNextButtons: arrows,\n      contain: true,\n      pageDots: dots,\n      adaptiveHeight: true,\n      wrapAround: true,\n      resize: false,\n    };\n\n    this.flkty = new FlickityAsNavFor(this.slideshow, flickityOptions);\n\n    if (firstSlide) {\n      const firstType = firstSlide.getAttribute(selectors.mediaType);\n\n      if (firstType === 'model' || firstType === 'video' || firstType === 'external_video') {\n        this.flkty.options.draggable = false;\n        this.flkty.updateDraggable();\n      }\n    }\n\n    this.flkty.on('dragStart', function () {\n      instance.slideshow.classList.add(classes.isMoving);\n      document.ontouchmove = (e) => e.preventDefault();\n    });\n    this.flkty.on('dragEnd', () => (document.ontouchmove = () => true));\n\n    this.flkty.on('change', function (index) {\n      const currentMedia = this.cells[index].element;\n      const newMedia = this.selectedElement;\n\n      currentMedia.dispatchEvent(new CustomEvent('mediaHidden'));\n      newMedia.classList.remove(classes.mediaHidden);\n    });\n\n    this.flkty.on('settle', function () {\n      const currentMedia = this.selectedElement;\n      const mediaType = currentMedia.getAttribute(selectors.mediaType);\n\n      if (mediaType === 'model' || mediaType === 'video' || mediaType === 'external_video') {\n        // fisrt boolean sets value, second option false to prevent refresh\n        instance.flkty.options.draggable = false;\n        instance.flkty.updateDraggable();\n      } else {\n        instance.flkty.options.draggable = true;\n        instance.flkty.updateDraggable();\n      }\n\n      instance.switchMedia(currentMedia);\n      instance.slideshow.classList.remove(classes.isMoving);\n\n      if (instance.flkty.resizeQueued) {\n        instance.flkty.resizeQueued = false;\n        instance.flkty.onresize();\n      }\n    });\n\n    window.addEventListener('resize', this.sliderResizeEvent);\n  }\n\n  createSliderNav() {\n    if (!this.thumbs || !this.slideshow) {\n      return;\n    }\n\n    const flickityOptionsNav = {\n      asNavFor: this.slideshow,\n      pageDots: false,\n      prevNextButtons: true,\n      arrowShape: theme.icons.arrowNavSlider,\n      groupCells: true,\n      contain: true,\n      resize: false,\n    };\n\n    this.flktyNav = new FlickityAsNavFor(this.thumbs, flickityOptionsNav);\n    this.flktyNav.on('dragStart', () => (document.ontouchmove = (e) => e.preventDefault()));\n    this.flktyNav.on('dragEnd', () => (document.ontouchmove = () => true));\n    this.flktyNav.on('settle', () => {\n      if (this.flktyNav.resizeQueued) {\n        this.flktyNav.resizeQueued = false;\n        this.flktyNav.onresize();\n      }\n    });\n\n    this.checkThumbsWidth();\n    window.addEventListener('resize', this.thumbsResizeEvent);\n\n    this.thumbs.querySelectorAll(selectors.productThumbLink).forEach((thumbLink) => {\n      thumbLink.addEventListener('click', (e) => {\n        e.preventDefault();\n      });\n    });\n  }\n\n  checkThumbsWidth() {\n    const thumbs = this.thumbs.querySelectorAll(selectors.productThumb);\n    const thumbsContainerPadding = parseInt(window.getComputedStyle(this.thumbs).paddingLeft.replace('px', '')) * 2;\n    const thumbsContainerWidth = this.thumbs.offsetWidth - thumbsContainerPadding;\n    let thumbsWidth = 0;\n\n    thumbs.forEach((thumb) => {\n      thumbsWidth += thumb.offsetWidth;\n    });\n\n    if (thumbsContainerWidth < thumbsWidth) {\n      this.thumbs.classList.add(classes.thumbsArrows);\n    } else {\n      this.thumbs.classList.remove(classes.thumbsArrows);\n    }\n  }\n\n  flickityResizeEvent() {\n    if (this.flkty) {\n      if (this.flkty.isAnimating) {\n        this.flkty.resizeQueued = true;\n      } else {\n        this.flkty.onresize();\n      }\n    }\n\n    if (this.flktyNav) {\n      if (this.flktyNav.isAnimating) {\n        this.flktyNav.resizeQueued = true;\n      } else {\n        this.flktyNav.onresize();\n      }\n    }\n  }\n\n  createScrollable() {\n    if (!this.scrollable) {\n      return;\n    }\n\n    this.toggleCustomScrollbar();\n    window.addEventListener('resize', this.scrollableResizeEvent);\n  }\n\n  toggleCustomScrollbar() {\n    if (window.innerWidth < window.theme.sizes.small) {\n      this.customScrollbar = new CustomScrollbar(this.container);\n    } else if (this.customScrollbar) {\n      this.customScrollbar.destroy();\n    }\n  }\n\n  switchMedia(currentMedia) {\n    const otherMedia = Array.prototype.filter.call(currentMedia.parentNode.children, function (child) {\n      return child !== currentMedia;\n    });\n    const isFocusEnabled = document.body.classList.contains(classes.focusEnabled);\n\n    if (isFocusEnabled) {\n      currentMedia.dispatchEvent(new Event('focus'));\n    }\n\n    if (otherMedia.length) {\n      otherMedia.forEach((element) => {\n        element.classList.add(classes.mediaHidden);\n        element.dispatchEvent(new CustomEvent('mediaHidden'));\n      });\n    }\n\n    currentMedia.classList.remove(classes.mediaHidden);\n    currentMedia.dispatchEvent(new CustomEvent('mediaVisible'));\n\n    // Force media loading if slide becomes visible\n    const deferredMedia = currentMedia.querySelector('deferred-media');\n    if (deferredMedia && deferredMedia.getAttribute('loaded') !== true) {\n      currentMedia.querySelector(selectors.deferredMediaButton).dispatchEvent(new Event('click', {bubbles: false}));\n    }\n  }\n}\n\nexport default InitSlider;\n","import openPhotoSwipe from '../util/open-photoswipe';\n\nconst selectors = {\n  productContainer: '[data-product-container]',\n  productSlideshow: '[data-product-slideshow]',\n  zoomWrapper: '[data-zoom-wrapper]',\n  dataImageSrc: 'data-image-src',\n  dataImageWidth: 'data-image-width',\n  dataImageHeight: 'data-image-height',\n  dataImageZoomEnable: 'data-lightbox',\n};\n\nconst classes = {\n  popupClass: 'pswp-zoom-gallery',\n  popupClassNoThumbs: 'pswp-zoom-gallery--single',\n  isMoving: 'is-moving',\n};\n\nclass Zoom {\n  constructor(section) {\n    this.container = section.container;\n    this.productContainer = this.container.querySelector(selectors.productContainer);\n    this.slideshow = this.container.querySelector(selectors.productSlideshow);\n    this.zoomWrappers = this.container.querySelectorAll(selectors.zoomWrapper);\n    this.zoomEnable = this.productContainer.getAttribute(selectors.dataImageZoomEnable) === 'true';\n\n    if (this.zoomEnable) {\n      this.init();\n    }\n  }\n\n  init() {\n    if (this.zoomWrappers.length) {\n      this.zoomWrappers.forEach((element, i) => {\n        element.addEventListener('click', (e) => {\n          e.preventDefault();\n\n          const isMoving = this.slideshow && this.slideshow.classList.contains(classes.isMoving);\n\n          if (!isMoving) {\n            this.createZoom(i);\n          }\n        });\n\n        element.addEventListener('keyup', (e) => {\n          // On keypress Enter move the focus to the first focusable element in the related slide\n          if (e.keyCode === theme.keyboardKeys.ENTER) {\n            e.preventDefault();\n\n            this.createZoom(i);\n          }\n        });\n      });\n    }\n  }\n\n  createZoom(indexImage) {\n    const instance = this;\n    let items = [];\n    let counter = 0;\n\n    this.zoomWrappers.forEach((elementImage) => {\n      const imgSrc = elementImage.getAttribute('href');\n      const imgWidth = parseInt(elementImage.getAttribute(selectors.dataImageWidth));\n      const imgHeight = parseInt(elementImage.getAttribute(selectors.dataImageHeight));\n\n      items.push({\n        src: imgSrc,\n        w: imgWidth,\n        h: imgHeight,\n        msrc: imgSrc,\n      });\n\n      counter += 1;\n      if (instance.zoomWrappers.length === counter) {\n        let popupClass = `${classes.popupClass}`;\n        if (counter === 1) {\n          popupClass = `${classes.popupClass} ${classes.popupClassNoThumbs}`;\n        }\n        const options = {\n          barsSize: {top: 0, bottom: 'auto'},\n          history: false,\n          focus: false,\n          index: indexImage,\n          mainClass: popupClass,\n          showHideOpacity: true,\n          showAnimationDuration: 250,\n          hideAnimationDuration: 250,\n          closeOnScroll: false,\n          closeOnVerticalDrag: false,\n          captionEl: false,\n          closeEl: true,\n          closeElClasses: ['caption-close'],\n          tapToClose: false,\n          clickToCloseNonZoomable: false,\n          maxSpreadZoom: 2,\n          loop: true,\n          spacing: 0,\n          allowPanToNext: true,\n          pinchToClose: false,\n        };\n\n        openPhotoSwipe(items, options);\n      }\n    });\n  }\n}\n\nexport default Zoom;\n","import loadScript from '../util/loader';\n\nconst hosts = {\n  html5: 'html5',\n  youtube: 'youtube',\n};\n\nconst selectors = {\n  deferredMedia: '[data-deferred-media]',\n  deferredMediaButton: '[data-deferred-media-button]',\n  productMediaWrapper: '[data-product-single-media-wrapper]',\n  productMediaSlider: '[data-product-single-media-slider]',\n  mediaContainer: '[data-video]',\n  mediaId: 'data-media-id',\n};\n\nconst classes = {\n  mediaHidden: 'media--hidden',\n};\n\ntheme.mediaInstances = {};\nclass Video {\n  constructor(section) {\n    this.section = section;\n    this.container = section.container;\n    this.id = section.id;\n    this.players = {};\n    this.init();\n  }\n\n  init() {\n    const mediaContainers = this.container.querySelectorAll(selectors.mediaContainer);\n\n    mediaContainers.forEach((mediaContainer) => {\n      const deferredMediaButton = mediaContainer.querySelector(selectors.deferredMediaButton);\n\n      if (deferredMediaButton) {\n        deferredMediaButton.addEventListener('click', this.loadContent.bind(this, mediaContainer));\n      }\n    });\n  }\n\n  loadContent(mediaContainer) {\n    if (mediaContainer.querySelector(selectors.deferredMedia).getAttribute('loaded')) {\n      return;\n    }\n\n    const content = document.createElement('div');\n    content.appendChild(mediaContainer.querySelector('template').content.firstElementChild.cloneNode(true));\n    const mediaId = mediaContainer.dataset.mediaId;\n    const element = content.querySelector('video, iframe');\n    const host = this.hostFromVideoElement(element);\n    const deferredMedia = mediaContainer.querySelector(selectors.deferredMedia);\n    deferredMedia.appendChild(element).focus();\n    deferredMedia.setAttribute('loaded', true);\n\n    this.players[mediaId] = {\n      mediaId: mediaId,\n      sectionId: this.id,\n      container: mediaContainer,\n      element: element,\n      host: host,\n      ready: () => {\n        this.createPlayer(mediaId);\n      },\n    };\n\n    const video = this.players[mediaId];\n\n    switch (video.host) {\n      case hosts.html5:\n        this.loadVideo(video, hosts.html5);\n        break;\n      case hosts.youtube:\n        if (window.isYoutubeAPILoaded) {\n          this.loadVideo(video, hosts.youtube);\n        } else {\n          loadScript({url: 'https://www.youtube.com/iframe_api'}).then(() => this.loadVideo(video, hosts.youtube));\n        }\n        break;\n    }\n  }\n\n  hostFromVideoElement(video) {\n    if (video.tagName === 'VIDEO') {\n      return hosts.html5;\n    }\n\n    if (video.tagName === 'IFRAME') {\n      if (/^(https?:\\/\\/)?(www\\.)?(youtube\\.com|youtube-nocookie\\.com|youtu\\.?be)\\/.+$/.test(video.src)) {\n        return hosts.youtube;\n      }\n    }\n    return null;\n  }\n\n  loadVideo(video, host) {\n    if (video.host === host) {\n      video.ready();\n    }\n  }\n\n  createPlayer(mediaId) {\n    const video = this.players[mediaId];\n    const enableLooping = video.container.dataset.enableVideoLooping;\n\n    switch (video.host) {\n      case hosts.html5:\n        // Force video play on iOS\n        video.element.play();\n        video.element.addEventListener('play', () => {\n          this.pauseOtherMedia(mediaId);\n        });\n\n        video.container.addEventListener('mediaHidden', (event) => this.onHidden(event));\n        video.container.addEventListener('xrLaunch', (event) => this.onHidden(event));\n        video.container.addEventListener('mediaVisible', (event) => this.onVisible(event));\n\n        this.observeVideo(video);\n\n        break;\n\n      case hosts.youtube:\n        if (video.host == hosts.youtube && video.player) {\n          return;\n        }\n\n        YT.ready(() => {\n          const videoId = video.container.dataset.videoId;\n\n          this.players[mediaId].player = new YT.Player(video.element, {\n            videoId: videoId,\n            events: {\n              onReady: (event) => {\n                event.target.playVideo(); // Force video autoplay on iOS\n              },\n              onStateChange: (event) => {\n                if (event.data === 0) {\n                  // ended\n                  if (enableLooping) {\n                    event.target.seekTo(0);\n                  }\n                }\n                if (event.data === 1) {\n                  // playing\n                  this.pauseOtherMedia(mediaId);\n                }\n                if (event.data === 2) {\n                  // paused\n                }\n              },\n            },\n          });\n\n          window.isYoutubeAPILoaded = true;\n\n          // Force video play on iOS\n          video.container.addEventListener('mediaHidden', (event) => this.onHidden(event));\n          video.container.addEventListener('xrLaunch', (event) => this.onHidden(event));\n          video.container.addEventListener('mediaVisible', (event) => this.onVisible(event));\n\n          this.observeVideo(video);\n        });\n\n        break;\n    }\n  }\n\n  observeVideo(video) {\n    let observer = new IntersectionObserver(\n      (entries, observer) => {\n        entries.forEach((entry) => {\n          const outsideViewport = entry.intersectionRatio != 1;\n\n          if (outsideViewport) {\n            this.pauseVideo(video);\n          } else {\n            this.playVideo(video);\n          }\n        });\n      },\n      {threshold: 1}\n    );\n    observer.observe(video.element);\n  }\n\n  playVideo(video) {\n    if (video.player && video.player.playVideo) {\n      video.player.playVideo();\n    } else if (video.element && video.element.play) {\n      video.element.play();\n    }\n  }\n\n  pauseVideo(video) {\n    if (video.player && video.player.pauseVideo) {\n      video.player.pauseVideo();\n    } else if (video.element && video.element.pause) {\n      video.element.pause();\n    }\n  }\n\n  onHidden(event) {\n    if (typeof event.target.dataset.mediaId !== 'undefined') {\n      const mediaId = event.target.dataset.mediaId;\n      const video = this.players[mediaId];\n      this.pauseVideo(video);\n    }\n  }\n\n  onVisible(event) {\n    if (typeof event.target.dataset.mediaId !== 'undefined') {\n      const mediaId = event.target.dataset.mediaId;\n      const video = this.players[mediaId];\n      this.playVideo(video);\n    }\n  }\n\n  pauseOtherMedia(mediaId) {\n    const mediaIdString = `[${selectors.mediaId}=\"${mediaId}\"]`;\n    const currentMedia = document.querySelector(`${selectors.productMediaWrapper}${mediaIdString}`);\n    const otherMedia = document.querySelectorAll(`${selectors.productMediaWrapper}:not(${mediaIdString})`);\n    currentMedia.classList.remove(classes.mediaHidden);\n\n    if (otherMedia.length) {\n      otherMedia.forEach((element) => {\n        element.dispatchEvent(new CustomEvent('mediaHidden'));\n        element.classList.add(classes.mediaHidden);\n      });\n    }\n  }\n}\nexport default Video;\n","import InitSlider from './init-slider';\nimport Zoom from './zoom';\nimport Video from './video';\n\ntheme.mediaInstances = {};\n\nconst selectors = {\n  videoPlayer: '[data-video]',\n  modelViewer: '[data-model]',\n  sliderEnabled: 'flickity-enabled',\n  classMediaHidden: 'media--hidden',\n};\n\nclass Media {\n  constructor(section) {\n    this.section = section;\n    this.id = section.id;\n    this.container = section.container;\n  }\n\n  init() {\n    this.detect3d();\n    this.launch3d();\n\n    new Video(this.section);\n    new Zoom(this.section);\n    new InitSlider(this.section);\n  }\n\n  detect3d() {\n    const modelViewerElements = this.container.querySelectorAll(selectors.modelViewer);\n    if (modelViewerElements.length) {\n      modelViewerElements.forEach((element) => {\n        theme.ProductModel.init(element, this.id);\n      });\n    }\n  }\n\n  launch3d() {\n    const instance = this;\n\n    document.addEventListener('shopify_xr_launch', function () {\n      const currentMedia = instance.container.querySelector(`${selectors.modelViewer}:not(.${selectors.classMediaHidden})`);\n      currentMedia.dispatchEvent(new CustomEvent('xrLaunch'));\n    });\n  }\n}\n\nexport default Media;\n","const hideElement = (elem) => {\n  if (elem) {\n    elem.style.display = 'none';\n  }\n};\n\nexport default hideElement;\n","import * as a11y from '../vendor/theme-scripts/theme-a11y';\n\nconst selectors = {\n  list: '[data-store-availability-list]',\n};\n\nconst defaults = {\n  close: '.js-modal-close',\n  open: '.js-modal-open-store-availability-modal',\n  openClass: 'modal--is-active',\n  openBodyClass: 'modal--is-visible',\n  closeModalOnClick: false,\n};\n\nclass Modals {\n  constructor(id, options) {\n    this.modal = document.getElementById(id);\n    this.accessibility = a11y;\n\n    if (!this.modal) {\n      return false;\n    }\n\n    this.nodes = {\n      parents: [document.querySelector('html'), document.body],\n    };\n\n    this.config = Object.assign(defaults, options);\n\n    this.modalIsOpen = false;\n\n    this.focusOnOpen = this.config.focusOnOpen ? document.getElementById(this.config.focusOnOpen) : this.modal;\n\n    this.openElement = document.querySelector(this.config.open);\n    this.init();\n  }\n\n  init() {\n    this.openElement.addEventListener('click', this.open.bind(this));\n\n    this.modal.querySelector(this.config.close).addEventListener('click', this.closeModal.bind(this));\n  }\n\n  open(evt) {\n    var self = this;\n\n    // Keep track if modal was opened from a click, or called by another function\n    var externalCall = false;\n\n    if (this.modalIsOpen) {\n      return;\n    }\n\n    // Prevent following href if link is clicked\n    if (evt) {\n      evt.preventDefault();\n    } else {\n      externalCall = true;\n    }\n\n    // Without this, the modal opens, the click event bubbles up\n    // which closes the modal.\n    if (evt && evt.stopPropagation) {\n      evt.stopPropagation();\n    }\n\n    if (this.modalIsOpen && !externalCall) {\n      this.closeModal();\n    }\n\n    this.modal.classList.add(this.config.openClass);\n\n    this.nodes.parents.forEach(function (node) {\n      node.classList.add(self.config.openBodyClass);\n    });\n\n    this.modalIsOpen = true;\n\n    // Scroll lock\n    this.scrollableElement = document.querySelector(selectors.list);\n    document.dispatchEvent(new CustomEvent('theme:scroll:lock', {bubbles: true, detail: this.scrollableElement}));\n\n    this.accessibility.trapFocus(this.modal);\n\n    this.bindEvents();\n  }\n\n  closeModal() {\n    if (!this.modalIsOpen) {\n      return;\n    }\n\n    document.activeElement.blur();\n\n    this.modal.classList.remove(this.config.openClass);\n\n    var self = this;\n\n    document.dispatchEvent(new CustomEvent('theme:scroll:unlock', {bubbles: true}));\n\n    this.nodes.parents.forEach(function (node) {\n      node.classList.remove(self.config.openBodyClass);\n    });\n\n    this.modalIsOpen = false;\n\n    this.accessibility.removeTrapFocus();\n\n    this.openElement.focus();\n\n    this.unbindEvents();\n  }\n\n  bindEvents() {\n    this.keyupHandler = this.keyupHandler.bind(this);\n    this.clickHandler = this.clickHandler.bind(this);\n    document.body.addEventListener('keyup', this.keyupHandler);\n    document.body.addEventListener('click', this.clickHandler);\n  }\n\n  unbindEvents() {\n    document.body.removeEventListener('keyup', this.keyupHandler);\n    document.body.removeEventListener('click', this.clickHandler);\n  }\n\n  keyupHandler(event) {\n    if (event.keyCode === 27) {\n      this.closeModal();\n    }\n  }\n\n  clickHandler(event) {\n    if (this.config.closeModalOnClick && !this.modal.contains(event.target)) {\n      this.closeModal();\n    }\n  }\n}\n\nexport {Modals};\n","import {Modals} from './modals';\n\nconst selectors = {\n  body: 'body',\n  storeAvailabilityModal: '[data-store-availability-modal]',\n  storeAvailabilityModalOpen: '[data-store-availability-modal-open]',\n  storeAvailabilityModalClose: '[data-store-availability-modal-close]',\n  storeAvailabilityModalProductTitle: '[data-store-availability-modal-product-title]',\n};\n\nconst classes = {\n  openClass: 'store-availabilities-modal--active',\n  hidden: 'visually-hidden',\n};\n\nclass StoreAvailability {\n  constructor(container) {\n    this.container = container;\n  }\n\n  updateContent(variantId, productTitle) {\n    this._fetchStoreAvailabilities(variantId, productTitle);\n  }\n\n  clearContent() {\n    this.container.innerHTML = '';\n  }\n\n  _initModal() {\n    return new Modals('StoreAvailabilityModal', {\n      close: selectors.storeAvailabilityModalClose,\n      open: selectors.storeAvailabilityModalOpen,\n      closeModalOnClick: true,\n      openClass: classes.openClass,\n    });\n  }\n\n  _fetchStoreAvailabilities(variantId, productTitle) {\n    const variantSectionUrl = `/variants/${variantId}/?section_id=store-availability`;\n    this.clearContent();\n    const self = this;\n    fetch(variantSectionUrl)\n      .then(function (response) {\n        return response.text();\n      })\n      .then(function (storeAvailabilityHTML) {\n        if (storeAvailabilityHTML.trim() === '') {\n          return;\n        }\n\n        const body = document.querySelector(selectors.body);\n        let storeAvailabilityModal = body.querySelector(selectors.storeAvailabilityModal);\n\n        if (storeAvailabilityModal) {\n          storeAvailabilityModal.remove();\n        }\n\n        self.container.innerHTML = storeAvailabilityHTML;\n        self.container.innerHTML = self.container.firstElementChild.innerHTML;\n\n        const storeAvailabilityModalOpen = self.container.querySelector(selectors.storeAvailabilityModalOpen);\n        // Only create modal if open modal element exists\n        if (!storeAvailabilityModalOpen) {\n          return;\n        }\n\n        self.modal = self._initModal();\n        self._updateProductTitle(productTitle);\n\n        storeAvailabilityModal = self.container.querySelector(selectors.storeAvailabilityModal);\n\n        if (storeAvailabilityModal) {\n          body.appendChild(storeAvailabilityModal);\n        }\n      });\n  }\n\n  _updateProductTitle(productTitle) {\n    var storeAvailabilityModalProductTitle = this.container.querySelector(selectors.storeAvailabilityModalProductTitle);\n    storeAvailabilityModalProductTitle.textContent = productTitle;\n  }\n}\n\nexport {StoreAvailability};\n","export default function Listeners() {\n  this.entries = [];\n}\n\nListeners.prototype.add = function (element, event, fn) {\n  this.entries.push({element: element, event: event, fn: fn});\n  element.addEventListener(event, fn);\n};\n\nListeners.prototype.removeAll = function () {\n  this.entries = this.entries.filter(function (listener) {\n    listener.element.removeEventListener(listener.event, listener.fn);\n    return false;\n  });\n};\n","/**\n * Find a match in the project JSON (using a ID number) and return the variant (as an Object)\n * @param {Object} product Product JSON object\n * @param {Number} value Accepts Number (e.g. 6908023078973)\n * @returns {Object} The variant object once a match has been successful. Otherwise null will be return\n */\nexport function getVariantFromId(product, value) {\n  _validateProductStructure(product);\n\n  if (typeof value !== 'number') {\n    throw new TypeError(value + ' is not a Number.');\n  }\n\n  var result = product.variants.filter(function (variant) {\n    return variant.id === value;\n  });\n\n  return result[0] || null;\n}\n\n/**\n * Convert the Object (with 'name' and 'value' keys) into an Array of values, then find a match & return the variant (as an Object)\n * @param {Object} product Product JSON object\n * @param {Object} collection Object with 'name' and 'value' keys (e.g. [{ name: \"Size\", value: \"36\" }, { name: \"Color\", value: \"Black\" }])\n * @returns {Object || null} The variant object once a match has been successful. Otherwise null will be returned\n */\nexport function getVariantFromSerializedArray(product, collection) {\n  _validateProductStructure(product);\n\n  // If value is an array of options\n  var optionArray = _createOptionArrayFromOptionCollection(product, collection);\n  return getVariantFromOptionArray(product, optionArray);\n}\n\n/**\n * Find a match in the project JSON (using Array with option values) and return the variant (as an Object)\n * @param {Object} product Product JSON object\n * @param {Array} options List of submitted values (e.g. ['36', 'Black'])\n * @returns {Object || null} The variant object once a match has been successful. Otherwise null will be returned\n */\nexport function getVariantFromOptionArray(product, options) {\n  _validateProductStructure(product);\n  _validateOptionsArray(options);\n\n  var result = product.variants.filter(function (variant) {\n    return options.every(function (option, index) {\n      return variant.options[index] === option;\n    });\n  });\n\n  return result[0] || null;\n}\n\n/**\n * Creates an array of selected options from the object\n * Loops through the project.options and check if the \"option name\" exist (product.options.name) and matches the target\n * @param {Object} product Product JSON object\n * @param {Array} collection Array of object (e.g. [{ name: \"Size\", value: \"36\" }, { name: \"Color\", value: \"Black\" }])\n * @returns {Array} The result of the matched values. (e.g. ['36', 'Black'])\n */\nfunction _createOptionArrayFromOptionCollection(product, collection) {\n  _validateProductStructure(product);\n  _validateSerializedArray(collection);\n\n  var optionArray = [];\n\n  collection.forEach(function (option) {\n    for (var i = 0; i < product.options.length; i++) {\n      var name = product.options[i].name || product.options[i];\n      if (name.toLowerCase() === option.name.toLowerCase()) {\n        optionArray[i] = option.value;\n        break;\n      }\n    }\n  });\n\n  return optionArray;\n}\n\n/**\n * Check if the product data is a valid JS object\n * Error will be thrown if type is invalid\n * @param {object} product Product JSON object\n */\nfunction _validateProductStructure(product) {\n  if (typeof product !== 'object') {\n    throw new TypeError(product + ' is not an object.');\n  }\n\n  if (Object.keys(product).length === 0 && product.constructor === Object) {\n    throw new Error(product + ' is empty.');\n  }\n}\n\n/**\n * Validate the structure of the array\n * It must be formatted like jQuery's serializeArray()\n * @param {Array} collection Array of object [{ name: \"Size\", value: \"36\" }, { name: \"Color\", value: \"Black\" }]\n */\nfunction _validateSerializedArray(collection) {\n  if (!Array.isArray(collection)) {\n    throw new TypeError(collection + ' is not an array.');\n  }\n\n  if (collection.length === 0) {\n    throw new Error(collection + ' is empty.');\n  }\n\n  if (collection[0].hasOwnProperty('name')) {\n    if (typeof collection[0].name !== 'string') {\n      throw new TypeError('Invalid value type passed for name of option ' + collection[0].name + '. Value should be string.');\n    }\n  } else {\n    throw new Error(collection[0] + 'does not contain name key.');\n  }\n}\n\n/**\n * Validate the structure of the array\n * It must be formatted as list of values\n * @param {Array} collection Array of object (e.g. ['36', 'Black'])\n */\nfunction _validateOptionsArray(options) {\n  if (Array.isArray(options) && typeof options[0] === 'object') {\n    throw new Error(options + 'is not a valid array of options.');\n  }\n}\n","import Listeners from './listeners';\nimport {getVariantFromSerializedArray} from './theme-product';\n\nvar selectors = {\n  idInput: '[name=\"id\"]',\n  optionInput: '[name^=\"options\"]',\n  quantityInput: '[name=\"quantity\"]',\n  propertyInput: '[name^=\"properties\"]',\n};\n\n// Public Methods\n// -----------------------------------------------------------------------------\n\n/**\n * Returns a URL with a variant ID query parameter. Useful for updating window.history\n * with a new URL based on the currently select product variant.\n * @param {string} url - The URL you wish to append the variant ID to\n * @param {number} id  - The variant ID you wish to append to the URL\n * @returns {string} - The new url which includes the variant ID query parameter\n */\n\nexport function getUrlWithVariant(url, id) {\n  if (/variant=/.test(url)) {\n    return url.replace(/(variant=)[^&]+/, '$1' + id);\n  } else if (/\\?/.test(url)) {\n    return url.concat('&variant=').concat(id);\n  }\n\n  return url.concat('?variant=').concat(id);\n}\n\n/**\n * Constructor class that creates a new instance of a product form controller.\n *\n * @param {Element} element - DOM element which is equal to the <form> node wrapping product form inputs\n * @param {Object} product - A product object\n * @param {Object} options - Optional options object\n * @param {Function} options.onOptionChange - Callback for whenever an option input changes\n * @param {Function} options.onQuantityChange - Callback for whenever an quantity input changes\n * @param {Function} options.onPropertyChange - Callback for whenever a property input changes\n * @param {Function} options.onFormSubmit - Callback for whenever the product form is submitted\n */\nexport function ProductForm(element, product, options) {\n  this.element = element;\n  this.product = _validateProductObject(product);\n\n  options = options || {};\n\n  this._listeners = new Listeners();\n  this._listeners.add(this.element, 'submit', this._onSubmit.bind(this, options));\n\n  this.optionInputs = this._initInputs(selectors.optionInput, options.onOptionChange);\n\n  //this.quantityInputs = this._initInputs(selectors.quantityInput, options.onQuantityChange);\n\n  this.propertyInputs = this._initInputs(selectors.propertyInput, options.onPropertyChange);\n}\n\n/**\n * Cleans up all event handlers that were assigned when the Product Form was constructed.\n * Useful for use when a section needs to be reloaded in the theme editor.\n */\nProductForm.prototype.destroy = function () {\n  this._listeners.removeAll();\n};\n\n/**\n * Getter method which returns the array of currently selected option values\n *\n * @returns {Array} An array of option values\n */\nProductForm.prototype.options = function () {\n  return _serializeInputValues(this.optionInputs, function (item) {\n    var regex = /(?:^(options\\[))(.*?)(?:\\])/;\n    item.name = regex.exec(item.name)[2]; // Use just the value between 'options[' and ']'\n    return item;\n  });\n};\n\n/**\n * Getter method which returns the currently selected variant, or `null` if variant\n * doesn't exist.\n *\n * @returns {Object|null} Variant object\n */\nProductForm.prototype.variant = function () {\n  return getVariantFromSerializedArray(this.product, this.options());\n};\n\n/**\n * Getter method which returns a collection of objects containing name and values\n * of property inputs\n *\n * @returns {Array} Collection of objects with name and value keys\n */\nProductForm.prototype.properties = function () {\n  return _serializeInputValues(this.propertyInputs, function (item) {\n    var regex = /(?:^(properties\\[))(.*?)(?:\\])/;\n    item.name = regex.exec(item.name)[2]; // Use just the value between 'properties[' and ']'\n    return item;\n  });\n};\n\n/**\n * Getter method which returns the current quantity or 1 if no quantity input is\n * included in the form\n *\n * @returns {Array} Collection of objects with name and value keys\n */\nProductForm.prototype.quantity = function () {\n  return this.quantityInputs[0] ? Number.parseInt(this.quantityInputs[0].value, 10) : 1;\n};\n\n// Private Methods\n// -----------------------------------------------------------------------------\nProductForm.prototype._setIdInputValue = function (value) {\n  var idInputElement = this.element.querySelector(selectors.idInput);\n\n  if (!idInputElement) {\n    idInputElement = document.createElement('input');\n    idInputElement.type = 'hidden';\n    idInputElement.name = 'id';\n    this.element.appendChild(idInputElement);\n  }\n\n  idInputElement.value = value.toString();\n};\n\nProductForm.prototype._onSubmit = function (options, event) {\n  event.dataset = this._getProductFormEventData();\n\n  this._setIdInputValue(event.dataset.variant.id);\n\n  if (options.onFormSubmit) {\n    options.onFormSubmit(event);\n  }\n};\n\nProductForm.prototype._onFormEvent = function (cb) {\n  if (typeof cb === 'undefined') {\n    return Function.prototype;\n  }\n\n  return function (event) {\n    event.dataset = this._getProductFormEventData();\n    cb(event);\n  }.bind(this);\n};\n\nProductForm.prototype._initInputs = function (selector, cb) {\n  var elements = Array.prototype.slice.call(this.element.querySelectorAll(selector));\n\n  return elements.map(\n    function (element) {\n      this._listeners.add(element, 'change', this._onFormEvent(cb));\n      return element;\n    }.bind(this)\n  );\n};\n\nProductForm.prototype._getProductFormEventData = function () {\n  return {\n    options: this.options(),\n    variant: this.variant(),\n    properties: this.properties(),\n    //quantity: this.quantity(),\n  };\n};\n\nfunction _serializeInputValues(inputs, transform) {\n  return inputs.reduce(function (options, input) {\n    if (\n      input.checked || // If input is a checked (means type radio or checkbox)\n      (input.type !== 'radio' && input.type !== 'checkbox') // Or if its any other type of input\n    ) {\n      options.push(transform({name: input.name, value: input.value}));\n    }\n\n    return options;\n  }, []);\n}\n\nfunction _validateProductObject(product) {\n  if (typeof product !== 'object') {\n    throw new TypeError(product + ' is not an object.');\n  }\n\n  if (typeof product.variants[0].options === 'undefined') {\n    throw new TypeError(\n      'Product object is invalid. Make sure you use the product object that is output from {{ product | json }} or from the http://[your-product-url].js route'\n    );\n  }\n\n  return product;\n}\n","import {formatMoney} from '@shopify/theme-currency';\nimport FlickityAsNavFor from 'flickity-as-nav-for';\n\nimport QuantityCounter from '../globals/quantity-handle';\nimport hideElement from '../util/hide-element';\nimport showElement from '../util/show-element';\nimport {StoreAvailability} from './store-availability';\nimport {ProductForm} from '../vendor/theme-scripts/theme-product-form';\n\nconst selectors = {\n  product: '[data-product-container]',\n  productForm: '[data-product-form-container]',\n  addToCart: '[data-add-to-cart]',\n  addToCartText: '[data-add-to-cart-text]',\n  comparePrice: '[data-compare-price]',\n  originalSelectorId: '[data-product-select]',\n  priceWrapper: '[data-price-wrapper]',\n  productSlideshow: '[data-product-slideshow]',\n  productImagesScroller: '[data-custom-scrollbar-items]',\n  productImage: '[data-product-single-media-wrapper]',\n  productJson: '[data-product-json]',\n  productPrice: '[data-product-price]',\n  unitPrice: '[data-product-unit-price]',\n  unitBase: '[data-product-base]',\n  unitWrapper: '[data-product-unit]',\n  storeAvailabilityContainer: '[data-store-availability-container]',\n  preOrderTag: '_preorder',\n  dataImageId: 'data-id',\n  idInput: '[name=\"id\"]',\n  notificationForm: '[data-notification-form]',\n  colorLabel: '[data-color-label]',\n  dataOption: '[data-option]',\n  showQuantity: '[data-show-quantity]',\n  shopBarImageActive: '[data-shop-bar-image-active]',\n  shopBarImageActiveAttr: 'data-shop-bar-image-active',\n  variantId: '[data-variant-id]',\n  variantIdAttr: 'data-variant-id',\n};\n\nconst classes = {\n  hiddenPrice: 'product__price--hidden',\n  visuallyHidden: 'visually-hidden',\n  hidden: 'hidden',\n  productPriceSale: 'product__price--sale',\n  scrollable: 'product--layout-scrollable',\n  sliderEnabled: 'flickity-enabled',\n  onboarding: 'onboarding-product',\n  shopBarImageShown: 'shop-bar__image--shown',\n};\n\nclass ProductAddForm {\n  constructor(section) {\n    this.section = section;\n    this.container = section.container;\n    this.product = this.container.querySelector(selectors.product);\n    this.onboarding = this.product.classList.contains(classes.onboarding);\n    this.scrollable = this.product.classList.contains(classes.scrollable);\n    this.storeAvailabilityContainer = this.container.querySelector(selectors.storeAvailabilityContainer);\n\n    // Stop parsing if we don't have the product\n    if (!this.product || this.onboarding) {\n      return;\n    }\n\n    this.productForm = this.container.querySelector(selectors.productForm);\n\n    if (this.product.querySelector(selectors.showQuantity)) {\n      const counter = new QuantityCounter(this.container);\n      counter.init();\n    }\n\n    this.init();\n\n    this.hasUnitPricing = this.container.querySelector(selectors.unitWrapper);\n  }\n\n  init() {\n    let productJSON = null;\n    const productElemJSON = this.container.querySelector(selectors.productJson);\n    if (productElemJSON) {\n      productJSON = productElemJSON.innerHTML;\n    }\n    if (productJSON) {\n      this.productJSON = JSON.parse(productJSON);\n      this.linkForm();\n    } else {\n      console.error('Missing product JSON');\n    }\n\n    if (this.storeAvailabilityContainer) {\n      this.storeAvailability = new StoreAvailability(this.storeAvailabilityContainer);\n      let variantId = this.productForm.product.variants[0].id;\n\n      if (this.productForm.product.variants.length > 1) {\n        // If there are more variants - set current variant id\n        variantId = this.productForm.variant().id;\n      }\n      this.storeAvailability.updateContent(variantId, this.productForm.product.title);\n    }\n  }\n\n  destroy() {\n    this.productForm.destroy();\n  }\n\n  linkForm() {\n    this.productForm = new ProductForm(this.productForm, this.productJSON, {\n      onOptionChange: this.onOptionChange.bind(this),\n    });\n  }\n\n  onOptionChange(evt) {\n    this.updateAddToCartState(evt);\n    this.updateProductImage(evt);\n    this.updateProductPrices(evt);\n    this.updateColorName(evt);\n    this.updateHiddenSelect(evt);\n    this.updateShopBarImage(evt);\n\n    if (this.storeAvailability) {\n      this.updateStoreAvailability(evt);\n    }\n  }\n\n  updateHiddenSelect(evt) {\n    const variant = evt.dataset.variant;\n\n    if (variant) {\n      let idInputElement = this.container.querySelector(selectors.idInput);\n      if (!idInputElement) {\n        idInputElement = document.createElement('input');\n        idInputElement.type = 'hidden';\n        idInputElement.name = 'id';\n        this.element.appendChild(idInputElement);\n      }\n      idInputElement.value = variant.id.toString();\n      idInputElement.dispatchEvent(new Event('change', {bubbles: true}));\n    }\n  }\n\n  updateAddToCartState(evt) {\n    const variant = evt.dataset.variant;\n    const notificationForm = this.container.querySelectorAll(selectors.notificationForm);\n    const addToCart = this.container.querySelectorAll(selectors.addToCart);\n    const addToCartText = this.container.querySelectorAll(selectors.addToCartText);\n    const formSelects = this.container.querySelectorAll(selectors.originalSelectorId);\n    let addText = theme.translations.add_to_cart;\n\n    if (this.productJSON.tags.includes(selectors.preOrderTag)) {\n      addText = theme.translations.pre_order;\n    }\n\n    if (notificationForm.length) {\n      notificationForm.forEach((element) => {\n        if (variant) {\n          if (variant.available) {\n            element.classList.add(classes.hidden);\n          } else {\n            element.classList.remove(classes.hidden);\n          }\n        } else {\n          element.classList.remove(classes.hidden);\n        }\n      });\n    }\n\n    if (addToCart.length) {\n      addToCart.forEach((element) => {\n        if (variant) {\n          if (variant.available) {\n            element.disabled = false;\n          } else {\n            element.disabled = true;\n          }\n        } else {\n          element.disabled = true;\n        }\n      });\n    }\n\n    if (addToCartText.length) {\n      addToCartText.forEach((element) => {\n        if (variant) {\n          if (variant.available) {\n            element.innerHTML = addText;\n          } else {\n            element.innerHTML = theme.translations.sold_out;\n          }\n        } else {\n          element.innerHTML = theme.translations.unavailable;\n        }\n      });\n    }\n\n    if (formSelects && variant) {\n      formSelects.forEach((formSelect) => {\n        formSelect.value = variant.id;\n      });\n    }\n  }\n\n  updateStoreAvailability(evt) {\n    if (evt.dataset.variant) {\n      this.storeAvailability.updateContent(evt.dataset.variant.id, evt.dataset.variant.title);\n    } else {\n      this.storeAvailability.clearContent();\n    }\n  }\n\n  getBaseUnit(variant) {\n    return variant.unit_price_measurement.reference_value === 1\n      ? variant.unit_price_measurement.reference_unit\n      : variant.unit_price_measurement.reference_value + variant.unit_price_measurement.reference_unit;\n  }\n\n  updateProductPrices(evt) {\n    const variant = evt.dataset.variant;\n    const priceWrappers = this.container.querySelectorAll(selectors.priceWrapper);\n\n    priceWrappers.forEach((wrap) => {\n      const comparePrice = wrap.querySelector(selectors.comparePrice);\n      const productPrice = wrap.querySelector(selectors.productPrice);\n\n      if (variant) {\n        wrap.classList.remove(classes.hiddenPrice);\n        productPrice.innerHTML = formatMoney(variant.price, moneyFormat);\n      } else {\n        wrap.classList.add(classes.hiddenPrice);\n      }\n\n      if (variant && variant.compare_at_price > variant.price) {\n        comparePrice.innerHTML = formatMoney(variant.compare_at_price, moneyFormat);\n        comparePrice.classList.remove(classes.visuallyHidden);\n        productPrice.classList.add(classes.productPriceSale);\n      } else if (comparePrice) {\n        comparePrice.innerHTML = '';\n        comparePrice.classList.add(classes.visuallyHidden);\n        productPrice.classList.remove(classes.productPriceSale);\n      }\n    });\n\n    if (this.hasUnitPricing) {\n      this.updateProductUnits(evt);\n    }\n  }\n\n  updateProductUnits(evt) {\n    const variant = evt.dataset.variant;\n\n    if (typeof variant.unit_price !== 'undefined') {\n      const price = formatMoney(variant.unit_price, moneyFormat);\n      const base = this.getBaseUnit(variant);\n      this.container.querySelector(selectors.unitPrice).innerHTML = price;\n      this.container.querySelector(selectors.unitBase).innerHTML = base;\n      showElement(this.container.querySelector(selectors.unitWrapper));\n    } else {\n      hideElement(this.container.querySelector(selectors.unitWrapper));\n    }\n  }\n\n  updateColorName(evt) {\n    const target = evt.target;\n    const optionLabel = target.closest(selectors.dataOption).querySelector(selectors.colorLabel);\n\n    if (target.tagName === 'INPUT' && optionLabel !== null) {\n      optionLabel.innerText = target.value;\n    }\n  }\n\n  updateProductImage(evt) {\n    const variant = evt.dataset.variant;\n\n    if (variant) {\n      // Update variant image, if one is set\n      if (variant.featured_media) {\n        const newImg = this.container.querySelector(`${selectors.productImage}[${selectors.dataImageId}*=\"${variant.featured_media.id}\"]`);\n\n        if (newImg) {\n          const slider = this.container.querySelector(selectors.productSlideshow);\n\n          if (slider && slider.classList.contains(classes.sliderEnabled)) {\n            const newImagePos = Array.from(newImg.parentElement.children).indexOf(newImg);\n            const flkty = FlickityAsNavFor.data(slider).select(newImagePos);\n          }\n\n          // Scroll to variant image\n          if (this.scrollable) {\n            if (window.innerWidth > window.theme.sizes.small) {\n              const headerHeight = 60; // Header height is always 60px on scroll\n              window.scrollTo({\n                top: newImg.getBoundingClientRect().top + window.scrollY - headerHeight,\n                left: 0,\n                behavior: 'smooth',\n              });\n            } else {\n              const scroller = this.container.querySelector(selectors.productImagesScroller);\n              scroller.scrollTo({\n                top: 0,\n                left: newImg.getBoundingClientRect().left + scroller.scrollLeft,\n                behavior: 'smooth',\n              });\n            }\n          }\n        }\n      }\n    }\n  }\n\n  updateShopBarImage(evt) {\n    const variant = evt.dataset.variant;\n    const shopBarImages = this.container.querySelectorAll(selectors.variantId);\n    const activeImage = this.container.querySelector(selectors.shopBarImageActive);\n\n    if (variant.featured_image === null) {\n      return;\n    }\n\n    if (activeImage) {\n      activeImage.classList.remove(classes.shopBarImageShown);\n      activeImage.removeAttribute(selectors.shopBarImageActiveAttr);\n    }\n\n    shopBarImages.forEach((element) => {\n      if (Number(variant.id) === Number(element.getAttribute(selectors.variantIdAttr))) {\n        element.classList.add(classes.shopBarImageShown);\n        element.setAttribute(selectors.shopBarImageActiveAttr, '');\n      }\n    });\n  }\n}\n\nconst productFormSection = {\n  onLoad() {\n    this.section = new ProductAddForm(this);\n  },\n};\n\nexport {ProductAddForm, productFormSection};\n","import QuantityCounter from '../globals/quantity-handle';\nimport Media from '../media/media';\nimport {getHeight} from '../globals/height';\nimport {Swatch} from '../features/swatch';\nimport * as a11y from '../vendor/theme-scripts/theme-a11y';\n\nimport {ProductAddForm} from './product-form';\n\nconst selectors = {\n  id: 'id',\n  apiContent: '[data-api-content]',\n  quickviewWrap: '[data-quickview-wrap]',\n  quickviewClose: '[data-quickview-close]',\n  featuredBlock: '[data-collection-featured-block]',\n  productBlock: '[data-product-block]',\n  productContainer: '[data-product-container]',\n  productImage: '[data-product-single-media-wrapper]',\n  addToCart: '[data-add-to-cart]',\n  handle: 'data-trigger-quickview',\n  productSlider: '[data-product-slideshow]',\n  swatch: '[data-swatch]',\n  videoLoop: 'data-video-looping',\n  quickviewId: 'data-quickview-id',\n};\n\nconst classes = {\n  isLoading: 'is-loading',\n  isVisible: 'is-visible',\n  isActive: 'is-active',\n  isLoaded: 'is-loaded',\n  focusEnabled: 'is-focused',\n  sliderEnabled: 'flickity-enabled',\n  mediaHidden: 'media--hidden',\n  buttonAlt: 'button--alt',\n  blockQuickView: 'product-block--quickview',\n};\n\n/**\n * Button constructor, triggered for each button by Quickview\n */\nexport default class QuickviewButton {\n  constructor(button, id) {\n    this.button = button;\n    this.id = id;\n    this.handle = this.button.getAttribute(selectors.handle);\n    this.productBlock = this.button.closest(selectors.productBlock);\n    this.quickviewWrap = null;\n    this.quickviewClose = null;\n    this.quickviewWrapHeight = 0;\n    this.isQuickViewLoading = false;\n    this.accessibility = a11y;\n    this.swatches = [];\n    this.form = {};\n    this.init();\n  }\n\n  init() {\n    this.initButton();\n    this.initFetch();\n  }\n\n  initFetch() {\n    this.productBlock.addEventListener(\n      'quickview',\n      () => {\n        this.renderProduct();\n      },\n      false\n    );\n  }\n\n  renderProduct() {\n    const instance = this;\n\n    fetch(`${theme.routes.root_url}products/${instance.handle}?section_id=api-quickview`)\n      .then(function (response) {\n        return response.text();\n      })\n      .then(function (data) {\n        const fresh = document.createElement('div');\n        fresh.innerHTML = data.replaceAll('||collection-index||', instance.handle);\n\n        instance.productBlock.insertAdjacentHTML('beforeend', fresh.querySelector(selectors.apiContent).innerHTML);\n        instance.productBlock.classList.add(classes.isLoaded);\n\n        instance.quickviewWrap = instance.productBlock.querySelector(selectors.quickviewWrap);\n        instance.quickviewClose = instance.quickviewWrap.querySelector(selectors.quickviewClose);\n        instance.quickviewWrapHeight = instance.quickviewWrap.querySelector(selectors.productContainer).offsetHeight;\n\n        instance.onLoaded();\n        instance.show();\n      })\n      .catch(function (error) {\n        console.log('error: ', error);\n      });\n  }\n\n  initButton() {\n    const instance = this;\n    const initButtons = this.productBlock.querySelectorAll(`[${selectors.handle}='${this.handle}']`);\n\n    if (initButtons.length) {\n      initButtons.forEach((element) => {\n        element.addEventListener('click', (e) => {\n          const productBlockLoaded = this.productBlock.classList.contains(classes.isLoaded);\n          const productBlockVisible = this.productBlock.classList.contains(classes.isVisible);\n          const siblingsOpen = this.productBlock.parentNode.querySelector(`.${classes.isVisible}`) !== null;\n          const eventQuickview = new CustomEvent('quickview', {\n            handle: this.handle,\n          });\n\n          if (!this.isQuickViewLoading) {\n            this.isQuickViewLoading = true;\n            this.productBlock.classList.add(classes.isLoading);\n\n            if (productBlockLoaded && productBlockVisible) {\n              // if loaded and visible\n              instance.hide();\n            } else if (productBlockLoaded && !productBlockVisible && !siblingsOpen) {\n              // if loaded but not visible, no other quickViews open\n              instance.show();\n            } else if (productBlockLoaded && !productBlockVisible && siblingsOpen) {\n              // if loaded and not visible, other quickViews are open\n              instance.hide();\n              setTimeout(() => {\n                instance.show();\n              }, 200);\n            } else if (siblingsOpen) {\n              // if not loaded yet, other quickViews open\n              instance.hide();\n              setTimeout(() => {\n                instance.productBlock.dispatchEvent(eventQuickview);\n              }, 200);\n            } else {\n              // if not loaded yet, no other quickViews open\n              instance.productBlock.dispatchEvent(eventQuickview);\n            }\n          }\n\n          e.preventDefault();\n        });\n      });\n    }\n  }\n\n  show() {\n    const sub = (window.innerHeight - this.quickviewWrapHeight) / 2;\n    const offset = this.quickviewWrap.getBoundingClientRect().top + window.scrollY;\n    const scrollPosition = offset - sub - theme.dimensions.headerScrolled;\n    const featuredBlockHeight = getHeight(selectors.featuredBlock);\n    const isFocusEnabled = document.body.classList.contains(classes.focusEnabled);\n    const quickViewPattern = 'api-quickview';\n    const quickViewIds = this.productBlock.querySelectorAll(`[id*=\"${quickViewPattern}\"]`);\n    const quickViewFors = this.productBlock.querySelectorAll(`[for*=\"${quickViewPattern}\"]`);\n    document.documentElement.style.setProperty('--collection-featured-block-height', `${featuredBlockHeight}px`);\n\n    quickViewIds.forEach((element) => {\n      const uniqueId = element.id.replace(quickViewPattern, this.id);\n      element.id = uniqueId;\n    });\n\n    quickViewFors.forEach((element) => {\n      const uniqueFor = element.getAttribute('for').replace(quickViewPattern, this.id);\n      element.setAttribute('for', uniqueFor);\n    });\n\n    this.productBlock.classList.add(classes.isActive);\n    this.productBlock.classList.remove(classes.isLoading);\n\n    window.scrollTo({\n      top: scrollPosition,\n      left: 0,\n      behavior: 'smooth',\n    });\n\n    this.productBlock.classList.add(classes.isVisible);\n    this.isQuickViewLoading = false;\n\n    if (isFocusEnabled) {\n      this.accessibility.trapFocus(this.quickviewWrap, {\n        elementToFocus: this.quickviewClose,\n      });\n    }\n  }\n\n  hide() {\n    const productBlocks = this.productBlock.parentNode.querySelectorAll(selectors.productBlock);\n    const classesToRemove = [classes.isLoading, classes.isVisible, classes.isActive, classes.blockQuickView];\n    const isFocusEnabled = document.body.classList.contains(classes.focusEnabled);\n\n    productBlocks.forEach((productBlock) => {\n      if (productBlock.classList.contains(classes.isVisible)) {\n        const visibleImage = productBlock.querySelector(`${selectors.productImage}.is-selected`);\n        if (visibleImage !== null) {\n          visibleImage.dispatchEvent(new CustomEvent('mediaHidden'));\n          visibleImage.classList.remove(classes.mediaHidden);\n        }\n        productBlock.classList.remove(...classesToRemove);\n      }\n    });\n\n    this.isQuickViewLoading = false;\n    this.accessibility.removeTrapFocus();\n\n    if (isFocusEnabled) {\n      const button = document.querySelector(`[${selectors.handle}=\"${this.handle}\"]`);\n\n      setTimeout(() => {\n        document.documentElement.style.setProperty('--collection-featured-block-height', 'none');\n        button.focus();\n      }, 300);\n    }\n  }\n\n  onLoaded() {\n    const sectionId = `${this.id}-${this.quickviewWrap.getAttribute(selectors.quickviewId)}`;\n    const slider = this.quickviewWrap.querySelector(selectors.productSlider);\n    const hasSlider = slider.classList.contains(classes.sliderEnabled);\n\n    const section = {\n      id: sectionId,\n      container: this.quickviewWrap,\n      type: 'quickview',\n    };\n\n    if (theme.settings.enableVideoLooping) {\n      this.quickviewWrap.setAttribute(selectors.videoLoop, true);\n    }\n\n    if (hasSlider) {\n      window.dispatchEvent(new Event('resize'));\n    } else if (typeof theme.mediaInstances[this.id] === 'undefined') {\n      theme.mediaInstances[sectionId] = new Media(section);\n      theme.mediaInstances[sectionId].init();\n    } else {\n      theme.mediaInstances[sectionId].initSlider();\n    }\n\n    this.form = new ProductAddForm(section);\n\n    if (theme.settings.showQuantity) {\n      const counter = new QuantityCounter(section.container);\n      counter.init();\n    }\n\n    const swatches = section.container.querySelectorAll(selectors.swatch);\n    swatches.forEach((swatch) => {\n      this.swatches.push(new Swatch(swatch));\n    });\n\n    this.quickviewClose.addEventListener('click', (e) => {\n      e.preventDefault();\n      this.hide();\n    });\n\n    document.addEventListener('keyup', (event) => {\n      if (event.keyCode === theme.keyboardKeys.ESCAPE && document.querySelectorAll(`${selectors.productBlock}.${classes.isVisible}`).length) {\n        this.hide();\n      }\n    });\n\n    const event = new CustomEvent('quickview-is-loaded', {\n      bubbles: true,\n    });\n\n    this.productBlock.dispatchEvent(event);\n\n    this.initPaymentButton();\n  }\n\n  initPaymentButton() {\n    const enablePaymentButton = theme.settings.enablePaymentButton;\n    const enableAcceptTerms = theme.settings.enableAcceptTerms;\n    const addToCart = this.quickviewWrap.querySelector(selectors.addToCart);\n\n    if (enablePaymentButton && !enableAcceptTerms) {\n      addToCart.classList.add(classes.buttonAlt);\n\n      if (typeof Shopify !== 'undefined' && typeof Shopify.PaymentButton !== 'undefined' && typeof Shopify.PaymentButton.init !== 'undefined') {\n        Shopify.PaymentButton.init();\n      }\n    } else {\n      addToCart.classList.remove(classes.buttonAlt);\n    }\n  }\n}\n","import QuickviewButton from './quickview-button';\n\nconst selectors = {\n  trigger: '[data-trigger-quickview]',\n  dataSectionId: 'data-section-id',\n};\n\nconst classes = {\n  init: 'is-init',\n};\n\nlet sections = {};\n\nclass Quickview {\n  constructor(container) {\n    this.container = container;\n    this.id = this.container.dataset.sectionId;\n\n    if (theme.settings.showQuickView) {\n      this.init();\n    }\n  }\n\n  init() {\n    sections[this.id] = [];\n    const buttons = this.container.querySelectorAll(selectors.trigger);\n\n    if (buttons.length) {\n      buttons.forEach((element) => {\n        if (!element.classList.contains(classes.init)) {\n          sections[this.id].push(new QuickviewButton(element, this.id));\n          element.classList.add(classes.init);\n        }\n      });\n    }\n  }\n}\n\nconst quickviewSection = {\n  onLoad() {\n    this.section = new Quickview(this.container);\n  },\n};\n\nexport {quickviewSection, Quickview};\n","import Ajaxinate from 'ajaxinate';\nimport setBadgePosition from './badge-position';\nimport debounce from '../util/debounce';\nimport {makeGridSwatches} from '../features/swatch';\nimport {Quickview} from './quickview';\n\nconst selectors = {\n  infinityContainer: '[data-infinity]',\n  pagination: '[data-pagination]',\n  collectionBlockImage: '[data-product-image]',\n  dataId: 'data-section-id',\n};\n\nlet sections = {};\n\nclass Ajaxify {\n  constructor(container) {\n    this.container = container;\n    this.infinityContainer = this.container.querySelector(selectors.infinityContainer);\n    this.endlessScroll = null;\n\n    if (this.infinityContainer) {\n      this.init();\n    }\n  }\n\n  init() {\n    const instance = this;\n    const id = this.container.getAttribute(selectors.dataId);\n    this.fix();\n    this.endlessScroll = new Ajaxinate({\n      container: `section[${selectors.dataId}=\"${id}\"] ${selectors.infinityContainer}`,\n      pagination: `section[${selectors.dataId}=\"${id}\"] ${selectors.pagination}`,\n      callback: function () {\n        instance.setBadge();\n        makeGridSwatches(instance.container);\n        new Quickview(instance.container);\n      },\n    });\n  }\n\n  // Fix ajaxinate in theme editor\n  fix() {\n    Ajaxinate.prototype.loadMore = function loadMore() {\n      this.request = new XMLHttpRequest();\n\n      this.request.onreadystatechange = function success() {\n        if (!this.request.responseXML) {\n          return;\n        }\n        if (!this.request.readyState === 4 || !this.request.status === 200) {\n          return;\n        }\n\n        const newContainer = this.request.responseXML.querySelector(this.settings.container);\n        const newPagination = this.request.responseXML.querySelector(this.settings.pagination);\n\n        this.containerElement.insertAdjacentHTML('beforeend', newContainer.innerHTML);\n\n        if (typeof newPagination === 'undefined' || newPagination === null) {\n          this.removePaginationElement();\n        } else {\n          this.paginationElement.innerHTML = newPagination.innerHTML;\n\n          if (this.settings.callback && typeof this.settings.callback === 'function') {\n            this.settings.callback(this.request.responseXML);\n          }\n\n          this.initialize();\n        }\n      }.bind(this);\n\n      this.request.open('GET', this.nextPageUrl, true);\n      this.request.responseType = 'document';\n      this.request.send();\n    };\n  }\n\n  setBadge() {\n    const images = this.infinityContainer.querySelectorAll(selectors.collectionBlockImage);\n    const resizeEvent = debounce(() => setBadgePosition(images), 50);\n\n    if (theme.settings.imageBackgroundSize === 'contain' && images) {\n      setBadgePosition(images);\n\n      window.removeEventListener('resize', resizeEvent);\n      window.addEventListener('resize', resizeEvent);\n    }\n  }\n\n  unload() {\n    if (this.endlessScroll) {\n      this.endlessScroll.destroy();\n    }\n  }\n}\n\nconst ajaxify = {\n  onLoad() {\n    sections = new Ajaxify(this.container);\n  },\n  onUnload: function () {\n    if (typeof sections.unload === 'function') {\n      sections.unload();\n    }\n  },\n};\n\nexport {ajaxify, Ajaxify};\n","import debounce from '../util/debounce';\nimport {register} from '../vendor/theme-scripts/theme-sections';\nimport removeAnimations from '../features/remove-animations';\nimport {ajaxify} from '../features/infinity-scroll';\n\nconst sections = {};\n\nconst selectors = {\n  blogPost: '[data-blog-post]',\n};\n\nclass Blog {\n  constructor(section) {\n    this.container = section.container;\n    this.resizeEvent = debounce(() => this.checkWindowWidth(), 200);\n\n    this.init();\n  }\n\n  init() {\n    this.checkWindowWidth();\n\n    window.addEventListener('resize', this.resizeEvent);\n  }\n\n  checkWindowWidth() {\n    const windowWidth = window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth;\n\n    if (windowWidth <= theme.sizes.small) {\n      removeAnimations(this.container);\n    }\n  }\n\n  onUnload() {\n    window.removeEventListener('resize', this.resizeEvent);\n  }\n}\n\nconst BlogSection = {\n  onLoad() {\n    sections[this.id] = new Blog(this);\n  },\n  onUnload(e) {\n    sections[this.id].onUnload(e);\n  },\n};\n\nregister('blog', [BlogSection, ajaxify]);\nregister('featured-blog', BlogSection);\n","const selectors = {\n  popoutWrapper: '[data-popout]',\n  popoutList: '[data-popout-list]',\n  popoutToggle: '[data-popout-toggle]',\n  popoutInput: '[data-popout-input]',\n  popoutOptions: '[data-popout-option]',\n  popoutPrevent: 'data-popout-prevent',\n  popoutQuantity: 'data-quantity-field',\n  dataValue: 'data-value',\n  dataName: 'data-name',\n  ariaExpanded: 'aria-expanded',\n  ariaCurrent: 'aria-current',\n};\n\nconst classes = {\n  listVisible: 'popout-list--visible',\n  currentSuffix: '--current',\n  classPopoutAlternative: 'popout-container--alt',\n};\n\nlet sections = {};\n\nclass Popout {\n  constructor(popout) {\n    this.container = popout;\n    this.popoutList = this.container.querySelector(selectors.popoutList);\n    this.popoutToggle = this.container.querySelector(selectors.popoutToggle);\n    this.popoutInput = this.container.querySelector(selectors.popoutInput);\n    this.popoutOptions = this.container.querySelectorAll(selectors.popoutOptions);\n    this.popoutPrevent = this.container.getAttribute(selectors.popoutPrevent) === 'true';\n\n    this._connectOptions();\n    this._connectToggle();\n    this._onFocusOut();\n\n    if (this.popoutInput && this.popoutInput.hasAttribute(selectors.popoutQuantity)) {\n      document.addEventListener('popout:updateValue', this.updatePopout.bind(this));\n    }\n  }\n\n  unload() {\n    if (this.popoutOptions.length) {\n      this.popoutOptions.forEach((element) => {\n        element.removeEventListener('clickDetails', this.popupOptionsClick.bind(this));\n        element.removeEventListener('click', this._connectOptionsDispatch.bind(this));\n      });\n    }\n\n    this.popoutToggle.removeEventListener('click', this.popupToggleClick.bind(this));\n\n    this.popoutToggle.removeEventListener('focusout', this.popupToggleFocusout.bind(this));\n\n    this.popoutList.removeEventListener('focusout', this.popupListFocusout.bind(this));\n\n    this.container.removeEventListener('keyup', this.containerKeyup.bind(this));\n  }\n\n  popupToggleClick(evt) {\n    const ariaExpanded = evt.currentTarget.getAttribute(selectors.ariaExpanded) === 'true';\n    evt.currentTarget.setAttribute(selectors.ariaExpanded, !ariaExpanded);\n    this.popoutList.classList.toggle(classes.listVisible);\n  }\n  popupToggleFocusout(evt) {\n    const popoutLostFocus = this.container.contains(evt.relatedTarget);\n\n    if (!popoutLostFocus) {\n      this._hideList();\n    }\n  }\n  popupListFocusout(evt) {\n    const childInFocus = evt.currentTarget.contains(evt.relatedTarget);\n    const isVisible = this.popoutList.classList.contains(classes.listVisible);\n\n    if (isVisible && !childInFocus) {\n      this._hideList();\n    }\n  }\n  popupOptionsClick(evt) {\n    evt.preventDefault();\n    let attrValue = '';\n    if (evt.currentTarget.getAttribute(selectors.dataValue)) {\n      attrValue = evt.currentTarget.getAttribute(selectors.dataValue);\n    }\n    this.popoutInput.value = attrValue;\n\n    if (this.popoutPrevent) {\n      attrValue = evt.currentTarget.getAttribute(selectors.dataName);\n      this.popoutInput.dispatchEvent(new Event('change'));\n      if (!evt.detail.preventTrigger && this.popoutInput.hasAttribute(selectors.popoutQuantity)) {\n        this.popoutInput.dispatchEvent(new Event('input'));\n      }\n      const currentElement = this.popoutList.querySelector(`[class*=\"${classes.currentSuffix}\"]`);\n      let targetClass = classes.currentSuffix;\n      if (currentElement && currentElement.classList.length) {\n        for (const currentElementClass of currentElement.classList) {\n          if (currentElementClass.includes(classes.currentSuffix)) {\n            targetClass = currentElementClass;\n            break;\n          }\n        }\n      }\n\n      const listTargetElement = this.popoutList.querySelector(`.${targetClass}`);\n      if (listTargetElement) {\n        listTargetElement.classList.remove(`${targetClass}`);\n        evt.currentTarget.parentElement.classList.add(`${targetClass}`);\n      }\n\n      const targetAttribute = this.popoutList.querySelector(`[${selectors.ariaCurrent}]`);\n      if (targetAttribute && targetAttribute.hasAttribute(`${selectors.ariaCurrent}`)) {\n        targetAttribute.removeAttribute(`${selectors.ariaCurrent}`);\n        evt.currentTarget.setAttribute(`${selectors.ariaCurrent}`, 'true');\n      }\n\n      if (attrValue !== '') {\n        this.popoutToggle.textContent = attrValue;\n      }\n\n      this.popupToggleFocusout(evt);\n      this.popupListFocusout(evt);\n    } else {\n      this._submitForm(attrValue);\n    }\n  }\n  updatePopout(evt) {\n    const targetElement = this.popoutList.querySelector(`[${selectors.dataValue}=\"${this.popoutInput.value}\"]`);\n    if (targetElement) {\n      targetElement.dispatchEvent(\n        new CustomEvent('clickDetails', {\n          cancelable: true,\n          bubbles: true,\n          detail: {\n            preventTrigger: true,\n          },\n        })\n      );\n\n      if (!targetElement.parentElement.nextSibling) {\n        this.container.classList.add(classes.classPopoutAlternative);\n      }\n    } else {\n      this.container.classList.add(classes.classPopoutAlternative);\n    }\n  }\n\n  containerKeyup(evt) {\n    if (evt.which !== theme.keyboardKeys.ESCAPE) {\n      return;\n    }\n    this._hideList();\n    this.popoutToggle.focus();\n  }\n\n  bodyClick(evt) {\n    const isOption = this.container.contains(evt.target);\n    const isVisible = this.popoutList.classList.contains(classes.listVisible);\n\n    if (isVisible && !isOption) {\n      this._hideList();\n    }\n  }\n\n  _connectToggle() {\n    this.popoutToggle.addEventListener('click', this.popupToggleClick.bind(this));\n  }\n\n  _connectOptions() {\n    if (this.popoutOptions.length) {\n      this.popoutOptions.forEach((element) => {\n        element.addEventListener('clickDetails', this.popupOptionsClick.bind(this));\n        element.addEventListener('click', this._connectOptionsDispatch.bind(this));\n      });\n    }\n  }\n\n  _connectOptionsDispatch(evt) {\n    const event = new CustomEvent('clickDetails', {\n      cancelable: true,\n      bubbles: true,\n      detail: {\n        preventTrigger: false,\n      },\n    });\n\n    if (!evt.target.dispatchEvent(event)) {\n      evt.preventDefault();\n    }\n  }\n\n  _onFocusOut() {\n    this.popoutToggle.addEventListener('focusout', this.popupToggleFocusout.bind(this));\n\n    this.popoutList.addEventListener('focusout', this.popupListFocusout.bind(this));\n\n    this.container.addEventListener('keyup', this.containerKeyup.bind(this));\n\n    document.body.addEventListener('click', this.bodyClick.bind(this));\n  }\n\n  _submitForm(value) {\n    const form = this.container.closest('form');\n    if (form) {\n      form.submit();\n    }\n  }\n\n  _hideList() {\n    this.popoutList.classList.remove(classes.listVisible);\n    this.popoutToggle.setAttribute(selectors.ariaExpanded, false);\n  }\n}\n\nconst popoutSection = {\n  onLoad() {\n    sections[this.id] = [];\n    const wrappers = this.container.querySelectorAll(selectors.popoutWrapper);\n    wrappers.forEach((wrapper) => {\n      sections[this.id].push(new Popout(wrapper));\n    });\n  },\n  onUnload() {\n    sections[this.id].forEach((popout) => {\n      if (typeof popout.unload === 'function') {\n        popout.unload();\n      }\n    });\n  },\n};\n\nexport {Popout, popoutSection};\n","const selectors = {\n  newsletterForm: '[data-newsletter-form]',\n};\n\nconst classes = {\n  success: 'sign-up-posted',\n};\n\nconst sections = {};\n\nclass NewsletterCheckForResult {\n  constructor(newsletter) {\n    this.sessionStorage = window.sessionStorage;\n    this.newsletter = newsletter;\n\n    this.stopSubmit = true;\n    this.isChallengePage = false;\n    this.formID = null;\n\n    this.checkForChallengePage();\n\n    this.newsletterSubmit = (e) => this.newsletterSubmitEvent(e);\n\n    if (!this.isChallengePage) {\n      this.init();\n    }\n  }\n\n  init() {\n    this.newsletter.addEventListener('submit', this.newsletterSubmit);\n\n    this.showMessage();\n  }\n\n  newsletterSubmitEvent(e) {\n    if (this.stopSubmit) {\n      e.preventDefault();\n\n      this.removeStorage();\n      this.writeStorage();\n      this.stopSubmit = false;\n      this.newsletter.submit();\n    }\n  }\n\n  checkForChallengePage() {\n    this.isChallengePage = window.location.pathname === '/challenge';\n  }\n\n  writeStorage() {\n    if (this.sessionStorage !== undefined) {\n      this.sessionStorage.setItem('newsletter_form_id', this.newsletter.id);\n    }\n  }\n\n  readStorage() {\n    this.formID = this.sessionStorage.getItem('newsletter_form_id');\n  }\n\n  removeStorage() {\n    this.sessionStorage.removeItem('newsletter_form_id');\n  }\n\n  showMessage() {\n    this.readStorage();\n\n    if (this.newsletter.id === this.formID) {\n      const newsletter = document.getElementById(this.formID);\n\n      if (window.location.search.indexOf('?customer_posted=true') !== -1) {\n        document.body.classList.add(classes.success);\n        this.scrollToForm(newsletter);\n      } else if (window.location.search.indexOf('accepts_marketing') !== -1) {\n        document.body.classList.remove(classes.success);\n      }\n    }\n  }\n\n  scrollToForm(newsletter) {\n    const rect = newsletter.getBoundingClientRect();\n    const isVisible =\n      rect.top >= 0 && rect.left >= 0 && rect.bottom <= (window.innerHeight || document.documentElement.clientHeight) && rect.right <= (window.innerWidth || document.documentElement.clientWidth);\n\n    if (!isVisible) {\n      setTimeout(() => {\n        window.scroll({\n          top: rect.top,\n          left: 0,\n          behavior: 'smooth',\n        });\n      }, 400);\n    }\n  }\n\n  unload() {\n    this.newsletter.removeEventListener('submit', this.newsletterSubmit);\n  }\n}\n\nconst newsletterCheckForResultSection = {\n  onLoad() {\n    sections[this.id] = [];\n    const newsletters = this.container.querySelectorAll(selectors.newsletterForm);\n    newsletters.forEach((form) => {\n      sections[this.id].push(new NewsletterCheckForResult(form));\n    });\n  },\n  onUnload() {\n    sections[this.id].forEach((form) => {\n      if (typeof form.unload === 'function') {\n        form.unload();\n      }\n    });\n  },\n};\n\nexport {newsletterCheckForResultSection};\n","import {popoutSection} from '../features/popout';\nimport {newsletterCheckForResultSection} from '../globals/newsletter';\nimport {register} from '../vendor/theme-scripts/theme-sections';\n\nconst footerSection = {\n  onLoad() {\n    // Lighthouse fires security warning for the Shopify link.\n    var shopifyLink = document.querySelector('[data-powered-link] a');\n    if (shopifyLink) {\n      shopifyLink.setAttribute('rel', 'noopener');\n    }\n  },\n};\n\nregister('footer', [popoutSection, footerSection, newsletterCheckForResultSection]);\n","const getSiblings = (el) => {\n  return Array.prototype.filter.call(el.parentNode.children, function (child) {\n    return child !== el;\n  });\n};\n\nexport default getSiblings;\n","import Listeners from '../vendor/theme-scripts/listeners';\n\nconst selectors = {\n  collapsibleTrigger: '[data-collapsible-trigger]',\n  collapsibleContent: '[data-collapsible-content]',\n  navHamburger: '[data-hamburger-scrollable]',\n  header: 'data-header',\n};\n\nconst attributes = {\n  expanded: 'aria-expanded',\n  controls: 'aria-controls',\n  hidden: 'aria-hidden',\n};\n\nconst classes = {\n  isExpanded: 'is-expanded',\n};\n\nconst sections = {};\n\nclass Collapsible {\n  constructor(el) {\n    this.section = el;\n    this.triggers = this.section.querySelectorAll(selectors.collapsibleTrigger);\n    this.resetHeight = 0;\n    this._listeners = new Listeners();\n\n    this.init();\n  }\n\n  init() {\n    const navHamburger = document.querySelector(selectors.navHamburger);\n\n    if (this.section.hasAttribute(selectors.header)) {\n      this.triggers = [...this.triggers, ...navHamburger.querySelectorAll(selectors.collapsibleTrigger)];\n    }\n\n    this.triggers.forEach((trigger) => {\n      this._listeners.add(trigger, 'click', (event) => this.collapsibleToggleEvent(event, trigger));\n      this._listeners.add(trigger, 'keyup', (event) => this.collapsibleToggleEvent(event, trigger));\n    });\n  }\n\n  collapsibleToggleEvent(e, trigger) {\n    e.preventDefault();\n    const dropdownId = trigger.getAttribute(attributes.controls);\n    const dropdown = document.getElementById(dropdownId);\n    const parent = trigger.parentNode;\n    const isExpanded = parent.classList.contains(classes.isExpanded);\n    const isSpace = e.keyCode === theme.keyboardKeys.SPACE;\n    const isEscape = e.keyCode === theme.keyboardKeys.ESCAPE;\n    let dropdownHeight = dropdown.querySelector(selectors.collapsibleContent).offsetHeight;\n\n    // Do nothing if any different than ESC and Space key pressed\n    if (e.keyCode && !isSpace && !isEscape) {\n      return;\n    }\n\n    if (!isExpanded && isEscape) {\n      return;\n    }\n\n    if (isExpanded) {\n      setTimeout(() => {\n        dropdownHeight = 0;\n        this.setDropdownHeight(dropdown, dropdownHeight, isExpanded);\n      }, 0);\n    }\n\n    trigger.setAttribute(attributes.expanded, !isExpanded);\n    parent.classList.toggle(classes.isExpanded, !isExpanded);\n\n    this.setDropdownHeight(dropdown, dropdownHeight, isExpanded);\n  }\n\n  setDropdownHeight(dropdown, dropdownHeight, isExpanded) {\n    dropdown.style.maxHeight = `${dropdownHeight}px`;\n    dropdown.setAttribute(attributes.hidden, isExpanded);\n    let maxHeight = 'none';\n\n    if (this.resetHeight) {\n      clearTimeout(this.resetHeight);\n    }\n\n    if (dropdownHeight === 0) {\n      maxHeight = null;\n    }\n\n    this.resetHeight = setTimeout(() => {\n      dropdown.style.maxHeight = maxHeight;\n    }, 500);\n  }\n\n  onUnload() {\n    this._listeners.removeAll();\n  }\n}\n\nconst collapsible = {\n  onLoad() {\n    sections[this.id] = new Collapsible(this.container);\n  },\n  onUnload(e) {\n    sections[this.id].onUnload(e);\n  },\n};\n\nexport {collapsible, Collapsible};\n","import debounce from '../util/debounce';\n\nconst selectors = {\n  rangeSlider: '[data-range-slider]',\n  rangeDotLeft: '[data-range-left]',\n  rangeDotRight: '[data-range-right]',\n  rangeLine: '[data-range-line]',\n  rangeHolder: '[data-range-holder]',\n  dataMin: 'data-se-min',\n  dataMax: 'data-se-max',\n  dataMinValue: 'data-se-min-value',\n  dataMaxValue: 'data-se-max-value',\n  dataStep: 'data-se-step',\n  dataFilterUpdate: 'data-range-filter-update',\n  priceMin: '[data-field-price-min]',\n  priceMax: '[data-field-price-max]',\n};\n\nconst classes = {\n  classInitialized: 'is-initialized',\n};\n\nconst sections = {};\n\nclass RangeSlider {\n  constructor(section) {\n    this.container = section.container;\n    this.slider = section.querySelector(selectors.rangeSlider);\n    this.resizeFilters = debounce(() => this.reset(), 50);\n\n    if (this.slider) {\n      this.onMoveEvent = (event) => this.onMove(event);\n      this.onStopEvent = (event) => this.onStop(event);\n      this.onStartEvent = (event) => this.onStart(event);\n      this.startX = 0;\n      this.x = 0;\n\n      // retrieve touch button\n      this.touchLeft = this.slider.querySelector(selectors.rangeDotLeft);\n      this.touchRight = this.slider.querySelector(selectors.rangeDotRight);\n      this.lineSpan = this.slider.querySelector(selectors.rangeLine);\n\n      // get some properties\n      this.min = parseFloat(this.slider.getAttribute(selectors.dataMin));\n      this.max = parseFloat(this.slider.getAttribute(selectors.dataMax));\n\n      this.step = 0.0;\n\n      // normalize flag\n      this.normalizeFact = 26;\n\n      this.init();\n    }\n  }\n\n  init() {\n    // retrieve default values\n    let defaultMinValue = this.min;\n    if (this.slider.hasAttribute(selectors.dataMinValue)) {\n      defaultMinValue = parseFloat(this.slider.getAttribute(selectors.dataMinValue));\n    }\n    let defaultMaxValue = this.max;\n\n    if (this.slider.hasAttribute(selectors.dataMaxValue)) {\n      defaultMaxValue = parseFloat(this.slider.getAttribute(selectors.dataMaxValue));\n    }\n\n    // check values are correct\n    if (defaultMinValue < this.min) {\n      defaultMinValue = this.min;\n    }\n\n    if (defaultMaxValue > this.max) {\n      defaultMaxValue = this.max;\n    }\n\n    if (defaultMinValue > defaultMaxValue) {\n      defaultMinValue = defaultMaxValue;\n    }\n\n    if (this.slider.getAttribute(selectors.dataStep)) {\n      this.step = Math.abs(parseFloat(this.slider.getAttribute(selectors.dataStep)));\n    }\n\n    // initial reset\n    this.reset();\n    window.addEventListener('resize', this.resizeFilters);\n\n    // usefull values, min, max, normalize fact is the width of both touch buttons\n    this.maxX = this.slider.offsetWidth - this.touchRight.offsetWidth;\n    this.selectedTouch = null;\n    this.initialValue = this.lineSpan.offsetWidth - this.normalizeFact;\n\n    // set defualt values\n    this.setMinValue(defaultMinValue);\n    this.setMaxValue(defaultMaxValue);\n\n    // link events\n    this.touchLeft.addEventListener('mousedown', this.onStartEvent);\n    this.touchRight.addEventListener('mousedown', this.onStartEvent);\n    this.touchLeft.addEventListener('touchstart', this.onStartEvent);\n    this.touchRight.addEventListener('touchstart', this.onStartEvent);\n\n    // initialize\n    this.slider.classList.add(classes.classInitialized);\n  }\n\n  reset() {\n    this.touchLeft.style.left = '0px';\n    this.touchRight.style.left = this.slider.offsetWidth - this.touchLeft.offsetWidth + 'px';\n    this.lineSpan.style.marginLeft = '0px';\n    this.lineSpan.style.width = this.slider.offsetWidth - this.touchLeft.offsetWidth + 'px';\n    this.startX = 0;\n    this.x = 0;\n  }\n\n  setMinValue(minValue) {\n    const ratio = (minValue - this.min) / (this.max - this.min);\n    this.touchLeft.style.left = Math.ceil(ratio * (this.slider.offsetWidth - (this.touchLeft.offsetWidth + this.normalizeFact))) + 'px';\n    this.lineSpan.style.marginLeft = this.touchLeft.offsetLeft + 'px';\n    this.lineSpan.style.width = this.touchRight.offsetLeft - this.touchLeft.offsetLeft + 'px';\n    this.slider.setAttribute(selectors.dataMinValue, minValue);\n  }\n\n  setMaxValue(maxValue) {\n    const ratio = (maxValue - this.min) / (this.max - this.min);\n    this.touchRight.style.left = Math.ceil(ratio * (this.slider.offsetWidth - (this.touchLeft.offsetWidth + this.normalizeFact)) + this.normalizeFact) + 'px';\n    this.lineSpan.style.marginLeft = this.touchLeft.offsetLeft + 'px';\n    this.lineSpan.style.width = this.touchRight.offsetLeft - this.touchLeft.offsetLeft + 'px';\n    this.slider.setAttribute(selectors.dataMaxValue, maxValue);\n  }\n\n  onStart(event) {\n    // Prevent default dragging of selected content\n    event.preventDefault();\n    let eventTouch = event;\n\n    if (event.touches) {\n      eventTouch = event.touches[0];\n    }\n\n    if (event.currentTarget === this.touchLeft) {\n      this.x = this.touchLeft.offsetLeft;\n    } else {\n      this.x = this.touchRight.offsetLeft;\n    }\n\n    this.startX = eventTouch.pageX - this.x;\n    this.selectedTouch = event.currentTarget;\n    this.slider.addEventListener('mousemove', this.onMoveEvent);\n    this.slider.addEventListener('mouseup', this.onStopEvent);\n    this.slider.addEventListener('touchmove', this.onMoveEvent);\n    this.slider.addEventListener('touchend', this.onStopEvent);\n  }\n\n  onMove(event) {\n    let eventTouch = event;\n\n    if (event.touches) {\n      eventTouch = event.touches[0];\n    }\n\n    this.x = eventTouch.pageX - this.startX;\n\n    if (this.selectedTouch === this.touchLeft) {\n      if (this.x > this.touchRight.offsetLeft - this.selectedTouch.offsetWidth + 10) {\n        this.x = this.touchRight.offsetLeft - this.selectedTouch.offsetWidth + 10;\n      } else if (this.x < 0) {\n        this.x = 0;\n      }\n\n      this.selectedTouch.style.left = this.x + 'px';\n    } else if (this.selectedTouch === this.touchRight) {\n      if (this.x < this.touchLeft.offsetLeft + this.touchLeft.offsetWidth - 10) {\n        this.x = this.touchLeft.offsetLeft + this.touchLeft.offsetWidth - 10;\n      } else if (this.x > this.maxX) {\n        this.x = this.maxX;\n      }\n      this.selectedTouch.style.left = this.x + 'px';\n    }\n\n    // update line span\n    this.lineSpan.style.marginLeft = this.touchLeft.offsetLeft + 'px';\n    this.lineSpan.style.width = this.touchRight.offsetLeft - this.touchLeft.offsetLeft + 'px';\n\n    // write new value\n    this.calculateValue();\n\n    // call on change\n    if (this.slider.getAttribute('on-change')) {\n      const fn = new Function('min, max', this.slider.getAttribute('on-change'));\n      fn(this.slider.getAttribute(selectors.dataMinValue), this.slider.getAttribute(selectors.dataMaxValue));\n    }\n\n    this.onChange(this.slider.getAttribute(selectors.dataMinValue), this.slider.getAttribute(selectors.dataMaxValue));\n  }\n\n  onStop(event) {\n    this.slider.removeEventListener('mousemove', this.onMoveEvent);\n    this.slider.removeEventListener('mouseup', this.onStopEvent);\n    this.slider.removeEventListener('touchmove', this.onMoveEvent);\n    this.slider.removeEventListener('touchend', this.onStopEvent);\n\n    this.selectedTouch = null;\n\n    // write new value\n    this.calculateValue();\n\n    // call did changed\n    this.onChanged(this.slider.getAttribute(selectors.dataMinValue), this.slider.getAttribute(selectors.dataMaxValue));\n  }\n\n  onChange(min, max) {\n    const rangeHolder = this.slider.closest(selectors.rangeHolder);\n    if (rangeHolder) {\n      const priceMin = rangeHolder.querySelector(selectors.priceMin);\n      const priceMax = rangeHolder.querySelector(selectors.priceMax);\n\n      if (priceMin && priceMax) {\n        priceMin.value = min;\n        priceMax.value = max;\n      }\n    }\n  }\n\n  onChanged(min, max) {\n    if (this.slider.hasAttribute(selectors.dataFilterUpdate)) {\n      this.slider.dispatchEvent(new CustomEvent('range:filter:update', {bubbles: true}));\n    }\n  }\n\n  calculateValue() {\n    const newValue = (this.lineSpan.offsetWidth - this.normalizeFact) / this.initialValue;\n    let minValue = this.lineSpan.offsetLeft / this.initialValue;\n    let maxValue = minValue + newValue;\n\n    minValue = minValue * (this.max - this.min) + this.min;\n    maxValue = maxValue * (this.max - this.min) + this.min;\n\n    if (this.step !== 0.0) {\n      let multi = Math.floor(minValue / this.step);\n      minValue = this.step * multi;\n\n      multi = Math.floor(maxValue / this.step);\n      maxValue = this.step * multi;\n    }\n\n    if (this.selectedTouch === this.touchLeft) {\n      this.slider.setAttribute(selectors.dataMinValue, minValue);\n    }\n\n    if (this.selectedTouch === this.touchRight) {\n      this.slider.setAttribute(selectors.dataMaxValue, maxValue);\n    }\n  }\n\n  onUnload() {\n    if (this.resizeFilters) {\n      window.removeEventListener('resize', this.resizeFilters);\n    }\n  }\n}\n\nconst rangeSlider = {\n  onLoad() {\n    sections[this.id] = [];\n    const els = this.container.querySelectorAll(selectors.rangeSlider);\n    els.forEach((el) => {\n      sections[this.id].push(new RangeSlider(el));\n    });\n  },\n  onUnload: function () {\n    sections[this.id].forEach((el) => {\n      if (typeof el.unload === 'function') {\n        el.unload();\n      }\n    });\n    sections[this.id].onUnload(e);\n  },\n};\n\nexport {rangeSlider, RangeSlider};\n","import {register} from '../vendor/theme-scripts/theme-sections';\nimport {popoutSection} from '../features/popout';\nimport setBadgePosition from '../features/badge-position';\nimport getSiblings from '../util/siblings';\nimport debounce from '../util/debounce';\nimport {collapsible, Collapsible} from '../features/collapsible';\nimport {swatchGridSection, makeGridSwatches, swatchSection, Swatch} from '../features/swatch';\nimport {quickviewSection, Quickview} from '../features/quickview';\nimport {ajaxify, Ajaxify} from '../features/infinity-scroll';\nimport {RangeSlider} from '../features/range-slider';\n\nconst sections = {};\n\nconst selectors = {\n  ariaExpanded: 'aria-expanded',\n  ariaHidden: 'aria-hidden',\n  collectionBlockImage: '[data-product-image]',\n  collectionGridWrapper: '[data-collection-grid-wrapper]',\n  collectionProducts: '[data-collection-products]',\n  collectionSort: '[data-collection-sort]',\n  collectionWrapper: '[data-collection-wrapper]',\n  dataCollection: 'data-collection',\n  dataCount: 'data-count',\n  dataFilterMode: 'data-filter-mode',\n  dataSort: 'data-sort',\n  dataTag: 'data-tag',\n  dataTags: 'data-tags',\n  filter: '[data-filter]',\n  filterContainer: '[data-filter-container]',\n  filterCount: '[data-filter-count]',\n  filterTag: '[data-filter-tag]',\n  filterTagButton: '[data-filter-tag-button]',\n  filterTitle: '[data-collapsible-trigger]',\n  filters: '[data-filters]',\n  filtersResets: '[data-filters-reset]',\n  filtersResetButton: '[data-filters-reset-button]',\n  filtersEnable: 'data-filters-enable',\n  filtersForm: '[data-filters-form]',\n  filtersResetButtons: '[data-filter-reset-button]',\n  inputs: 'input, select, label, textarea',\n  pagination: '[data-pagination]',\n  priceMin: '[data-field-price-min]',\n  priceMax: '[data-field-price-max]',\n  priceMinValue: 'data-field-price-min',\n  priceMaxValue: 'data-field-price-max',\n  rangeMin: '[data-se-min-value]',\n  rangeMax: '[data-se-max-value]',\n  rangeMinValue: 'data-se-min-value',\n  rangeMaxValue: 'data-se-max-value',\n  swatch: 'data-swatch',\n};\n\nconst classes = {\n  filtersTop: 'collection__filters--top',\n  filtersHasTagsSelected: 'collection__filters--has-tags-selected',\n  hasTagsExpanded: 'has-tags-expanded',\n  isActive: 'is-active',\n  isExpanded: 'is-expanded',\n  isLoading: 'is-loading',\n};\n\nclass Collection {\n  constructor(section) {\n    this.container = section.container;\n    this.collectionGridWrapper = this.container.querySelector(selectors.collectionGridWrapper);\n    this.collectionSort = this.container.querySelector(selectors.collectionSort);\n    this.collectionProducts = this.container.querySelector(selectors.collectionProducts);\n    this.collectionWrapper = this.container.querySelector(selectors.collectionWrapper);\n    this.pagination = this.container.querySelector(selectors.pagination);\n    this.filterMode = this.container.getAttribute(selectors.dataFilterMode);\n    this.filters = this.container.querySelector(selectors.filters);\n    this.filtersEnable = this.container.getAttribute(selectors.filtersEnable) === 'true';\n    this.filtersForm = this.container.querySelector(selectors.filtersForm);\n    this.filtersResets = this.container.querySelector(selectors.filtersResets);\n    this.filtersInputs = [];\n    this.sort = null;\n    this.tags = null;\n    this.collection = null;\n    this.reset = null;\n    this.badgesResizeEvent = null;\n    this.resizeFiltersEvent = debounce(() => this.checkFiltersPosition(), 250);\n    this.documentClick = (e) => this.closeOnOutsideClick(e);\n\n    this.init();\n  }\n\n  init() {\n    if (this.collectionSort) {\n      this.initSort();\n    }\n\n    if (this.collectionProducts) {\n      this.collection = this.collectionProducts.getAttribute(selectors.dataCollection);\n      const images = this.collectionProducts.querySelectorAll(selectors.collectionBlockImage);\n      this.badgesResizeEvent = debounce(() => setBadgePosition(images), 250);\n\n      if (theme.settings.imageBackgroundSize === 'contain' && images) {\n        setBadgePosition(images);\n\n        window.addEventListener('resize', this.badgesResizeEvent);\n      }\n    }\n\n    if (this.filtersEnable) {\n      if (this.filterMode === 'tag' || this.filterMode === 'group') {\n        this.tags = JSON.parse(this.collectionProducts.getAttribute(selectors.dataTags));\n        this.initFilters();\n      }\n\n      if (this.filterMode === 'default') {\n        this.initFacetedFilters();\n      }\n    }\n\n    this.initFilterToggleButtons();\n    this.checkFiltersPosition();\n    window.addEventListener('resize', this.resizeFiltersEvent);\n  }\n\n  initSort() {\n    this.collectionSort.addEventListener('change', (evt) => {\n      const url = new window.URL(window.location.href);\n      const value = evt.currentTarget.value;\n      const params = url.searchParams;\n      params.set('sort_by', value);\n      url.search = params.toString();\n      this.collectionProducts.setAttribute(selectors.dataSort, value);\n      this.requestFilteredProducts(url.toString());\n    });\n  }\n\n  initFilterToggleButtons() {\n    if (!this.filters) {\n      return;\n    }\n\n    const filterTitles = this.filters.querySelectorAll(selectors.filterTitle);\n\n    // Bind toggle buttons\n    filterTitles.forEach((title) => {\n      title.addEventListener('click', () => {\n        this.toggleTitle(title);\n      });\n\n      if (this.isTopPosition()) {\n        title.setAttribute(selectors.ariaExpanded, false);\n        title.parentNode.classList.remove(classes.isExpanded);\n        title.parentNode.querySelector(selectors.filterContainer).setAttribute(selectors.ariaHidden, true);\n      }\n    });\n\n    // Close horizontal filters on click outside their container\n    document.addEventListener('click', this.documentClick);\n  }\n\n  initFacetedFilters() {\n    new RangeSlider(this.filtersForm);\n    this.filtersInputs = this.filtersForm.querySelectorAll(selectors.inputs);\n\n    if (this.filtersInputs.length) {\n      this.filtersInputs.forEach((el) => {\n        el.addEventListener(\n          'input',\n          debounce(() => {\n            if (this.filtersForm && typeof this.filtersForm.submit === 'function') {\n              this.submitForm();\n            }\n          }, 500)\n        );\n      });\n    }\n\n    this.filtersForm.addEventListener('range:filter:update', () => this.updateRange());\n    this.initResets();\n  }\n\n  submitForm() {\n    const formData = new FormData(this.filtersForm);\n    const search = new URLSearchParams(formData);\n    this.requestFilteredProducts(`${this.collection}${search.toString()}`);\n  }\n\n  initFilters() {\n    const filterButtons = this.filters.querySelectorAll(selectors.filterTagButton);\n\n    // Select filter\n    filterButtons.forEach((button) => {\n      button.addEventListener('click', (e) => {\n        this.toggleFilter(button);\n        e.preventDefault();\n      });\n    });\n\n    this.initResets();\n  }\n\n  initResets() {\n    const resets = this.container.querySelectorAll(selectors.filtersResetButtons);\n    this.resetAlt = this.collectionProducts.querySelector(selectors.filtersResetButton);\n\n    // Bind reset\n    if (resets.length) {\n      resets.forEach((button) => {\n        button.addEventListener('click', (e) => this.bindResetButton(e));\n      });\n    }\n    if (this.resetAlt) {\n      this.resetAlt.addEventListener('click', (e) => this.bindResetButton(e));\n    }\n  }\n\n  toggleTitle(title) {\n    const filter = title.parentNode;\n    const filters = getSiblings(filter);\n    const isAriaExpanded = title.getAttribute('aria-expanded') === 'true';\n\n    this.filters.classList.toggle(classes.hasTagsExpanded, !isAriaExpanded);\n\n    if (this.isTopPosition()) {\n      filters.forEach((filter) => {\n        filter.classList.remove(classes.isExpanded);\n        if (filter.querySelector(selectors.filterContainer)) {\n          filter.querySelector(selectors.filterContainer).setAttribute(selectors.ariaHidden, true);\n        }\n        if (filter.querySelector(selectors.filterTitle)) {\n          filter.querySelector(selectors.filterTitle).setAttribute(selectors.ariaExpanded, false);\n        }\n      });\n    }\n  }\n\n  toggleFilter(button) {\n    const filterTag = button.parentNode;\n    const selectedTag = button.getAttribute(selectors.dataTag);\n    const isTagActive = filterTag.classList.contains(classes.isActive);\n    const title = filterTag.parentNode.parentNode.previousElementSibling;\n    this.sort = this.collectionProducts.getAttribute(selectors.dataSort);\n    let sortParam = '';\n\n    if (isTagActive) {\n      const tagIndex = this.tags.indexOf(selectedTag);\n\n      filterTag.classList.remove(classes.isActive);\n\n      if (tagIndex > -1) {\n        this.tags.splice(tagIndex, 1);\n      }\n    } else {\n      filterTag.classList.add(classes.isActive);\n      this.tags.push(selectedTag);\n    }\n\n    this.collectionProducts.setAttribute(selectors.dataTags, this.tags);\n\n    const groupFiltersCount = filterTag.parentNode.querySelectorAll(`.${classes.isActive}`).length;\n\n    title.querySelector(selectors.filterCount).setAttribute(selectors.dataCount, groupFiltersCount);\n\n    if (this.isTopPosition() || isTagActive) {\n      title.dispatchEvent(new Event('click'));\n    }\n\n    if (this.sort) {\n      sortParam = `?sort_by=${this.sort}`;\n    }\n\n    const requestedURL = `${this.collection}/${this.tags.join('+')}${sortParam}`;\n\n    this.requestFilteredProducts(requestedURL);\n  }\n\n  updateRange() {\n    if (this.filtersForm && typeof this.filtersForm.submit === 'function') {\n      const rangeMin = this.filtersForm.querySelector(selectors.rangeMin);\n      const rangeMax = this.filtersForm.querySelector(selectors.rangeMax);\n      const priceMin = this.filtersForm.querySelector(selectors.priceMin);\n      const priceMax = this.filtersForm.querySelector(selectors.priceMax);\n      const checkElements = rangeMin && rangeMax && priceMin && priceMax;\n\n      if (checkElements && rangeMin.hasAttribute(selectors.rangeMinValue) && rangeMax.hasAttribute(selectors.rangeMaxValue)) {\n        const priceMinValue = parseInt(priceMin.placeholder);\n        const priceMaxValue = parseInt(priceMax.placeholder);\n        const rangeMinValue = parseInt(rangeMin.getAttribute(selectors.rangeMinValue));\n        const rangeMaxValue = parseInt(rangeMax.getAttribute(selectors.rangeMaxValue));\n\n        if (priceMinValue !== rangeMinValue || priceMaxValue !== rangeMaxValue) {\n          priceMin.value = rangeMinValue;\n          priceMax.value = rangeMaxValue;\n\n          this.submitForm();\n        }\n      }\n    }\n  }\n\n  closeOnOutsideClick(e) {\n    const isFiltersContainer = this.filters.contains(e.target);\n    const isFilterExpanded = this.filters.classList.contains(classes.hasTagsExpanded);\n\n    // Close filter\n    if (!isFiltersContainer && isFilterExpanded && this.isTopPosition()) {\n      const expandedFilter = this.filters.querySelector(`${selectors.filter}.${classes.isExpanded}`);\n      expandedFilter.querySelector(selectors.filterTitle).dispatchEvent(new Event('click'));\n    }\n  }\n\n  requestFilteredProducts(url) {\n    const collectionWrapperTop = parseInt(Math.ceil(this.collectionWrapper.offsetTop) - theme.dimensions.headerScrolled);\n\n    this.collectionWrapper.classList.add(classes.isLoading);\n\n    // Scroll back to top\n    window.scrollTo({\n      top: collectionWrapperTop,\n      left: 0,\n      behavior: 'smooth',\n    });\n\n    if (history.replaceState) {\n      window.history.pushState({path: url}, '', url);\n    }\n\n    fetch(url)\n      .then((response) => {\n        return response.text();\n      })\n      .then((data) => {\n        const createdElement = document.createElement('div');\n        createdElement.innerHTML = data;\n        const collectionProducts = createdElement.querySelector(selectors.collectionProducts).innerHTML;\n        const pagination = createdElement.querySelector(selectors.pagination);\n        const filters = createdElement.querySelector(selectors.filters);\n\n        this.collectionProducts.innerHTML = collectionProducts;\n\n        if (this.pagination) {\n          this.pagination.innerHTML = pagination !== null ? pagination.innerHTML : '';\n        }\n\n        if (!this.pagination && pagination !== null) {\n          this.collectionGridWrapper.appendChild(pagination);\n          this.pagination = this.collectionGridWrapper.querySelector(selectors.pagination);\n        }\n\n        if (filters) {\n          const filtersHTML = filters.innerHTML;\n\n          this.filters.innerHTML = filtersHTML;\n          this.filtersForm = this.filters.querySelector(selectors.filtersForm);\n\n          if (this.filterMode === 'tag' || this.filterMode === 'group') {\n            this.initFilters();\n\n            // Show reset button if there are tags selected\n            if (this.tags.length > 0) {\n              this.filters.classList.add(classes.filtersHasTagsSelected);\n            } else {\n              this.filters.classList.remove(classes.filtersHasTagsSelected);\n            }\n          }\n\n          if (this.filterMode === 'default') {\n            this.initFacetedFilters();\n          }\n\n          this.checkFiltersPosition();\n          this.initFilterToggleButtons();\n          this.bindSwatchFilters();\n          new Collapsible(this.container);\n        }\n\n        ajaxify.onUnload();\n        new Ajaxify(this.container);\n        makeGridSwatches(this.container);\n        new Quickview(this.container);\n\n        const images = this.collectionProducts.querySelectorAll(selectors.collectionBlockImage);\n\n        if (theme.settings.imageBackgroundSize === 'contain' && images) {\n          setBadgePosition(images);\n        }\n      })\n      .catch((e) => {\n        this.collectionWrapper.classList.remove(classes.isLoading);\n      })\n      .finally(() => {\n        // Stop loading animation\n        setTimeout(() => {\n          this.collectionWrapper.classList.remove(classes.isLoading);\n        }, 450);\n      });\n  }\n\n  checkFiltersPosition() {\n    if (!this.filters) {\n      return;\n    }\n\n    const filters = this.filters.querySelectorAll(selectors.filter);\n    // Run only if filters position is set to \"Top\" or window width is < 1279\n    if (this.isTopPosition()) {\n      this.filters.classList.remove(classes.hasTagsExpanded);\n\n      filters.forEach((filter) => {\n        const dropdownExpanded = filter.classList.contains(classes.isExpanded);\n\n        // Check if dropdown is expanded and close it\n        if (dropdownExpanded) {\n          filter.classList.remove(classes.isExpanded);\n          if (filter.querySelector(selectors.filterContainer)) {\n            filter.querySelector(selectors.filterContainer).setAttribute(selectors.ariaHidden, true);\n            filter.querySelector(selectors.filterContainer).style.maxHeight = 0;\n          }\n          if (filter.querySelector(selectors.filterTitle)) {\n            filter.querySelector(selectors.filterTitle).setAttribute(selectors.ariaExpanded, false);\n          }\n        }\n      });\n    }\n  }\n\n  isTopPosition() {\n    const windowWidth = window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth;\n    return windowWidth <= theme.sizes.widescreen || this.filters.classList.contains(classes.filtersTop);\n  }\n\n  bindSwatchFilters() {\n    this.swatches = [];\n    const els = this.container.querySelectorAll(`[${selectors.swatch}]`);\n    els.forEach((el) => {\n      this.swatches.push(new Swatch(el));\n    });\n  }\n\n  bindResetButton(e) {\n    e.preventDefault();\n\n    if (this.filterMode === 'tag' || this.filterMode === 'group') {\n      const button = e.currentTarget;\n      if (button.getAttribute(selectors.dataTag)) {\n        const selectedTag = button.dataset.tag;\n        const tagIndex = this.tags.indexOf(selectedTag);\n\n        if (tagIndex > -1) {\n          this.tags.splice(tagIndex, 1);\n        }\n      } else {\n        this.tags = [];\n      }\n      this.collectionProducts.setAttribute(selectors.dataTags, this.tags);\n    }\n\n    this.requestFilteredProducts(e.currentTarget.href);\n  }\n\n  onUnload() {\n    document.removeEventListener('click', this.documentClick);\n    window.removeEventListener('resize', this.resizeFiltersEvent);\n    if (this.badgesResizeEvent) {\n      window.removeEventListener('resize', this.badgesResizeEvent);\n    }\n  }\n}\n\nconst CollectionSection = {\n  onLoad() {\n    sections[this.id] = new Collection(this);\n  },\n  onUnload(e) {\n    sections[this.id].onUnload(e);\n  },\n};\n\nregister('collection', [CollectionSection, collapsible, quickviewSection, ajaxify, swatchGridSection, swatchSection, popoutSection]);\nregister('search-template', [CollectionSection, collapsible, quickviewSection, ajaxify, swatchGridSection, swatchSection, popoutSection]);\n","import Flickity from 'flickity';\nimport removeAnimations from '../features/remove-animations';\nimport debounce from '../util/debounce';\nimport setBadgePosition from '../features/badge-position';\nimport {swatchGridSection} from '../features/swatch';\nimport {quickviewSection} from '../features/quickview';\nimport {register} from '../vendor/theme-scripts/theme-sections';\n\nconst sections = {};\n\nconst selectors = {\n  slider: '[data-collection-slider]',\n  prevArrow: '[data-prev-arrow]',\n  nextArrow: '[data-next-arrow]',\n  productBlock: '[data-product-block]',\n  productImage: '[data-product-image]',\n  quickViewWrap: '[data-quickview-wrap]',\n  quickViewButton: '[data-trigger-quickview]',\n};\n\nconst classes = {\n  blockQuickView: 'product-block--quickview',\n  isVisible: 'is-visible',\n  flickityEnabled: 'flickity-enabled',\n};\n\nclass CollectionSlider {\n  constructor(section) {\n    this.container = section.container;\n    this.slideshow = this.container.querySelector(selectors.slider);\n    this.productBlocks = this.container.querySelectorAll(selectors.productBlock);\n    this.productImages = this.container.querySelectorAll(selectors.productImage);\n    this.slideshowPrev = this.container.querySelector(selectors.prevArrow);\n    this.slideshowNext = this.container.querySelector(selectors.nextArrow);\n    this.resizeEvent = debounce(() => {\n      this.sliderInit();\n      this.setArrowPosition();\n      this.setQuickViewPosition();\n    }, 200);\n    this.resizeBadge = null;\n    this.flkty = null;\n\n    if (this.slideshow) {\n      this.init();\n    }\n\n    if (this.productImages && theme.settings.imageBackgroundSize === 'contain') {\n      this.resizeBadge = debounce(() => setBadgePosition(this.productImages), 50);\n\n      setBadgePosition(this.productImages);\n      window.addEventListener('resize', this.resizeBadge);\n    }\n  }\n\n  init() {\n    this.slideshowPrev.addEventListener('click', this.goToPrevSlide.bind(this));\n    this.slideshowNext.addEventListener('click', this.goToNextSlide.bind(this));\n\n    removeAnimations(this.container);\n\n    this.sliderInit();\n\n    this.productBlocks.forEach((productBlock) => {\n      productBlock.addEventListener('quickview-is-loaded', () => {\n        productBlock.classList.add(classes.blockQuickView);\n        this.setQuickViewPosition();\n      });\n    });\n\n    window.addEventListener('resize', this.resizeEvent);\n  }\n\n  sliderInit() {\n    const windowWidth = window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth;\n    const sliderInitialized = this.slideshow.classList.contains(classes.flickityEnabled);\n\n    if (windowWidth > theme.sizes.small) {\n      if (!sliderInitialized) {\n        this.flkty = new Flickity(this.slideshow, {\n          groupCells: '100%',\n          setGallerySize: false,\n          autoPlay: false,\n          prevNextButtons: false,\n          pageDots: false,\n          wrapAround: false,\n          cellAlign: 'left',\n          contain: true,\n          on: {\n            ready: () => {\n              this.setArrowPosition();\n            },\n            change: function () {\n              const visibleQuickView = this.element.querySelector(`${selectors.productBlock}.${classes.isVisible}`);\n\n              if (visibleQuickView !== null) {\n                visibleQuickView.querySelector(selectors.quickViewButton).dispatchEvent(new Event('click'));\n              }\n            },\n          },\n        });\n      }\n    } else if (sliderInitialized) {\n      this.flkty.destroy();\n    }\n  }\n\n  goToPrevSlide(e) {\n    e.preventDefault();\n\n    this.flkty.previous(true);\n  }\n\n  goToNextSlide(e) {\n    e.preventDefault();\n\n    this.flkty.next(true);\n  }\n\n  setArrowPosition() {\n    let arrowTop = this.slideshow.querySelector(selectors.productImage).offsetHeight / 2;\n    const arrowHeight = this.slideshowPrev.offsetHeight / 2;\n    arrowTop -= arrowHeight;\n    this.slideshowPrev.style.top = `${arrowTop}px`;\n    this.slideshowNext.style.top = `${arrowTop}px`;\n  }\n\n  setQuickViewPosition() {\n    const productBlock = this.slideshow.querySelector(`.${classes.blockQuickView}`);\n\n    if (productBlock === null) {\n      return;\n    }\n\n    const quickViewWrap = productBlock.querySelector(selectors.quickViewWrap);\n    const sliderPadding = parseInt(window.getComputedStyle(this.slideshow).paddingLeft.replace('px', ''));\n    const sliderInnerWidth = this.slideshow.offsetWidth - sliderPadding * 2;\n    let offsetLeft = productBlock.offsetLeft;\n\n    if (offsetLeft >= sliderInnerWidth) {\n      offsetLeft %= sliderInnerWidth;\n    }\n\n    quickViewWrap.style.left = `calc(${productBlock.style.left} - ${offsetLeft}px)`;\n    quickViewWrap.style.width = '100%';\n  }\n\n  onUnload() {\n    if (this.slideshow) {\n      const sliderInitialized = this.slideshow.classList.contains(classes.flickityEnabled);\n\n      if (sliderInitialized) {\n        this.flkty.destroy();\n      }\n    }\n\n    if (this.resizeBadge) {\n      window.removeEventListener('resize', this.resizeBadge);\n    }\n\n    window.removeEventListener('resize', this.resizeEvent);\n  }\n}\n\nconst FeaturedCollectionSection = {\n  onLoad() {\n    sections[this.id] = new CollectionSlider(this);\n  },\n  onUnload(e) {\n    sections[this.id].onUnload(e);\n  },\n};\n\nregister('featured-collection', [FeaturedCollectionSection, quickviewSection, swatchGridSection]);\n","const outerWidth = (el) => {\n  const style = getComputedStyle(el);\n  let width = el.offsetWidth;\n\n  width += parseInt(style.marginLeft) + parseInt(style.marginRight);\n\n  return width;\n};\n\nexport default outerWidth;\n","import {formatMoney} from '@shopify/theme-currency';\n\nconst selectors = {\n  saleClass: ' is-sale',\n  soldClass: ' is-sold-out',\n  badgeClass: ' product-status-flag--',\n  customBadgeClass: ' product-status-flag--custom',\n};\n\nexport function formatPrices(product) {\n  const badgeStyle = theme.settings.productBadgeStyle;\n  const onSale = product.price <= product.compare_at_price_min;\n  const soldOut = !product.available;\n  let badgeText;\n  let badgeClasses = `${selectors.badgeClass}${badgeStyle}`;\n  let customBadge = false;\n  let preorder = false;\n\n  for (let i = 0; i < product.tags.length; i++) {\n    if (product.tags[i].includes('_badge_')) {\n      customBadge = true;\n      badgeText = product.tags[i].replace('_badge_', '').split('_').join(' ');\n      badgeClasses += selectors.customBadgeClass;\n      break;\n    }\n    if (product.tags[i].includes('_preorder')) {\n      preorder = true;\n      break;\n    }\n  }\n\n  if (!customBadge) {\n    if (soldOut) {\n      badgeText = theme.translations.sold_out;\n      badgeClasses += selectors.soldClass;\n    } else if (preorder) {\n      badgeText = theme.translations.pre_order;\n      badgeClasses += selectors.customBadgeClass;\n    } else if (onSale) {\n      badgeText = theme.translations.on_sale;\n      badgeClasses += selectors.saleClass;\n    }\n  }\n\n  // New line required to prevent ellipse when style is set to \"circle\"\n  if (badgeStyle == 'circle' && badgeText) {\n    badgeText = badgeText.replace(' ', '<br>');\n  }\n\n  // Add 'from' before min prive if price varies\n  product.price = formatMoney(product.price, moneyFormat);\n  product.price_with_from = product.price;\n  if (product.price_varies) {\n    let min = formatMoney(product.price_min, moneyFormat);\n    product.price_with_from = `${theme.translations.from} ${min}`;\n  }\n\n  if (product.compare_at_price) {\n    // if on sale\n    product.compare_at_price = formatMoney(product.compare_at_price, moneyFormat);\n  }\n\n  const formatted = {\n    ...product,\n    badgeClasses,\n    badgeText,\n  };\n  return formatted;\n}\n","import * as Sqrl from 'squirrelly';\nimport {getSizedImageUrl} from '@shopify/theme-images';\n\nimport * as a11y from '../vendor/theme-scripts/theme-a11y';\nimport FetchError from '../util/fetch-error';\nimport {fetchProduct} from '../util/fetch-product';\nimport {formatPrices} from '../util/format-prices';\nimport debounce from '../util/debounce';\nimport setBadgePosition from './badge-position';\n\nconst selectors = {\n  input: 'data-search-input',\n  productTemplate: '[product-grid-item-template]',\n  pageTemplate: '[page-item-template]',\n  noresultTemplate: '[noresult-item-template]',\n  productsWrapper: '[data-products-wrap]',\n  articlesWrapper: '[data-articles-wrap]',\n  pagesWrapper: '[data-pages-wrap]',\n  productWrapperOuter: '[data-product-wrap-outer]',\n  viewAll: '[data-view-all]',\n  productImage: '[data-product-image]',\n  productBadge: '[data-badge]',\n  searchPopdown: 'nav-search',\n};\n\nconst classes = {\n  loadingClass: 'is-searching',\n  resultsVisibleClass: 'results--visible',\n  hiddenClass: 'is-hidden',\n  focusEnabled: 'is-focused',\n};\n\nclass SearchPredictive {\n  constructor(input) {\n    this.input = input;\n    this.key = this.input.getAttribute(selectors.input);\n    const appendSelector = `[id=\"${this.key}\"]`;\n    this.append = document.querySelector(appendSelector);\n    this.productTemplate = document.querySelector(selectors.productTemplate).innerHTML;\n    this.pageTemplate = document.querySelector(selectors.pageTemplate).innerHTML;\n    this.noresultTemplate = document.querySelector(selectors.noresultTemplate).innerHTML;\n    this.productsWrapper = this.append.querySelector(selectors.productsWrapper);\n    this.pagesWrapper = this.append.querySelector(selectors.pagesWrapper);\n    this.articlesWrapper = this.append.querySelector(selectors.articlesWrapper);\n    this.focusedContainer = this.productsWrapper;\n    this.viewAll = this.append.querySelector(selectors.viewAll);\n    this.popdown = document.getElementById(selectors.searchPopdown);\n    this.productWrapperOuter = this.popdown.querySelector(selectors.productWrapperOuter);\n    this.result = null;\n    this.accessibility = a11y;\n    this.initSearch();\n  }\n\n  initSearch() {\n    this.input.addEventListener(\n      'input',\n      debounce(\n        function (event) {\n          const val = event.target.value;\n          if (val && val.length > 1) {\n            this.productWrapperOuter.classList.add(classes.loadingClass);\n            this.render(val);\n          } else {\n            this.reset();\n          }\n        }.bind(this),\n        300\n      )\n    );\n    this.input.addEventListener('clear', this.reset.bind(this));\n  }\n\n  render(terms) {\n    const searchType = theme.settings.searchType;\n    fetch(`/search/suggest.json?q=${encodeURIComponent(terms)}&resources[type]=${searchType}&resources[limit]=10&resources[options][unavailable_products]=last`)\n      .then(this.handleErrors)\n      .then((response) => response.json())\n      .then((response) => {\n        this.result = response.resources.results;\n\n        return this.fetchProducts(this.result.products);\n      })\n      .then((response) => {\n        this.popdown.classList.add(classes.resultsVisibleClass);\n\n        this.reset(false);\n\n        if (this.result.articles !== undefined) {\n          if (this.result.articles.length === 0) {\n            this.injectHTML(this.articlesWrapper, this.renderNoResult());\n          } else {\n            this.injectHTML(this.articlesWrapper, this.fetchPages(this.result.articles));\n            this.focusedContainer = this.articlesWrapper;\n          }\n        }\n\n        if (this.result.pages !== undefined) {\n          if (this.result.pages.length === 0) {\n            this.injectHTML(this.pagesWrapper, this.renderNoResult());\n          } else {\n            this.injectHTML(this.pagesWrapper, this.fetchPages(this.result.pages));\n            this.focusedContainer = this.pagesWrapper;\n          }\n        }\n\n        if (response === '') {\n          this.viewAll.classList.add(classes.hiddenClass);\n          this.injectHTML(this.productsWrapper, this.renderNoResult());\n        } else {\n          this.viewAll.classList.remove(classes.hiddenClass);\n          this.viewAll.setAttribute('href', `${theme.routes.search_url}?type=product&q=${terms}&options[prefix]=last`);\n          this.injectHTML(this.productsWrapper, response);\n        }\n\n        this.productWrapperOuter.classList.remove(classes.loadingClass);\n        const images = this.productWrapperOuter.querySelectorAll(selectors.productImage);\n\n        if (theme.settings.imageBackgroundSize === 'contain' && images) {\n          setBadgePosition(images);\n        }\n\n        const isFocusEnabled = document.body.classList.contains(classes.focusEnabled);\n\n        if (isFocusEnabled) {\n          this.accessibility.trapFocus(this.popdown, {\n            elementToFocus: this.focusedContainer,\n          });\n        }\n      })\n      .catch((e) => {\n        console.error(e);\n      });\n  }\n\n  reset(clearTerms = true) {\n    this.productsWrapper.innerHTML = '';\n\n    if (this.pagesWrapper !== null) {\n      this.pagesWrapper.innerHTML = '';\n    }\n\n    if (this.articlesWrapper !== null) {\n      this.articlesWrapper.innerHTML = '';\n    }\n\n    this.input.val = '';\n    this.accessibility.removeTrapFocus();\n\n    if (clearTerms) {\n      this.popdown.classList.remove(classes.resultsVisibleClass);\n    }\n  }\n\n  injectHTML(target, pageHTML) {\n    target.innerHTML += pageHTML;\n  }\n\n  fetchProducts(products) {\n    const promises = [];\n    // Limit products to 4\n    products.slice(0, 4).forEach((product) => {\n      // because of a translation bug in the predictive search API\n      // we need to fetch the product JSON from the handle\n      promises.push(\n        fetchProduct(product.handle).then((productJSON) => {\n          const formatted = formatPrices(productJSON);\n          return this.renderProduct(formatted);\n        })\n      );\n    });\n\n    return Promise.all(promises).then((result) => {\n      let str = '';\n      result.forEach((render) => {\n        str += render;\n      });\n      return str;\n    });\n  }\n\n  fetchPages(pages) {\n    let html = '';\n    pages.forEach((page) => {\n      html += this.renderPage(page);\n    });\n\n    return html;\n  }\n\n  renderProduct(product) {\n    const stripHtmlRegex = /(<([^>]+)>)/gi;\n    const title = product.title.replace(stripHtmlRegex, '');\n    let media = null;\n    let image = '';\n    let blankImage = theme.assets.blank;\n\n    if (product.media !== undefined) {\n      media = product.media[0];\n    }\n\n    if (media) {\n      image = {\n        thumb: getSizedImageUrl(media.preview_image.src, '800x800'),\n        alt: media.preview_image.alt,\n        aspectRatio: media.preview_image.aspect_ratio,\n        src: blankImage,\n      };\n    } else {\n      image = {\n        thumb: theme.assets.no_image,\n        alt: '',\n        aspectRatio: 1,\n        src: blankImage,\n      };\n    }\n\n    const updateValues = {\n      ...product,\n      title,\n      image,\n    };\n\n    return Sqrl.render(this.productTemplate, {product: updateValues});\n  }\n\n  renderPage(page) {\n    const stripHtmlRegex = /(<([^>]+)>)/gi;\n    const title = page.title.replace(stripHtmlRegex, '');\n\n    const updateValues = {\n      ...page,\n      title,\n    };\n\n    return Sqrl.render(this.pageTemplate, {page: updateValues});\n  }\n\n  renderNoResult() {\n    const text = theme.translations.no_results;\n\n    const updateValues = {\n      text,\n    };\n\n    return Sqrl.render(this.noresultTemplate, {item: updateValues});\n  }\n\n  handleErrors(response) {\n    if (!response.ok) {\n      return response.json().then(function (json) {\n        const e = new FetchError({\n          status: response.statusText,\n          headers: response.headers,\n          json: json,\n        });\n        throw e;\n      });\n    }\n    return response;\n  }\n}\n\nexport {SearchPredictive};\n","import debounce from '../util/debounce';\nimport {SearchPredictive} from './header-search-predictive';\nimport * as a11y from '../vendor/theme-scripts/theme-a11y';\n\nconst selectors = {\n  bodyWrap: '[data-body-wrap]',\n  menuToggle: '[data-menu-toggle]',\n  hamburgerIcon: '[data-hamburger-icon]',\n  hamburgerMenuScrollable: '[data-hamburger-scrollable]',\n  headerIcons: '[data-header-icons]',\n  navMain: '[data-nav-main]',\n  searchWrapper: '[data-nav-search]',\n  searchToggle: '[data-search-toggle]',\n  searchInput: '[data-search-input]',\n  searchSubmit: '[data-search-submit]',\n  searchScroller: '[data-nav-search-scroller]',\n  viewAll: '[data-view-all]',\n  siteAlert: '[data-site-alert]',\n  shopBar: '[data-shop-bar]',\n  menuDropdownParent: '[data-dropdown-parent]',\n  dropdownTrigger: 'data-collapsible-trigger',\n  menuItemLink: 'data-menu-item-link',\n  visibleLink: 'data-visible-link',\n  ariaExpanded: 'aria-expanded',\n  href: 'href',\n  tabIndex: 'tabindex',\n};\n\nconst classes = {\n  navVisible: 'nav--is-visible',\n  navHiding: 'nav--is-hiding',\n  searchVisible: 'header--search-visible',\n  searchHiding: 'header--search-hiding',\n  megamenuVisible: 'header--megamenu-visible',\n  headerHamburger: 'header--is-hamburger',\n  menuItemDropdown: 'menu-item--dropdown',\n  isExpanded: 'is-expanded',\n  isActive: 'is-active',\n  open: 'open',\n};\n\nlet sections = {};\n\nclass Navigation {\n  constructor(el) {\n    this.header = el;\n    this.body = document.body;\n    this.bodyWrap = document.querySelector(selectors.bodyWrap);\n    this.siteAlert = document.querySelector(selectors.siteAlert);\n    this.shopBar = document.querySelector(selectors.shopBar);\n    this.transformedElements = [this.header, this.siteAlert, this.bodyWrap, this.shopBar];\n    this.menuToggles = document.querySelectorAll(selectors.menuToggle);\n    this.headerIcons = this.header.querySelector(selectors.headerIcons);\n    this.navStandard = this.header.querySelector(selectors.navMain);\n    this.hamburger = this.header.querySelector(selectors.hamburgerIcon);\n    this.search = this.header.querySelector(selectors.searchWrapper);\n    this.searchScroller = this.header.querySelector(selectors.searchScroller);\n    this.scrollableElement = document.querySelector(selectors.hamburgerMenuScrollable);\n    this.hamburgerNavLinks = this.scrollableElement.parentNode.querySelectorAll('button, a');\n    this.resizeTransform = debounce(() => this.transformHeaderElements(), 100);\n    this.documentClick = (e) => this.hideOnOutsideClick(e);\n    this.documentKeyup = (e) => this.hideOnKeyUp(e);\n    this.searchPredictive = null;\n    this.scrollLockTimeout = 0;\n    this.resetHeight = 0;\n    this.accessibility = a11y;\n\n    if (this.search !== null) {\n      this.searchToggles = this.header.querySelectorAll(selectors.searchToggle);\n      this.searchOpen = this.headerIcons.querySelector(selectors.searchToggle);\n      this.searchInput = this.search.querySelector(selectors.searchInput);\n    }\n\n    this.init();\n  }\n\n  init() {\n    this.hide();\n    this.bindings();\n    this.activeLinks();\n\n    if (this.search !== null) {\n      this.bindingsSearch();\n    }\n  }\n\n  bindings() {\n    const dropdownParents = this.navStandard.querySelectorAll(selectors.menuDropdownParent);\n    const emptyLinks = document.querySelectorAll(`${selectors.navMain} a[href^=\"#\"]:not(${selectors.viewAll})`);\n    const dropdownTriggers = document.querySelectorAll(`${selectors.navMain} [${selectors.dropdownTrigger}]`);\n    const triggers = [...dropdownTriggers, ...emptyLinks];\n\n    // Init Bindings\n    this.menuToggles.forEach((menuToggle) => {\n      menuToggle.addEventListener('click', (e) => {\n        e.preventDefault();\n\n        if (this.body.classList.contains(classes.navVisible)) {\n          this.hide();\n        } else {\n          this.show();\n        }\n      });\n    });\n\n    dropdownParents.forEach((dropdownParent) => {\n      const visibleNavLinks = dropdownParent.querySelectorAll(`[${selectors.visibleLink}]`);\n\n      dropdownParent.addEventListener('mouseenter', () => {\n        if (theme.touched) {\n          return;\n        }\n\n        if (!dropdownParent.classList.contains(classes.menuItemDropdown)) {\n          this.header.classList.add(classes.megamenuVisible);\n        }\n\n        dropdownParent.classList.add(classes.isExpanded);\n        visibleNavLinks.forEach((link) => {\n          link.removeAttribute(selectors.tabIndex);\n\n          if (link.hasAttribute(selectors.ariaExpanded)) {\n            link.setAttribute(selectors.ariaExpanded, true);\n          }\n        });\n      });\n\n      dropdownParent.addEventListener('mouseleave', () => {\n        if (!dropdownParent.classList.contains(classes.menuItemDropdown)) {\n          this.header.classList.remove(classes.megamenuVisible);\n        }\n\n        dropdownParent.classList.remove(classes.isExpanded);\n        visibleNavLinks.forEach((link) => {\n          link.setAttribute(selectors.tabIndex, '-1');\n\n          if (link.hasAttribute(selectors.ariaExpanded)) {\n            link.setAttribute(selectors.ariaExpanded, false);\n          }\n        });\n      });\n    });\n\n    triggers.forEach((trigger) => {\n      trigger.addEventListener('click', () => {\n        if (trigger.parentNode.classList.contains(classes.isExpanded)) {\n          this.submenuClose(trigger.parentNode);\n        } else {\n          this.submenuOpen(trigger.parentNode);\n        }\n      });\n\n      trigger.addEventListener('keyup', (e) => {\n        if (e.keyCode === theme.keyboardKeys.SPACE) {\n          if (trigger.parentNode.classList.contains(classes.isExpanded)) {\n            this.submenuClose(trigger.parentNode);\n          } else {\n            this.submenuOpen(trigger.parentNode);\n          }\n        } else if (e.keyCode === theme.keyboardKeys.ESCAPE) {\n          this.submenuClose(trigger.parentNode);\n        }\n      });\n    });\n\n    // Hide search modal or hamburger menu on click outside\n    document.addEventListener('click', this.documentClick);\n\n    // Close header dropdowns and search on focus another elements or ESC key is pressed\n    document.addEventListener('keyup', this.documentKeyup);\n  }\n\n  bindingsSearch() {\n    this.searchPredictive = new SearchPredictive(this.searchInput);\n\n    this.searchToggles.forEach((searchToggle) => {\n      searchToggle.addEventListener('click', (e) => {\n        e.preventDefault();\n        this.searchToggle();\n      });\n    });\n  }\n\n  hideOnOutsideClick(e) {\n    const menuToggle = this.headerIcons.querySelector(selectors.menuToggle);\n    const isSearchVisible = this.header.classList.contains(classes.searchVisible);\n    const isMenuToggle = menuToggle.contains(e.target);\n    const isMenuContainer = document.querySelector(selectors.hamburgerMenuScrollable).parentNode.contains(e.target);\n    const isHeaderHamburger = this.header.classList.contains(classes.headerHamburger);\n\n    if (this.search !== null) {\n      const isSearchToggle = this.searchOpen.contains(e.target);\n      const isSearchContainer = this.search.contains(e.target);\n\n      // Close search\n      if (!isSearchContainer && !isSearchToggle && isSearchVisible) {\n        this.searchToggle();\n      }\n    }\n\n    // Close hamburger menu\n    if (!isMenuToggle && !isMenuContainer && isHeaderHamburger) {\n      this.hide();\n    }\n  }\n\n  hideOnKeyUp(e) {\n    const key = e.which || e.keyCode;\n    const focusedElement = e.target;\n    const hamburgerMenu = document.querySelectorAll(selectors.navMain)[1];\n    const isSearchVisible = this.header.classList.contains(classes.searchVisible);\n    const isHamburgerOpen = this.hamburger.classList.contains(classes.open);\n    const expandedItem = document.querySelector(`${selectors.menuDropdownParent}.${classes.isExpanded}`);\n\n    if (key !== theme.keyboardKeys.TAB && key !== theme.keyboardKeys.ESCAPE) {\n      return;\n    }\n\n    if (key === theme.keyboardKeys.TAB) {\n      // Close dropdown\n      if (focusedElement.hasAttribute(selectors.menuItemLink) && expandedItem !== null) {\n        expandedItem.querySelector(`[${selectors.dropdownTrigger}]`).dispatchEvent(new Event('click'));\n      }\n\n      // Close hamburger menu\n      if (!hamburgerMenu.contains(focusedElement) && isHamburgerOpen) {\n        this.hide();\n      }\n\n      if (this.search !== null) {\n        // Close search\n        if (!this.search.contains(focusedElement) && isSearchVisible) {\n          this.searchToggle();\n        }\n      }\n    } else if (key === theme.keyboardKeys.ESCAPE) {\n      if (expandedItem !== null) {\n        expandedItem.querySelector(`[${selectors.dropdownTrigger}]`).dispatchEvent(new Event('click'));\n      }\n\n      if (isSearchVisible) {\n        this.searchToggle();\n      }\n\n      if (isHamburgerOpen) {\n        this.hide();\n      }\n    }\n  }\n\n  show() {\n    const headerIconsLinks = this.headerIcons.querySelectorAll(`a:not(${selectors.menuToggle})`);\n\n    // Scroll lock\n    document.dispatchEvent(new CustomEvent('theme:scroll:lock', {bubbles: true, detail: this.scrollableElement}));\n\n    this.hamburger.classList.add(classes.open);\n    this.body.classList.add(classes.navVisible);\n\n    headerIconsLinks.forEach((iconLink) => iconLink.setAttribute(selectors.tabIndex, '-1'));\n    this.hamburgerNavLinks.forEach((hamburgerNavLink) => hamburgerNavLink.removeAttribute(selectors.tabIndex));\n    this.menuToggles.forEach((menuToggle) => menuToggle.setAttribute(selectors.ariaExpanded, true));\n\n    this.transformHeaderElements();\n\n    window.addEventListener('resize', this.resizeTransform);\n  }\n\n  transformHeaderElements() {\n    const isHeaderHamburger = this.header.classList.contains(classes.headerHamburger);\n\n    if (isHeaderHamburger) {\n      this.transformedElements.forEach((element) => {\n        if (element !== null) {\n          element.style.transform = `translateX(${this.scrollableElement.parentNode.offsetWidth}px)`;\n        }\n      });\n    }\n  }\n\n  hide() {\n    const headerIconsLinks = this.headerIcons.querySelectorAll('a');\n\n    if (!this.body.classList.contains(classes.navVisible)) {\n      return;\n    }\n\n    this.hamburger.classList.remove(classes.open);\n    this.body.classList.add(classes.navHiding);\n    this.body.classList.remove(classes.navVisible);\n    this.transformedElements.forEach((element) => {\n      if (element !== null) {\n        element.style.transform = 'none';\n      }\n    });\n\n    if (this.scrollLockTimeout) {\n      clearTimeout(this.scrollLockTimeout);\n    }\n\n    this.scrollLockTimeout = setTimeout(() => {\n      // Scroll unlock\n      document.dispatchEvent(new CustomEvent('theme:scroll:unlock', {bubbles: true}));\n      this.body.classList.remove(classes.navHiding);\n    }, 500);\n\n    window.removeEventListener('resize', this.resizeTransform);\n\n    headerIconsLinks.forEach((iconLink) => iconLink.removeAttribute(selectors.tabIndex));\n    this.hamburgerNavLinks.forEach((hamburgerNavLink) => hamburgerNavLink.setAttribute(selectors.tabIndex, '-1'));\n    this.menuToggles.forEach((menuToggle) => menuToggle.setAttribute(selectors.ariaExpanded, false));\n  }\n\n  activeLinks() {\n    const menuItemLinks = this.navStandard.querySelectorAll(`[${selectors.menuItemLink}]`);\n    const visibleNavLinks = this.navStandard.querySelectorAll(`[${selectors.visibleLink}]`);\n    let isTopLevel = false;\n\n    menuItemLinks.forEach((link) => {\n      if (link.getAttribute(selectors.href) === window.location.pathname) {\n        link.parentNode.classList.add(classes.isActive);\n        isTopLevel = true;\n      }\n    });\n\n    if (!isTopLevel) {\n      visibleNavLinks.forEach((link) => {\n        if (link.getAttribute(selectors.href) === window.location.pathname) {\n          link.parentNode.classList.add(classes.isActive);\n          link.closest(selectors.menuDropdownParent).classList.add(classes.isActive);\n        }\n      });\n    }\n  }\n\n  submenuClose(el) {\n    const visibleNavLinks = el.querySelectorAll(`[${selectors.visibleLink}]`);\n\n    visibleNavLinks.forEach((link) => {\n      link.setAttribute(selectors.tabIndex, '-1');\n\n      if (link.hasAttribute(selectors.ariaExpanded)) {\n        link.setAttribute(selectors.ariaExpanded, false);\n      }\n    });\n\n    if (!el.classList.contains(classes.menuItemDropdown)) {\n      this.header.classList.remove(classes.megamenuVisible);\n    }\n  }\n\n  submenuOpen(el) {\n    const visibleNavLinks = el.querySelectorAll(`[${selectors.visibleLink}]`);\n\n    visibleNavLinks.forEach((link) => {\n      link.removeAttribute(selectors.tabIndex);\n\n      if (link.hasAttribute(selectors.ariaExpanded)) {\n        link.setAttribute(selectors.ariaExpanded, true);\n      }\n    });\n\n    if (!el.classList.contains(classes.menuItemDropdown)) {\n      this.header.classList.add(classes.megamenuVisible);\n    }\n  }\n\n  searchToggle() {\n    const searchClose = this.search.querySelector(selectors.searchToggle);\n    const searchSubmit = this.search.querySelector(selectors.searchSubmit);\n    const clickableElements = [this.searchInput, searchSubmit, searchClose];\n\n    if (this.header.classList.contains(classes.searchVisible)) {\n      this.searchToggles.forEach((toggle) => toggle.setAttribute(selectors.ariaExpanded, false));\n      clickableElements.forEach((element) => element.setAttribute(selectors.tabIndex, '-1'));\n\n      this.header.classList.add(classes.searchHiding);\n      this.header.classList.remove(classes.searchVisible);\n      this.accessibility.removeTrapFocus();\n\n      if (this.scrollLockTimeout) {\n        clearTimeout(this.scrollLockTimeout);\n      }\n\n      this.scrollLockTimeout = setTimeout(() => {\n        this.header.classList.remove(classes.searchHiding);\n\n        // Scroll unlock if cart drawer opening is not triggered\n        if (!this.body.classList.contains('cart--is-visible') && !this.header.classList.contains(classes.searchVisible)) {\n          document.dispatchEvent(new CustomEvent('theme:scroll:unlock', {bubbles: true}));\n        }\n      }, 250);\n    } else {\n      if (this.scrollLockTimeout) {\n        clearTimeout(this.scrollLockTimeout);\n      }\n\n      this.header.classList.add(classes.searchVisible);\n      this.searchToggles.forEach((toggle) => toggle.setAttribute(selectors.ariaExpanded, true));\n      clickableElements.forEach((element) => element.removeAttribute(selectors.tabIndex));\n\n      this.accessibility.removeTrapFocus();\n      this.accessibility.trapFocus(this.search, {\n        elementToFocus: this.searchInput,\n      });\n      this.searchInput.select();\n\n      // Scroll lock\n      document.dispatchEvent(new CustomEvent('theme:scroll:lock', {bubbles: true, detail: this.searchScroller}));\n    }\n  }\n\n  unload() {\n    window.removeEventListener('resize', this.resizeTransform);\n    document.removeEventListener('click', this.documentClick);\n    document.removeEventListener('keyup', this.documentKeyup);\n  }\n}\n\nconst navigation = {\n  onLoad() {\n    sections = new Navigation(this.container);\n  },\n  onUnload: function () {\n    if (typeof sections.unload === 'function') {\n      sections.unload();\n    }\n  },\n  onSelect() {\n    if (typeof sections.hide === 'function') {\n      sections.hide();\n    }\n  },\n  onDeselect() {\n    if (typeof sections.hide === 'function') {\n      sections.hide();\n    }\n  },\n};\n\nexport default navigation;\n","import debounce from '../util/debounce';\nimport throttle from '../util/throttle';\nimport {register} from '../vendor/theme-scripts/theme-sections';\nimport outerWidth from '../features/outer-width-margins';\nimport navigation from '../features/navigation';\nimport {collapsible} from '../features/collapsible';\n\nconst selectors = {\n  body: 'body',\n  bodyWrap: '[data-body-wrap]',\n  mainContent: '.main-content',\n  navMain: '[data-nav-main]',\n  navItem: '.menu > .menu-item',\n  headerRow: '.container > .row',\n  headerIcons: '[data-header-icons]',\n  dataHeaderStyle: '[data-header-style=\"transparent\"]',\n  logoImage: '[data-logo-image]',\n  logoImageWidth: 'data-width',\n  logoText: '[data-logo-text]',\n  hamburgerIcon: '[data-hamburger-icon]',\n  hamburgerMenuScrollable: '[data-hamburger-scrollable]',\n  siteAlert: '[data-site-alert]',\n  shopBar: '[data-shop-bar]',\n  cartClose: '[data-cart-close]',\n  dataTransparent: 'data-transparent',\n};\n\nconst classes = {\n  shopifyHeaderFixed: 'shopify-section-header--fixed',\n  headerFull: 'header--full',\n  headerScrolled: 'header--has-scrolled',\n  headerStandard: 'header--is-standard',\n  headerHamburger: 'header--is-hamburger',\n  headerSearch: 'header--search-visible',\n  headerTransparent: 'header--transparent',\n  headerLogoCenterCenter: 'header--logo_center_links_center',\n  headerLogoLeftCenter: 'header--logo_left_links_center',\n  headerLogoCenterLeft: 'header--logo_center_links_left',\n  headerLogoLeftLeft: 'header--logo_left_links_left',\n  hasTransparentHeader: 'has-transparent-header',\n  navVisible: 'nav--is-visible',\n  cartVisible: 'cart--is-visible',\n  open: 'open',\n};\n\nlet sections = {};\n\nclass Header {\n  constructor(el) {\n    this.header = el;\n    this.headerContainer = this.header.parentNode;\n    this.body = document.querySelector(selectors.body);\n    this.bodyWrap = document.querySelector(selectors.bodyWrap);\n    this.scrollEvent = throttle(() => this.stickyHeaderState(), 50);\n    this.resizeEvent = debounce(() => this.checkNavigationOverlapping(), 250);\n    this.checkTransparentHeaderEvent = (e) => this.checkTransparentHeader(e);\n    this.checkNavigationOverlappingEvent = this.checkNavigationOverlapping();\n\n    this.init();\n  }\n\n  init() {\n    this.resetHeader();\n    this.checkTransparentHeader();\n    this.checkNavigationOverlapping();\n    this.stickyHeaderState();\n\n    window.addEventListener('load', this.checkNavigationOverlappingEvent);\n    window.addEventListener('scroll', this.scrollEvent);\n    window.addEventListener('resize', this.resizeEvent);\n\n    document.addEventListener('theme:header:update', this.checkTransparentHeaderEvent);\n  }\n\n  stickyHeaderState() {\n    const scrolled = window.scrollY;\n    let contentTop = 0;\n\n    if (this.bodyWrap !== null) {\n      contentTop = this.bodyWrap.offsetTop;\n    }\n\n    if (scrolled > contentTop) {\n      this.headerContainer.classList.add(classes.shopifyHeaderFixed);\n      this.header.classList.add(classes.headerScrolled);\n      this.header.classList.remove(classes.headerTransparent);\n    } else {\n      this.headerContainer.classList.remove(classes.shopifyHeaderFixed);\n      this.header.classList.remove(classes.headerScrolled);\n\n      if (this.isHeaderTransparent()) {\n        this.header.classList.add(classes.headerTransparent);\n      }\n    }\n  }\n\n  checkNavigationOverlapping() {\n    const windowWidth = window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth;\n    const isDesktop = windowWidth > theme.sizes.large;\n    const classesToRemove = [classes.headerStandard, classes.headerSearch];\n\n    this.header.classList.remove(classes.headerHamburger);\n    this.header.classList.add(classes.headerStandard);\n\n    if (this.getNavigationOverlapping() || !isDesktop) {\n      this.header.classList.remove(...classesToRemove);\n      this.header.classList.add(classes.headerHamburger);\n    }\n  }\n\n  checkTransparentHeader() {\n    if (this.isHeaderTransparent()) {\n      this.body.classList.add(classes.hasTransparentHeader);\n      this.header.classList.add(classes.headerTransparent);\n    } else {\n      this.body.classList.remove(classes.hasTransparentHeader);\n      this.header.classList.remove(classes.headerTransparent);\n    }\n  }\n\n  getNavigationOverlapping() {\n    const headerRowWidth = this.header.querySelector(selectors.headerRow).offsetWidth;\n    const navMenuWidth = this.getMenuItemsWidth();\n    const headerClasses = this.header.classList;\n    const isNavCentered = headerClasses.contains(classes.headerLogoCenterCenter) || headerClasses.contains(classes.headerLogoLeftCenter);\n    const isNavLeftLogoCentered = headerClasses.contains(classes.headerLogoCenterLeft) || headerClasses.contains(classes.headerLogoLeftLeft);\n    const additionalSpace = 40; // Additional spacing from margins\n    let isNavigationOverlapping = false;\n    let headerIconsWidth = this.header.querySelector(selectors.headerIcons).offsetWidth;\n    let logoWidth = this.getLogoWidth();\n\n    if (isNavCentered) {\n      logoWidth = logoWidth < headerIconsWidth ? headerIconsWidth : logoWidth;\n      logoWidth *= 2;\n      headerIconsWidth = 0;\n    }\n\n    isNavigationOverlapping = parseInt(headerRowWidth) < parseInt(navMenuWidth + logoWidth + headerIconsWidth + additionalSpace);\n\n    if (isNavLeftLogoCentered && logoWidth) {\n      isNavigationOverlapping = parseInt((headerRowWidth - logoWidth) / 2) < parseInt(navMenuWidth);\n    }\n\n    return isNavigationOverlapping;\n  }\n\n  getLogoWidth() {\n    const logoImage = this.header.querySelector(selectors.logoImage);\n    const logoText = this.header.querySelector(selectors.logoText);\n    let logoWidth = 0;\n\n    if (logoImage !== null) {\n      logoWidth = parseInt(logoImage.getAttribute(selectors.logoImageWidth));\n    }\n\n    if (logoText !== null) {\n      logoWidth += logoText.offsetWidth;\n    }\n\n    return logoWidth;\n  }\n\n  getMenuItemsWidth() {\n    let itemsWidth = 0;\n    const navStandard = this.header.querySelector(selectors.navMain);\n\n    const menuItems = navStandard.querySelectorAll(selectors.navItem);\n    menuItems.forEach((menuItem) => {\n      itemsWidth += outerWidth(menuItem);\n    });\n\n    return itemsWidth;\n  }\n\n  isHeaderTransparent() {\n    const firstSection = document.querySelector(selectors.mainContent).firstElementChild;\n    const firstSectionClass = firstSection.classList.contains(classes.headerFull);\n    const firstSectionStyle = firstSection.querySelector(selectors.dataHeaderStyle) !== null;\n    const transparentHeader = this.header.getAttribute(selectors.dataTransparent) === 'true';\n\n    const headerFull = firstSectionClass || firstSectionStyle;\n    const headerTransparent = transparentHeader && headerFull;\n\n    return headerTransparent;\n  }\n\n  resetHeader() {\n    const siteAlert = document.querySelector(selectors.siteAlert);\n    const shopBar = document.querySelector(selectors.shopBar);\n    const hamburger = this.header.querySelector(selectors.hamburgerIcon);\n    const transformElements = [this.header, siteAlert, this.bodyWrap, shopBar];\n    const body = document.body;\n\n    body.classList.remove(classes.navVisible);\n    this.bodyWrap.removeAttribute('style');\n    transformElements.forEach((element) => {\n      if (element !== null) {\n        element.style.transform = 'none';\n      }\n    });\n    hamburger.classList.remove(classes.open);\n\n    if (body.classList.contains(classes.cartVisible)) {\n      document.querySelector(selectors.cartClose).click();\n    }\n\n    // Unlock page scroll\n    document.dispatchEvent(new CustomEvent('theme:scroll:unlock', {bubbles: true}));\n  }\n\n  unload() {\n    window.removeEventListener('load', this.checkNavigationOverlappingEvent);\n    window.removeEventListener('scroll', this.scrollEvent);\n    window.removeEventListener('resize', this.resizeEvent);\n\n    document.removeEventListener('theme:header:update', this.checkTransparentHeaderEvent);\n  }\n\n  onselect() {\n    this.resetHeader();\n    this.init();\n  }\n}\n\nconst header = {\n  onLoad() {\n    sections = new Header(this.container);\n  },\n  onUnload() {\n    if (typeof sections.unload === 'function') {\n      sections.unload();\n    }\n  },\n  onSelect() {\n    if (typeof sections.onselect === 'function') {\n      sections.onselect();\n    }\n  },\n};\n\nexport {Header as default};\n\nregister('header', [header, navigation, collapsible]);\n","const selectors = {\n  quantityAdjust: '[data-qty-adjust]',\n  quantityAdjustPlus: 'data-qty-adjust-plus',\n  quantityAdjustMinus: 'data-qty-adjust-minus',\n  quantityNum: '[data-qty]',\n};\n\nconst quantity = (e, element) => {\n  if (e.type === 'keyup' && e.keyCode !== 13) {\n    return;\n  }\n\n  const el = element;\n  const qtySelector = el.parentElement.querySelector(selectors.quantityNum);\n  let qty = parseInt(qtySelector.value.replace(/\\D/g, ''));\n\n  // Make sure we have a valid integer\n  if (parseFloat(qty) == parseInt(qty) && !isNaN(qty)) {\n    // We have a number!\n  } else {\n    // Not a number. Default to 1.\n    qty = 1;\n  }\n  // Add or subtract from the current quantity\n  if (el.hasAttribute(selectors.quantityAdjustPlus)) {\n    qty += 1;\n  } else {\n    qty -= 1;\n    if (qty <= 1) {\n      qty = 1;\n    }\n  }\n  // Update the input's number\n  qtySelector.value = qty;\n  qtySelector.dispatchEvent(new Event('click'));\n};\n\nexport function quantitySelectors() {\n  // Setup listeners to add/subtract from the input\n  const quantityAdjust = document.querySelectorAll(selectors.quantityAdjust);\n  quantityAdjust.forEach((element) => {\n    element.addEventListener('click', function (e) {\n      quantity(e, element);\n    });\n    element.addEventListener('keyup', function (e) {\n      quantity(e, element);\n    });\n  });\n\n  // All quantity input value change on up/down arrows key press\n  const quantityNum = document.querySelectorAll(selectors.quantityNum);\n  quantityNum.forEach((element) => {\n    element.addEventListener('keyup', function (e) {\n      // On arrow up key press (38)\n      if (e.keyCode == 38) {\n        // this.parentElement.querySelector(`.${selectors.quantityAdjustPlus}`).dispatchEvent(new Event('click'));\n      }\n      // On arrow down key press (40)\n      if (e.keyCode == 40) {\n        // this.parentElement.querySelector(`.${selectors.quantityAdjustMinus}`).dispatchEvent(new Event('click'));\n      }\n    });\n  });\n}\n","import {quantitySelectors} from '../features/quantity-selectors';\nimport throttle from '../util/throttle';\nimport {register} from '../vendor/theme-scripts/theme-sections';\nimport Media from '../media/media';\nimport {swatchSection} from '../features/swatch';\nimport {productFormSection} from '../features/product-form';\n\nconst selectors = {\n  productContainer: '[data-product-container]',\n  addToCart: '[data-add-to-cart]',\n  shopBar: '[data-shop-bar]',\n  productJson: '[data-product-json]',\n  form: '[data-product-form-container]',\n  dropdown: '[data-single-option-selector]',\n  footer: '[data-footer]',\n  colorLabel: '[data-color-label]',\n  colorSwatch: '[data-color-swatch]',\n  dataOption: '[data-option]',\n  dataSectionId: 'data-section-id',\n  selectTag: 'select',\n  dataPosition: 'data-position',\n  dataIndex: 'data-index',\n};\n\nconst classes = {\n  onboarding: 'onboarding-product',\n  shopBarVisible: 'shop-bar--is-visible',\n  footerPush: 'site-footer--push',\n};\n\nlet sections = {};\n\n/**\n * Product section constructor.\n * @param {string} container - selector for the section container DOM element\n */\nclass Product {\n  constructor(section) {\n    this.section = section;\n    this.container = section.container;\n    this.id = this.container.getAttribute(selectors.dataSectionId);\n    this.productContainer = this.container.querySelector(selectors.productContainer);\n    this.footer = document.querySelector(selectors.footer);\n    this.onboarding = this.productContainer.classList.contains(classes.onboarding);\n    this.shopBar = document.querySelector(selectors.shopBar);\n    this.scrollEvent = throttle(() => this.shopBarShow(), 100);\n\n    if (!this.onboarding) {\n      // Stop parsing if we don't have the product json script tag\n      // when loading section in the Theme Editor\n      const productJson = this.container.querySelector(selectors.productJson);\n      if ((productJson && !productJson.innerHTML) || !productJson) {\n        return;\n      }\n\n      // Record recently viewed products when the product page is loading\n      Shopify.Products.recordRecentlyViewed();\n\n      this.form = this.container.querySelector(selectors.form);\n\n      this.init();\n\n      if (this.shopBar) {\n        this.initShopBar();\n      }\n    } else {\n      quantitySelectors();\n\n      this.productContainer.querySelectorAll(selectors.colorSwatch).forEach((swatch) => {\n        swatch.addEventListener('change', (e) => {\n          this.updateColorName(e);\n        });\n      });\n    }\n  }\n\n  init() {\n    theme.mediaInstances[this.id] = new Media(this.section);\n    theme.mediaInstances[this.id].init();\n  }\n\n  initShopBar() {\n    const cartBarSelectors = this.shopBar.querySelectorAll(selectors.selectTag);\n    const formSelectors = this.form.querySelectorAll(selectors.dropdown);\n    const submit = this.shopBar.querySelector(selectors.addToCart);\n\n    // Prevent shopbar submit\n    submit.addEventListener('click', (e) => {\n      e.preventDefault();\n    });\n\n    if (cartBarSelectors.length) {\n      cartBarSelectors.forEach((element) => {\n        // Update product form on cart bar variant change\n        element.addEventListener('change', () => {\n          const index = element.getAttribute(selectors.dataIndex);\n          const optionSelected = element.value;\n          const targets = this.form.querySelectorAll(`${selectors.dropdown}[${selectors.dataIndex}=\"${index}\"]`);\n\n          if (targets[0].tagName === 'INPUT') {\n            for (const target of targets) {\n              const targetIndex = target.getAttribute(selectors.dataIndex);\n              const targetValue = target.value;\n              if (targetIndex === index && targetValue === optionSelected) {\n                target.checked = true;\n                target.dispatchEvent(new Event('change'));\n                break;\n              }\n            }\n          } else {\n            const select = targets[0];\n            select.value = optionSelected;\n            select.dispatchEvent(new Event('change'));\n          }\n        });\n      });\n    }\n\n    // Update cart bar on product form variant change\n    if (formSelectors.length) {\n      formSelectors.forEach((element) => {\n        element.addEventListener('change', () => {\n          const index = element.getAttribute(selectors.dataIndex);\n          const optionSelected = element.value;\n\n          this.shopBar.querySelector(`[${selectors.dataIndex}=\"${index}\"]`).value = optionSelected;\n        });\n      });\n    }\n\n    this.shopBarShow();\n    window.addEventListener('scroll', this.scrollEvent);\n  }\n\n  shopBarShow() {\n    const scrolled = window.scrollY;\n    const productContainerTop = this.productContainer.getBoundingClientRect().top + scrolled;\n\n    if (scrolled > productContainerTop) {\n      this.shopBar.classList.add(classes.shopBarVisible);\n      this.footer.classList.add(classes.footerPush);\n    } else if (scrolled < productContainerTop - theme.dimensions.headerScrolled) {\n      this.shopBar.classList.remove(classes.shopBarVisible);\n      this.footer.classList.remove(classes.footerPush);\n    }\n  }\n\n  updateColorName(evt) {\n    const target = evt.target;\n    const optionLabel = target.closest(selectors.dataOption).querySelector(selectors.colorLabel);\n\n    if (target.tagName === 'INPUT' && optionLabel !== null) {\n      optionLabel.innerText = target.value;\n    }\n  }\n\n  unload() {\n    window.removeEventListener('scroll', this.scrollEvent);\n  }\n}\n\nconst productSection = {\n  onLoad() {\n    sections = new Product(this);\n  },\n  onUnload: function () {\n    if (typeof sections.unload === 'function') {\n      sections.unload();\n    }\n  },\n};\n\nregister('product', [productFormSection, productSection, swatchSection]);\n","import {register} from '../vendor/theme-scripts/theme-sections';\nimport {ajaxify} from '../features/infinity-scroll';\n\nregister('collection-grid', [ajaxify]);\n","import {register} from '../vendor/theme-scripts/theme-sections';\nimport setBadgePosition from '../features/badge-position';\nimport {makeGridSwatches} from '../features/swatch';\nimport {Quickview} from '../features/quickview';\nimport debounce from '../util/debounce';\n\nconst sections = {};\n\nconst selectors = {\n  section: '[data-section-type=\"related-products\"]',\n  product: '[data-product-block]',\n  productImage: '[data-product-image]',\n  sectionId: 'data-section-id',\n  productId: 'data-product-id',\n  limit: 'data-limit',\n};\n\nclass RelatedProducts {\n  constructor(section) {\n    this.container = section.container;\n    this.resizeEvent = null;\n\n    this.init();\n  }\n\n  init() {\n    const self = this;\n    const relatedSection = this.container;\n    const sectionId = relatedSection.getAttribute(selectors.sectionId);\n    const productId = relatedSection.getAttribute(selectors.productId);\n    const limit = relatedSection.getAttribute(selectors.limit);\n    const requestUrl = `${theme.routes.product_recommendations_url}?section_id=${sectionId}&limit=${limit}&product_id=${productId}`;\n\n    fetch(requestUrl)\n      .then(function (response) {\n        return response.text();\n      })\n      .then(function (data) {\n        const createdElement = document.createElement('div');\n        createdElement.innerHTML = data;\n        const inner = createdElement.querySelector(selectors.section);\n\n        if (inner.querySelector(selectors.product)) {\n          relatedSection.innerHTML = inner.innerHTML;\n\n          makeGridSwatches(relatedSection);\n          new Quickview(relatedSection);\n\n          const images = relatedSection.querySelectorAll(selectors.productImage);\n          self.resizeEvent = debounce(() => setBadgePosition(images), 50);\n\n          if (theme.settings.imageBackgroundSize === 'contain' && images) {\n            setBadgePosition(images);\n\n            window.addEventListener('resize', self.resizeEvent);\n          }\n        }\n      });\n  }\n  onUnload() {\n    if (this.resizeEvent) {\n      window.removeEventListener('resize', this.resizeEvent);\n    }\n  }\n}\n\nconst RelatedSection = {\n  onLoad() {\n    sections[this.id] = new RelatedProducts(this);\n  },\n  onUnload(e) {\n    sections[this.id].onUnload(e);\n  },\n};\n\nregister('related-products', RelatedSection);\n","import setBadgePosition from '../features/badge-position';\nimport {Quickview} from '../features/quickview';\nimport {makeGridSwatches} from '../features/swatch';\nimport {register} from '../vendor/theme-scripts/theme-sections';\nimport debounce from '../util/debounce';\n\nconst sections = {};\n\nconst selectors = {\n  recentlyViewed: '#RecentlyViewed',\n  dataLimit: 'data-limit',\n  productBlock: '[data-product-block]',\n  productImage: '[data-product-image]',\n  productBadge: '[data-badge]',\n};\n\nclass RecentlyViewedProducts {\n  constructor(section) {\n    this.section = section;\n    this.container = section.container;\n    this.limit = parseInt(this.container.getAttribute(selectors.dataLimit));\n    this.recentlyViewed = this.container.querySelector(selectors.recentlyViewed);\n    this.resizeEvent = null;\n\n    if (this.recentlyViewed) {\n      this.init();\n    }\n  }\n\n  init() {\n    Shopify.Products.showRecentlyViewed({\n      howManyToShow: this.limit,\n      onComplete: () => {\n        const recentlyViewedProducts = this.container.querySelectorAll(selectors.productBlock);\n\n        if (recentlyViewedProducts.length > 0) {\n          makeGridSwatches(this.container);\n          new Quickview(this.container);\n\n          const images = this.container.querySelectorAll(selectors.productImage);\n          this.resizeEvent = debounce(() => setBadgePosition(images), 50);\n\n          if (theme.settings.imageBackgroundSize === 'contain' && images) {\n            setBadgePosition(images);\n\n            window.addEventListener('resize', this.resizeEvent);\n          }\n\n          // Force lazyloading\n          images.forEach((image) => {\n            lazySizes.loader.unveil(image);\n          });\n\n          // Add new lines in badges\n          if (theme.settings.productBadgeStyle === 'circle') {\n            this.container.querySelectorAll(selectors.productBadge).forEach((badge) => {\n              let badgeText = badge.innerText;\n              badgeText = badgeText.replace(' ', '<br>');\n              badge.innerHTML = badgeText;\n            });\n          }\n        }\n      },\n    });\n  }\n  onUnload() {\n    if (this.resizeEvent) {\n      window.removeEventListener('resize', this.resizeEvent);\n    }\n  }\n}\n\nconst recentlyViewedProductsSection = {\n  onLoad() {\n    sections[this.id] = new RecentlyViewedProducts(this);\n  },\n  onUnload(e) {\n    sections[this.id].onUnload(e);\n  },\n};\n\nregister('recently-viewed-products', recentlyViewedProductsSection);\n","import Flickity from 'flickity';\n\nimport debounce from '../util/debounce';\nimport {register} from '../vendor/theme-scripts/theme-sections';\n\nconst sections = {};\n\nconst selectors = {\n  logoListSlider: '[data-logo-list-slider]',\n  logoListSlide: '[data-logo-list-slide]',\n  logoListSlideData: 'data-logo-list-slide',\n  logoListSlideIndex: 'data-slide-index',\n};\n\nconst classes = {\n  flickityEnabled: 'flickity-enabled',\n};\n\nclass LogoList {\n  constructor(section) {\n    this.container = section.container;\n    this.slideshow = this.container.querySelector(selectors.logoListSlider);\n    this.sliderInitEvent = debounce(() => this.sliderInit(), 250);\n    this.sliderResizeEvent = debounce(() => this.flickityResizeEvent(), 250);\n    this.flkty = null;\n\n    this.init();\n  }\n\n  init() {\n    this.sliderInit();\n\n    window.addEventListener('resize', this.sliderInitEvent);\n  }\n\n  sliderInit() {\n    const slidesCount = this.slideshow.querySelectorAll(selectors.logoListSlide).length;\n    const slideWidth = 220;\n    const windowWidth = document.documentElement.clientWidth || document.body.clientWidth;\n    const slidesWidth = slidesCount * slideWidth;\n    const sliderInitialized = this.slideshow.classList.contains(classes.flickityEnabled);\n\n    if (windowWidth < slidesWidth) {\n      if (!sliderInitialized) {\n        this.flkty = new Flickity(this.slideshow, {\n          autoPlay: 4000,\n          prevNextButtons: false,\n          pageDots: false,\n          wrapAround: true,\n          resize: false,\n        });\n        this.flkty.on('dragStart', () => (document.ontouchmove = (e) => e.preventDefault()));\n        this.flkty.on('dragEnd', () => (document.ontouchmove = () => true));\n\n        window.addEventListener('resize', this.sliderResizeEvent);\n      }\n    } else if (sliderInitialized) {\n      this.flkty.destroy();\n      window.removeEventListener('resize', this.sliderResizeEvent);\n    }\n  }\n\n  flickityResizeEvent() {\n    if (this.flkty) {\n      if (this.flkty.isAnimating) {\n        this.flkty.resizeQueued = true;\n      } else {\n        this.flkty.onresize();\n      }\n    }\n  }\n\n  onUnload() {\n    const sliderInitialized = this.slideshow.classList.contains(classes.flickityEnabled);\n\n    if (sliderInitialized) {\n      this.flkty.destroy();\n    }\n\n    window.removeEventListener('resize', this.sliderInitEvent);\n    window.removeEventListener('resize', this.sliderResizeEvent);\n  }\n\n  onBlockSelect(evt) {\n    const slide = this.slideshow.querySelector(`[${selectors.logoListSlideData}=\"${evt.detail.blockId}\"]`);\n    const slideIndex = parseInt(slide.getAttribute(selectors.logoListSlideIndex));\n    const sliderInitialized = this.slideshow.classList.contains(classes.flickityEnabled);\n\n    if (sliderInitialized) {\n      this.flkty.select(slideIndex);\n      this.flkty.pausePlayer();\n    }\n  }\n\n  onBlockDeselect() {\n    const sliderInitialized = this.slideshow.classList.contains(classes.flickityEnabled);\n\n    if (sliderInitialized) {\n      this.flkty.unpausePlayer();\n    }\n  }\n}\n\nconst LogoListSection = {\n  onLoad() {\n    sections[this.id] = new LogoList(this);\n  },\n  onUnload(e) {\n    sections[this.id].onUnload(e);\n  },\n  onBlockSelect(e) {\n    sections[this.id].onBlockSelect(e);\n  },\n  onBlockDeselect() {\n    sections[this.id].onBlockDeselect();\n  },\n};\n\nregister('logo-list', LogoListSection);\n","import {register} from '../vendor/theme-scripts/theme-sections';\nimport {collapsible} from '../features/collapsible';\n\nconst sections = {};\n\nconst selectors = {\n  collapsibleTrigger: '[data-collapsible-trigger]',\n};\n\nconst classes = {\n  isExpanded: 'is-expanded',\n};\n\nclass FaqList {\n  triggerClick(evt) {\n    const trigger = evt.target.querySelector(selectors.collapsibleTrigger);\n    trigger.dispatchEvent(new Event('click'));\n  }\n}\n\nconst FaqListSection = {\n  onLoad() {\n    sections[this.id] = new FaqList(this);\n  },\n  onBlockSelect(e) {\n    if (!e.target.classList.contains(classes.isExpanded)) {\n      sections[this.id].triggerClick(e);\n    }\n  },\n  onBlockDeselect(e) {\n    if (e.target.classList.contains(classes.isExpanded)) {\n      sections[this.id].triggerClick(e);\n    }\n  },\n};\n\nregister('faq', [FaqListSection, collapsible]);\n","import FlickityFade from 'flickity-fade';\n\nimport throttle from '../util/throttle';\nimport debounce from '../util/debounce';\nimport {register} from '../vendor/theme-scripts/theme-sections';\n\nconst sections = {};\n\nconst selectors = {\n  shopifySection: '.shopify-section',\n  slideshowPrev: '[data-prev-arrow]',\n  slideshowNext: '[data-next-arrow]',\n  header: '[data-header]',\n  dataOptions: 'data-options',\n  dataColor: 'data-style',\n  dataCurrentColor: 'data-current-style',\n  dataSlide: 'data-slide',\n  dataSlideIndex: 'data-slide-index',\n  scrollBtn: '[data-button-scroll]',\n};\n\nconst classes = {\n  slideshowLoading: 'hero--is-loading',\n  classIsSelected: 'is-selected',\n  flickityEnabled: 'flickity-enabled',\n};\n\nclass Slideshow {\n  constructor(section) {\n    this.container = section.container;\n    this.options = this.container.getAttribute(selectors.dataOptions);\n    this.parentContainer = this.container.closest(selectors.shopifySection);\n    this.slideshowPrev = this.parentContainer.querySelector(selectors.slideshowPrev);\n    this.slideshowNext = this.parentContainer.querySelector(selectors.slideshowNext);\n    this.scrollBtn = this.parentContainer.querySelector(selectors.scrollBtn);\n    this.scrollEvent = throttle(() => this.checkSliderVisibility(), 150);\n    this.resizeEvent = debounce(() => this.flickityResizeEvent(), 250);\n    this.flkty = null;\n\n    this.init();\n  }\n\n  init() {\n    let options = JSON.parse(this.options.replace(/'/g, '\"'));\n\n    options = {\n      ...options,\n      resize: false,\n      on: {\n        ready: () => {\n          this.container.classList.remove(classes.slideshowLoading);\n          this.slideActions();\n        },\n      },\n    };\n\n    this.flkty = new FlickityFade(this.container, options);\n    this.flkty.on('dragStart', () => (document.ontouchmove = (e) => e.preventDefault()));\n    this.flkty.on('dragEnd', () => (document.ontouchmove = () => true));\n    this.flkty.on('change', () => {\n      this.slideActions();\n    });\n    this.flkty.on('settle', () => {\n      if (this.flkty.resizeQueued) {\n        this.flkty.resizeQueued = false;\n        this.flkty.onresize();\n      }\n    });\n\n    if (this.slideshowPrev) {\n      this.slideshowPrev.addEventListener('click', () => this.flkty.previous(true));\n    }\n\n    if (this.slideshowNext) {\n      this.slideshowNext.addEventListener('click', () => this.flkty.next(true));\n    }\n\n    if (this.scrollBtn) {\n      this.scrollBtn.addEventListener('click', (e) => {\n        e.preventDefault();\n\n        const headerHeight = 59;\n        const containerTop = this.parentContainer.offsetTop;\n        const containerHeight = this.parentContainer.offsetHeight;\n        const scrollPosition = containerTop + containerHeight - headerHeight;\n\n        scroll({\n          top: scrollPosition,\n          behavior: 'smooth',\n        });\n      });\n    }\n\n    window.addEventListener('scroll', this.scrollEvent);\n    window.addEventListener('resize', this.resizeEvent);\n  }\n\n  flickityResizeEvent() {\n    if (this.flkty) {\n      if (this.flkty.isAnimating) {\n        this.flkty.resizeQueued = true;\n      } else {\n        this.flkty.onresize();\n      }\n    }\n  }\n\n  isAutoplay() {\n    const autoplay = this.flkty.options.autoPlay !== false;\n\n    return autoplay;\n  }\n\n  checkSliderVisibility() {\n    const isInitialized = this.container.classList.contains(classes.flickityEnabled);\n    const isVisible = visibilityHelper.isElementPartiallyVisible(this.container) || visibilityHelper.isElementTotallyVisible(this.container);\n\n    if (isVisible && isInitialized && this.isAutoplay()) {\n      this.flkty.playPlayer();\n    } else {\n      this.flkty.stopPlayer();\n    }\n  }\n\n  slideActions() {\n    const currentSlide = this.container.querySelector(`.${classes.classIsSelected}`);\n    const currentSlideColor = currentSlide.getAttribute(selectors.dataColor);\n\n    this.container.setAttribute(selectors.dataCurrentColor, currentSlideColor);\n  }\n\n  onUnload() {\n    this.flkty.destroy();\n\n    window.removeEventListener('scroll', this.scrollEvent);\n    window.removeEventListener('resize', this.resizeEvent);\n  }\n\n  onBlockSelect(evt) {\n    const slide = this.container.querySelector(`[${selectors.dataSlide}=\"${evt.detail.blockId}\"]`);\n    const slideIndex = parseInt(slide.getAttribute(selectors.dataSlideIndex));\n\n    // Go to selected slide, pause autoplay\n    this.flkty.select(slideIndex);\n    this.flkty.stopPlayer();\n  }\n\n  onBlockDeselect() {\n    if (this.isAutoplay()) {\n      this.flkty.playPlayer();\n    }\n  }\n}\n\nconst SlideshowSection = {\n  onLoad() {\n    sections[this.id] = new Slideshow(this);\n  },\n  onUnload(e) {\n    sections[this.id].onUnload(e);\n  },\n  onBlockSelect(e) {\n    sections[this.id].onBlockSelect(e);\n  },\n  onBlockDeselect(e) {\n    sections[this.id].onBlockDeselect(e);\n  },\n};\n\nregister('slideshow', SlideshowSection);\n","import FlickityFade from 'flickity-fade';\n\nimport debounce from '../util/debounce';\nimport throttle from '../util/throttle';\nimport {register} from '../vendor/theme-scripts/theme-sections';\n\nconst sections = {};\n\nconst selectors = {\n  slider: '[data-gallery-slider]',\n  slideshow: '[data-slider]',\n  slideshowPrev: '[data-prev-arrow]',\n  slideshowNext: '[data-next-arrow]',\n  dataOptions: 'data-options',\n  dataSlide: 'data-slide',\n  dataSlideIndex: 'data-slide-index',\n};\n\nconst classes = {\n  slideshowLoading: 'gallery-slider--is-loading',\n  classIsSelected: 'is-selected',\n  flickityEnabled: 'flickity-enabled',\n};\n\nclass Gallery {\n  constructor(section) {\n    this.container = section.container;\n    this.slider = this.container.querySelector(selectors.slider);\n    this.slideshow = this.container.querySelector(selectors.slideshow);\n    this.options = this.slideshow.getAttribute(selectors.dataOptions);\n    this.slideshowPrev = this.container.querySelector(selectors.slideshowPrev);\n    this.slideshowNext = this.container.querySelector(selectors.slideshowNext);\n    this.scrollEvent = throttle(() => this.checkSliderVisibility(), 150);\n    this.sliderResizeEvent = debounce(() => this.flickityResizeEvent(), 150);\n    this.flkty = null;\n\n    this.init();\n  }\n\n  init() {\n    let options = JSON.parse(this.options.replace(/'/g, '\"'));\n\n    options = {\n      ...options,\n      resize: false,\n      on: {\n        ready: () => this.slider.classList.remove(classes.slideshowLoading),\n      },\n    };\n\n    this.flkty = new FlickityFade(this.slideshow, options);\n    this.flkty.on('dragStart', () => (document.ontouchmove = (e) => e.preventDefault()));\n    this.flkty.on('dragEnd', () => (document.ontouchmove = () => true));\n    this.flkty.on('settle', () => {\n      if (this.flkty.resizeQueued) {\n        this.flkty.resizeQueued = false;\n        this.flkty.onresize();\n      }\n    });\n\n    if (this.slideshowPrev) {\n      this.slideshowPrev.addEventListener('click', () => this.flkty.previous(true));\n    }\n\n    if (this.slideshowNext) {\n      this.slideshowNext.addEventListener('click', () => this.flkty.next(true));\n    }\n\n    window.addEventListener('scroll', this.scrollEvent);\n    window.addEventListener('resize', this.sliderResizeEvent);\n  }\n\n  isAutoplay() {\n    const autoplay = this.flkty.options.autoPlay !== false;\n\n    return autoplay;\n  }\n\n  checkSliderVisibility() {\n    const isInitialized = this.slideshow.classList.contains(classes.flickityEnabled);\n    const isVisible = visibilityHelper.isElementPartiallyVisible(this.slideshow) || visibilityHelper.isElementTotallyVisible(this.slideshow);\n\n    if (isVisible && isInitialized && this.isAutoplay()) {\n      this.flkty.playPlayer();\n    } else {\n      this.flkty.stopPlayer();\n    }\n  }\n\n  flickityResizeEvent() {\n    if (this.flkty) {\n      if (this.flkty.isAnimating) {\n        this.flkty.resizeQueued = true;\n      } else {\n        this.flkty.onresize();\n      }\n    }\n  }\n\n  onUnload() {\n    this.flkty.destroy();\n\n    window.removeEventListener('scroll', this.scrollEvent);\n    window.removeEventListener('resize', this.sliderResizeEvent);\n  }\n\n  onBlockSelect(evt) {\n    const slide = this.slideshow.querySelector(`[${selectors.dataSlide}=\"${evt.detail.blockId}\"]`);\n    const slideIndex = parseInt(slide.getAttribute(selectors.dataSlideIndex));\n\n    // Go to selected slide, pause autoplay\n    this.flkty.select(slideIndex);\n    this.flkty.stopPlayer();\n  }\n\n  onBlockDeselect() {\n    if (this.isAutoplay()) {\n      this.flkty.playPlayer();\n    }\n  }\n}\n\nconst GallerySection = {\n  onLoad() {\n    sections[this.id] = new Gallery(this);\n  },\n  onUnload(e) {\n    sections[this.id].onUnload(e);\n  },\n  onBlockSelect(e) {\n    sections[this.id].onBlockSelect(e);\n  },\n  onBlockDeselect(e) {\n    sections[this.id].onBlockDeselect(e);\n  },\n};\n\nregister('gallery', GallerySection);\n","import Flickity from 'flickity';\n\nimport debounce from '../util/debounce';\nimport Listeners from '../vendor/theme-scripts/listeners';\nimport {register} from '../vendor/theme-scripts/theme-sections';\n\nconst sections = {};\n\nconst selectors = {\n  slideshow: '[data-mosaic-blocks]',\n  slideshowPrev: '[data-prev-arrow]',\n  slideshowNext: '[data-next-arrow]',\n  dataSlide: 'data-slide',\n  dataSlideIndex: 'data-slide-index',\n};\n\nconst classes = {\n  flickityEnabled: 'flickity-enabled',\n};\n\nclass Mosaic {\n  constructor(section) {\n    this.container = section.container;\n    this.slideshow = this.container.querySelector(selectors.slideshow);\n    this.slideshowPrev = this.container.querySelector(selectors.slideshowPrev);\n    this.slideshowNext = this.container.querySelector(selectors.slideshowNext);\n    this.flkty = null;\n    this.sliderInitEvent = debounce(() => this.initMobileSlider(), 250);\n    this.sliderResizeEvent = debounce(() => this.flickityResizeEvent(), 250);\n    this._listeners = new Listeners();\n\n    this.init();\n  }\n\n  init() {\n    this.initMobileSlider();\n\n    window.addEventListener('resize', this.sliderInitEvent);\n  }\n\n  initMobileSlider() {\n    const isMobile = document.documentElement.clientWidth <= theme.sizes.small;\n\n    const options = {\n      wrapAround: true,\n      prevNextButtons: false,\n      pageDots: false,\n      resize: false,\n    };\n\n    if (isMobile && !this.isInit()) {\n      this.flkty = new Flickity(this.slideshow, options);\n      this.flkty.on('dragStart', () => (document.ontouchmove = (e) => e.preventDefault()));\n      this.flkty.on('dragEnd', () => (document.ontouchmove = () => true));\n      this.flkty.on('settle', () => {\n        if (this.flkty.resizeQueued) {\n          this.flkty.resizeQueued = false;\n          this.flkty.onresize();\n        }\n      });\n\n      // Bind slider controls event listeners\n      this._listeners.add(this.slideshowPrev, 'click', () => this.flkty.previous(true));\n      this._listeners.add(this.slideshowNext, 'click', () => this.flkty.next(true));\n\n      window.addEventListener('resize', this.sliderResizeEvent);\n    } else if (!isMobile && this.isInit()) {\n      this.flkty.destroy();\n      window.removeEventListener('resize', this.sliderResizeEvent);\n\n      // Unbind all slider controls event listeners\n      this._listeners.removeAll();\n    }\n  }\n\n  flickityResizeEvent() {\n    if (this.flkty) {\n      if (this.flkty.isAnimating) {\n        this.flkty.resizeQueued = true;\n      } else {\n        this.flkty.onresize();\n      }\n    }\n  }\n\n  isInit() {\n    const isInitialized = this.slideshow.classList.contains(classes.flickityEnabled);\n\n    return isInitialized;\n  }\n\n  onUnload() {\n    if (this.isInit()) {\n      this.flkty.destroy();\n    }\n\n    window.removeEventListener('resize', this.sliderInitEvent);\n    window.removeEventListener('resize', this.sliderResizeEvent);\n  }\n\n  onBlockSelect(evt) {\n    const slide = this.container.querySelector(`[${selectors.dataSlide}=\"${evt.detail.blockId}\"]`);\n\n    if (this.isInit() && slide !== null) {\n      this.flkty.select(parseInt(slide.getAttribute(selectors.dataSlideIndex)));\n    }\n  }\n}\n\nconst MosaicSection = {\n  onLoad() {\n    sections[this.id] = new Mosaic(this);\n  },\n  onUnload(e) {\n    sections[this.id].onUnload(e);\n  },\n  onBlockSelect(e) {\n    sections[this.id].onBlockSelect(e);\n  },\n};\n\nregister('mosaic', MosaicSection);\n","import {register} from '../vendor/theme-scripts/theme-sections';\n\nconst selectors = {\n  popup: '[data-popup]',\n  close: '[data-popup-close]',\n  reappearTime: 'data-reappear_time',\n  delay: 'data-delay',\n  testmode: 'data-testmode',\n  checkTrueString: 'true',\n};\n\nconst classes = {\n  popupVisible: 'popup--visible',\n};\n\nlet sections = {};\n\nclass PopupCookie {\n  constructor(name, value, expires) {\n    this.configuration = {\n      expires: expires, // session cookie\n      path: '/',\n      domain: window.location.hostname,\n    };\n    this.name = name;\n    this.value = value;\n  }\n\n  write() {\n    const hasCookie = document.cookie.indexOf('; ') !== -1 && !document.cookie.split('; ').find((row) => row.startsWith(this.name));\n    if (hasCookie || document.cookie.indexOf('; ') === -1) {\n      document.cookie = `${this.name}=${this.value}; expires=${this.configuration.expires}; path=${this.configuration.path}; domain=${this.configuration.domain}`;\n    }\n  }\n\n  read() {\n    if (document.cookie.indexOf('; ') !== -1 && document.cookie.split('; ').find((row) => row.startsWith(this.name))) {\n      const returnCookie = document.cookie\n        .split('; ')\n        .find((row) => row.startsWith(this.name))\n        .split('=')[1];\n\n      return returnCookie;\n    } else {\n      return false;\n    }\n  }\n\n  destroy() {\n    if (document.cookie.split('; ').find((row) => row.startsWith(this.name))) {\n      document.cookie = `${this.name}=null; expires=${this.configuration.expires}; path=${this.configuration.path}; domain=${this.configuration.domain}`;\n    }\n  }\n}\n\nclass Popup {\n  constructor(el) {\n    this.popup = el;\n    this.close = this.popup.querySelector(selectors.close);\n    this.timeout = 0;\n    this.testmode = this.popup.getAttribute(selectors.testmode) === selectors.checkTrueString;\n    this.delay = parseInt(this.popup.getAttribute(selectors.delay)) * 1000;\n    this.cookie = new PopupCookie('newsletter', 'user_has_closed', this.expireDate());\n\n    this.init();\n  }\n\n  expireDate() {\n    const todayDate = new Date();\n    const expireDate = new Date();\n    let date = parseInt(this.popup.getAttribute(selectors.reappearTime));\n\n    if (date !== 0) {\n      expireDate.setTime(todayDate.getTime() + 3600000 * 24 * date);\n    } else {\n      expireDate.setTime(todayDate.getTime() + 3600000 * 24 * 365 * 100);\n    }\n\n    date = expireDate.toGMTString();\n\n    return date;\n  }\n\n  init() {\n    const cookieExists = this.cookie.read() !== false;\n\n    if (!cookieExists || this.testmode) {\n      this.timeout = setTimeout(() => {\n        this.popup.classList.add(classes.popupVisible);\n        this.initClosers();\n        this.close.focus();\n      }, this.delay);\n    }\n  }\n\n  initClosers() {\n    this.close.addEventListener('click', this.closeModal.bind(this));\n  }\n\n  closeModal(e) {\n    e.preventDefault();\n    this.popup.classList.remove(classes.popupVisible);\n    clearTimeout(this.timeout);\n\n    if (!this.testmode) {\n      this.cookie.write();\n    }\n  }\n}\n\nconst popupSection = {\n  onLoad() {\n    const popup = this.container.querySelector(selectors.popup);\n    if (popup !== null) {\n      sections[this.id] = new Popup(popup);\n    }\n  },\n};\n\nregister('popup', popupSection);\n","import {register} from '../vendor/theme-scripts/theme-sections';\n\nconst selectors = {\n  inputGroups: '.input-group--error',\n  inputs: 'input.password, input.email',\n};\n\nclass Password {\n  constructor(section) {\n    this.container = section.container;\n    this.inputGroups = this.container.querySelectorAll(selectors.inputGroups);\n\n    this.init();\n  }\n\n  init() {\n    this.inputGroups.forEach((inputGroup) => {\n      const input = inputGroup.querySelector(selectors.inputs);\n      input.focus();\n    });\n  }\n}\n\nconst PasswordSection = {\n  onLoad() {\n    new Password(this);\n  },\n};\n\nregister('password', PasswordSection);\n","import debounce from '../util/debounce';\nimport Listeners from '../vendor/theme-scripts/listeners';\nimport {register} from '../vendor/theme-scripts/theme-sections';\n\nconst selectors = {\n  tabs: '[data-tabs]',\n  tabsNav: '[data-tabs-nav]',\n  tabsContents: '[data-tabs-contents]',\n  tabTitle: '[data-tab-title]',\n  tabContent: '[data-tab-content]',\n};\n\nconst classes = {\n  active: 'is-active',\n};\n\nconst sections = {};\n\nclass Tabs {\n  constructor(container) {\n    this.container = container;\n    this.tabs = this.container.querySelector(selectors.tabs);\n    this.resizeEvent = debounce(() => this.prepareTabs(), 250);\n    this._listeners = new Listeners();\n\n    if (this.tabs) {\n      this.tabsNav = this.tabs.querySelector(selectors.tabsNav);\n      this.tabsContents = this.tabs.querySelector(selectors.tabsContents);\n      this.tabTitles = this.tabs.querySelectorAll(selectors.tabTitle);\n      this.tabContents = this.tabs.querySelectorAll(selectors.tabContent);\n\n      this.init();\n    }\n  }\n\n  init() {\n    this.prepareTabs();\n    window.addEventListener('resize', this.resizeEvent);\n\n    this.tabTitles.forEach((tabTitle, index) => {\n      this._listeners.add(tabTitle, 'click', () => this.tabTitleClick(tabTitle, index));\n    });\n  }\n\n  prepareTabs() {\n    const windowWidth = window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth;\n\n    if (windowWidth <= theme.sizes.small) {\n      this.tabTitles.forEach((tabTitle, index) => {\n        this.tabs.appendChild(tabTitle);\n        this.tabs.appendChild(this.tabContents[index]);\n      });\n    } else {\n      this.tabTitles.forEach((tabTitle, index) => {\n        this.tabsNav.appendChild(tabTitle);\n        this.tabsContents.appendChild(this.tabContents[index]);\n      });\n    }\n  }\n\n  tabTitleClick(tabTitle, index) {\n    const windowWidth = window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth;\n    const isActive = tabTitle.classList.contains(classes.active);\n    const tabsCount = this.tabTitles.length;\n    let tabIndex = index;\n\n    // Do nothing if there's a single tab on Desktop\n    if (tabsCount === 1 && windowWidth > theme.sizes.small) {\n      return false;\n    }\n\n    if (isActive) {\n      tabIndex += 1;\n\n      // Check if next tab exists or set to first\n      if (this.tabTitles[tabIndex] === undefined) {\n        tabIndex = 0;\n      }\n    }\n\n    this.tabTitles.forEach((tabTitle, i) => {\n      tabTitle.classList.remove(classes.active);\n      this.tabContents[i].classList.remove(classes.active);\n    });\n\n    this.tabTitles[tabIndex].classList.add(classes.active);\n    this.tabContents[tabIndex].classList.add(classes.active);\n\n    if (windowWidth <= theme.sizes.small) {\n      setTimeout(() => {\n        const titleTop = this.tabTitles[tabIndex].getBoundingClientRect().top - document.body.getBoundingClientRect().top - theme.dimensions.headerScrolled;\n\n        window.scrollTo({\n          top: titleTop,\n          left: 0,\n          behavior: 'smooth',\n        });\n      }, 300);\n    }\n  }\n\n  triggerClick(evt) {\n    const isActive = evt.target.classList.contains(classes.active);\n\n    if (isActive) {\n      return;\n    }\n\n    evt.target.dispatchEvent(new Event('click'));\n  }\n\n  onUnload() {\n    window.removeEventListener('resize', this.resizeEvent);\n    this._listeners.removeAll();\n  }\n}\n\nconst tabs = {\n  onLoad() {\n    sections[this.id] = new Tabs(this.container);\n  },\n  onBlockSelect(e) {\n    sections[this.id].triggerClick(e);\n  },\n  onUnload(e) {\n    sections[this.id].onUnload(e);\n  },\n};\n\nregister('tabs', [tabs]);\n","const wrap = (toWrap, wrapperClass = '', wrapper) => {\n  wrapper = wrapper || document.createElement('div');\n  wrapper.classList.add(wrapperClass);\n  toWrap.parentNode.insertBefore(wrapper, toWrap);\n  return wrapper.appendChild(toWrap);\n};\n\nexport default wrap;\n","import AOS from 'aos';\n\nimport {load} from '../vendor/theme-scripts/theme-sections';\nimport loadScript from '../util/loader';\nimport wrap from '../util/wrap';\n\ndocument.addEventListener('DOMContentLoaded', function () {\n  // Load all registered sections on the page.\n  load('*');\n\n  document.body.classList.remove('is-page-loading');\n\n  // Animate on scroll\n  const showAnimations = document.body.getAttribute('data-animations') === 'true';\n  if (showAnimations) {\n    AOS.init({\n      offset: 50,\n      duration: 1000,\n      once: true,\n    });\n  }\n\n  // Smooth scroll to anchored element\n  const anchorLinks = document.querySelectorAll('[data-anchor-link]');\n  anchorLinks.forEach((anchorLink) => {\n    anchorLink.addEventListener('click', (e) => {\n      e.preventDefault();\n      const targetElement = document.getElementById(anchorLink.getAttribute('href').split('#')[1]);\n      const position = targetElement.getBoundingClientRect().top + window.scrollY - theme.dimensions.headerScrolled;\n\n      window.scrollTo({\n        top: position,\n        left: 0,\n        behavior: 'smooth',\n      });\n    });\n  });\n\n  // Target tables to make them scrollable\n  const tableSelectors = '.rte table';\n  const tables = document.querySelectorAll(tableSelectors);\n  tables.forEach((table) => {\n    wrap(table, 'rte__table-wrapper');\n  });\n\n  // Target iframes to make them responsive\n  const iframeSelectors = '.rte iframe[src*=\"youtube.com/embed\"], .rte iframe[src*=\"player.vimeo\"], .rte iframe#admin_bar_iframe';\n  const frames = document.querySelectorAll(iframeSelectors);\n  frames.forEach((frame) => {\n    wrap(frame, 'rte__video-wrapper');\n  });\n\n  if (window.self !== window.top) {\n    document.querySelector('html').classList.add('iframe');\n  }\n\n  // Safari smoothscroll polyfill\n  let hasNativeSmoothScroll = 'scrollBehavior' in document.documentElement.style;\n  if (!hasNativeSmoothScroll) {\n    loadScript({url: window.theme.assets.smoothscroll});\n  }\n});\n\n// Apply a specific class to the html element for browser support of cookies.\nif (window.navigator.cookieEnabled) {\n  document.documentElement.className = document.documentElement.className.replace('supports-no-cookies', 'supports-cookies');\n}\n"],"names":["floatLabels","container","querySelectorAll","forEach","element","label","querySelector","input","addEventListener","event","target","value","classList","add","remove","length","readHeights","h","windowHeight","window","innerHeight","announcementHeight","getHeight","footerHeight","headerHeight","headerInitialHeight","resizeVars","document","documentElement","style","setProperty","selector","el","clientHeight","theme","sizes","mobile","small","large","widescreen","keyboardKeys","TAB","ENTER","ESCAPE","SPACE","LEFTARROW","RIGHTARROW","dimensions","headerScrolled","loadedSPR","focusable","outerHeight","getComputedStyle","height","offsetHeight","parseInt","marginTop","marginBottom","selectors","preventOverflow","banners","banner","content","minHeight","debounce","fn","time","timeout","functionCall","apply","this","arguments","clearTimeout","setTimeout","prev","pageYOffset","up","down","wasUp","wasDown","scrollLockTimeout","lock","e","disableBodyScroll","detail","allowTouchMove","tagName","setAttribute","unlock","body","removeAttribute","hasAttribute","clearAllBodyScrollLocks","wasTouched","touched","removeEventListener","passive","className","replace","dispatchEvent","CustomEvent","bubbles","loaders","loadScript","options","type","url","loader","Promise","resolve","reject","fetch","then","response","text","data","catch","error","callback","callbackError","head","getElementsByTagName","done","script","createElement","src","onload","onreadystatechange","readyState","appendChild","getScript","getScriptWithPromise","json","name","key","concat","version","Shopify","loadFeatures","onLoad","err","onLoadFromShopify","loadShopifyWithPromise","isYoutubeAPILoaded","classes","loaderHTML","players","loadVideoYT","playerId","videoId","disableSound","defaultYoutubeOptions","width","events","onReady","getIframe","mute","unMute","playVideo","onStateChange","parentElement","currentYoutubeOptions","Object","assign","YT","Player","openPhotoSwipe","items","pswpElement","contains","mainClass","loaderElem","innerHTML","firstChild","assets","photoswipe","PhotoSwipe","themePhotoswipe","default","PhotoSwipeUI","popupThumbsContainer","newOptions","history","focus","popup","init","videoContainer","videoType","getAttribute","videoDisableSound","videoContainerId","id","loadYoutubeAPI","state","paramsString","params","background","muted","autoplay","encodeURIComponent","html","console","log","loadVideoVimeo","closeBtn","close","listen","popupIframe","parentNode","removeChild","stopDisabledScroll","stopPropagation","popupThumbs","i","preventDefault","goTo","setCurrentThumb","lastCurrentThumb","currentThumb","getCurrentIndex","thumbsContainerPos","scrollLeft","offsetWidth","currentThumbLeft","offsetLeft","currentThumbPos","currentThumbMarginLeft","marginLeft","scrollTo","top","left","behavior","ariaToggle","toggleButtons","currentTarget","toggleID","toggle","videoPopups","videoPopupHtml","trim","cancelAnimationFrame","requestAnimationFrame","position","dispatch","scrollListener","lazyImage","backgroundImage","outer","visibility","overflow","msOverflowStyle","inner","scrollbarWidth","getScrollbarWidth","setVars","n","innerWidth","clientWidth","r","t","getBoundingClientRect","bottom","right","u","f","visibilityHelper","isElementTotallyVisible","isElementPartiallyVisible","inViewportPartially","inViewportTotally","showElement","elem","removeProp","prop","removeProperty","display","forceFocus","savedTabIndex","tabIndex","dataset","Array","prototype","slice","call","filter","getClientRects","Products","config","howManyToShow","howManyToStoreInMemory","wrapperId","onComplete","productHandleQueue","wrapper","howManyToShowItems","cookie","configuration","expires","path","domain","location","hostname","write","recentlyViewed","recentlyViewedString","join","read","cookieValue","templateProduct","indexOf","split","find","row","startsWith","currentProduct","currentProductIndex","splice","destroy","productHandle","moveAlong","shown","product","fresh","shift","cookieItemsLength","children","allClassesArr","addClassesArr","objCounter","property","objArr","propertyIdx","keys","finalize","showRecentlyViewed","paramsNew","Math","min","getConfig","clearList","recordRecentlyViewed","pathname","decodeURIComponent","match","unshift","hasProducts","trapFocusHandlers","removeTrapFocus","focusin","focusout","keydown","hash","getElementById","ignore","matches","link","substr","elements","elementToFocus","first","last","keyCode","shiftKey","TypeError","messages","newWindow","external","newWindowExternal","prefix","messageSelectors","rel","isExternal","externalSite","isTargetBlank","missingRelNoopener","relValue","htmlMessages","reduce","generateHTML","slideUp","duration","transitionProperty","transitionDuration","boxSizing","paddingTop","paddingBottom","slideDown","checkHidden","FetchError","object","status","headers","Error","quantityHolder","quantityField","quantityButton","quantityMinusButton","quantityPlusButton","quantityReadOnly","isDisabled","QuantityCounter","constructor","holder","inCart","quantityUpdateCart","settings","quantity","field","buttons","increaseButton","quantityValue","Number","cartItemID","maxValue","minValue","disableIncrease","bind","emptyField","updateQuantity","decrease","increase","changeValueOnClick","changeValueOnInput","that","clickedElement","isDescrease","closest","isIncrease","updateCart","valueIsEmpty","maxSize","times","timeoutAddProduct","closeDropdownAfter","template","hidden","cartVisible","open","focused","visible","loading","disabled","success","defaultSuccess","cartEmpty","isAdded","attributes","expanded","dataId","apiContent","button","buttonAddToCart","buttonAddToCartText","buttonHolder","buttonUpdateCart","cart","cartContainer","cartTemplate","cartToggleElement","cartClose","cartItemRemove","cartItemsCount","cartTotal","cartErrors","cartCloseError","cartOriginalTotal","cartOriginaTotalPrice","cartDiscountsHolder","cartAcceptanceCheckbox","cartButtons","cartButtonsFieldset","cartFormError","cartMessage","continueBtn","emptyMessage","errorMessage","freeMessageLimit","item","itemsHolder","leftToSpend","popover","popoverTemplate","progressBar","qty","quickAddHolder","formatMoney","moneyFormat","cartTotalDiscountsTemplate","defineSelectors","accessibility","a11y","ajaxEnabled","enableAjaxCart","popoverTimer","cartFocusTimeout","form","cartDrawerIsOpen","cartDiscounts","cartLimitErrorIsHidden","openCartDrawer","closeCartDrawer","toggleCartDrawer","cartKeyUpEvent","eventToggleCart","initDefaultCartEvents","addProductEvent","renderCart","totalItems","getCart","cartToggle","continueBtns","cartDiscountHolder","cartTotalDiscountTemplate","cartErrorHolder","cartCloseErrorMessage","cartEvents","customEventAddProduct","noAjaxUpdate","initQuantity","cartFreeLimitShipping","cartBarProgress","ajax","customEventsHandle","referrer","origin","notMobile","href","routes","root_url","back","termsAcceptance","checked","which","popoverHide","termsNotAccepted","renderPopover","prodImg","no_image","unitPrice","price","final_price","sellingPlanName","selling_plan_allocation","selling_plan","properties","unit_price_measurement","unit_price","reference_value","reference_unit","image","imageAspectRatio","bgset","round","featured_image","aspect_ratio","hasOwnProperty","item_count","img","product_title","variation","product_has_only_default_variant","variant_title","selling_plan_name","price_formatted","Sqrl.render","popoverShow","innerHtml","formData","FormData","URLSearchParams","toString","addToCart","handleErrors","updateCounter","newTotalItems","buildTotalPrice","subtotal","total_price","build","method","addToCartError","cart_url","updateData","newCount","oldCount","newItem","settedQuantity","blur","index","findIndex","title","line","JSON","stringify","toggleLimitError","total_discount","submit","itemTitle","innerText","ok","statusText","errorContainer","addToCartText","textContent","translations","form_submit_error","form_submit","message","description","setCartClosePosition","trapFocus","windowWidth","isCartToggle","isPopover","toggleClassesOnContainers","hasItemsInCart","countItems","original_total_price","cart_level_discount_applications","discountsMarkup","buildCartTotalDiscounts","discounts","discountMarkup","discount","discount_title","discount_total_allocated_amount","total_allocated_amount","cartToggleTop","containerPadding","undefined","percent","checkForFreeDelivery","cartMessageClass","cartMessageValue","inPageLink","linkesWithOnlyHash","triggerFocusElement","viewAll","lastFocused","isFocused","focusHash","bindInPageLinks","clickEvents","focusEvents","focusEventsOff","closeExpandedElements","pressEnterOrSpace","targetElement","define","str","toLowerCase","toReplace","charAt","words","asset","onYouTubeIframeAPIReady","tag","firstScriptTag","insertBefore","ProductModel","modelJsonSections","models","xrButtons","loadContent","mediaContainer","sectionId","firstElementChild","cloneNode","modelViewerElement","deferredMedia","mediaId","modelId","xrButton","defaultId","setupShopifyXr","setupModelViewerUi","errors","warn","ShopifyXR","modelSection","loaded","modelJson","addModels","parse","setupXRElements","model","modelViewerUi","ModelViewerUI","setupModelViewerListeners","pauseOtherMedia","play","pause","mediaIdString","currentMedia","otherMedia","deferredMediaButton","removeSectionModels","mediaInstances","Addresses","section","addressNewForm","accountForms","validate","newAddressForm","customerAddresses","newButtons","editButtons","formId","deleteButtons","confirm","postLink","parameters","_method","cancelButtons","CountryProvinceSelector","hideElement","countrySelector","provinceSelector","containerSelector","accountForm","inputs","isEmpty","nextElementSibling","Login","showButton","hideButton","recover","login","showRecoverPasswordForm","hideRecoverPasswordForm","loginForm","sections","registered","instances","Registration","components","validateComponentsArray","callStack","onUnload","onSelect","onDeselect","onBlockSelect","onBlockDeselect","onReorder","comp","entries","arr","isArray","push","getStack","Section","registration","Element","validateContainerElement","callFunctions","func","props","register","load","types","containers","normalizeType","normalizeContainers","getInstances","filteredInstances","NodeList","isPrototypeOf","firstElement","instance","getInstanceById","map","designMode","removeAnimations","setBadgePosition","images","saleBadge","parseFloat","imageWidth","imageHeight","posTop","posLeft","cssText","fetchProduct","handle","requestRoute","defaults","color","ColorMatch","getColor","swatches","colors","matchColors","bg","base","comparisonName","array","indexArray","colorObj","values","includes","hex","Swatch","swatchColor","colorString","result","colorMatch","GridSwatch","wrap","colorOption","swatch","variant","variants","uniq","variantUrl","swatchElements","makeGridSwatches","swatchSection","swatchGridSection","throttle","wait","next","invokeFn","args","now","Date","CustomScrollbar","itemsParent","scrollbar","scrollbarTrack","trackWidth","scrollEvent","calculatePosition","resizeEvent","calculateTrackWidth","reducedScrollbarWidth","scrollWidth","InitSlider","productContainer","scrollable","slideshow","productImages","thumbs","flkty","flktyNav","sliderResizeEvent","flickityResizeEvent","thumbsResizeEvent","checkThumbsWidth","scrollableResizeEvent","toggleCustomScrollbar","createSlider","createSliderNav","createScrollable","firstSlide","arrows","dots","flickityOptions","autoPlay","arrowShape","icons","arrowNavSlider","prevNextButtons","contain","pageDots","adaptiveHeight","wrapAround","resize","FlickityAsNavFor","firstType","draggable","updateDraggable","on","ontouchmove","cells","newMedia","selectedElement","mediaType","switchMedia","resizeQueued","onresize","flickityOptionsNav","asNavFor","groupCells","thumbLink","thumbsContainerPadding","paddingLeft","thumbsContainerWidth","thumbsWidth","thumb","isAnimating","customScrollbar","child","Event","Zoom","zoomWrappers","zoomEnable","createZoom","indexImage","counter","elementImage","imgSrc","imgWidth","imgHeight","w","msrc","popupClass","barsSize","showHideOpacity","showAnimationDuration","hideAnimationDuration","closeOnScroll","closeOnVerticalDrag","captionEl","closeEl","closeElClasses","tapToClose","clickToCloseNonZoomable","maxSpreadZoom","loop","spacing","allowPanToNext","pinchToClose","hosts","Video","host","hostFromVideoElement","ready","createPlayer","video","loadVideo","test","enableLooping","enableVideoLooping","onHidden","onVisible","observeVideo","player","seekTo","IntersectionObserver","observer","entry","intersectionRatio","pauseVideo","threshold","observe","Media","detect3d","launch3d","modelViewerElements","openClass","openBodyClass","closeModalOnClick","Modals","modal","nodes","parents","modalIsOpen","focusOnOpen","openElement","closeModal","evt","self","externalCall","node","scrollableElement","bindEvents","activeElement","unbindEvents","keyupHandler","clickHandler","StoreAvailability","updateContent","variantId","productTitle","_fetchStoreAvailabilities","clearContent","_initModal","variantSectionUrl","storeAvailabilityHTML","storeAvailabilityModal","_updateProductTitle","Listeners","getVariantFromSerializedArray","collection","_validateProductStructure","optionArray","_validateSerializedArray","option","_createOptionArrayFromOptionCollection","_validateOptionsArray","every","getVariantFromOptionArray","removeAll","listener","ProductForm","_validateProductObject","_listeners","_onSubmit","optionInputs","_initInputs","onOptionChange","propertyInputs","onPropertyChange","_serializeInputValues","transform","exec","quantityInputs","_setIdInputValue","idInputElement","_getProductFormEventData","onFormSubmit","_onFormEvent","cb","Function","ProductAddForm","onboarding","storeAvailabilityContainer","productForm","hasUnitPricing","productJSON","productElemJSON","linkForm","storeAvailability","updateAddToCartState","updateProductImage","updateProductPrices","updateColorName","updateHiddenSelect","updateShopBarImage","updateStoreAvailability","notificationForm","formSelects","addText","add_to_cart","tags","pre_order","available","sold_out","unavailable","formSelect","getBaseUnit","comparePrice","productPrice","compare_at_price","updateProductUnits","optionLabel","featured_media","newImg","slider","newImagePos","from","select","scrollY","scroller","shopBarImages","activeImage","productFormSection","QuickviewButton","productBlock","quickviewWrap","quickviewClose","quickviewWrapHeight","isQuickViewLoading","initButton","initFetch","renderProduct","replaceAll","insertAdjacentHTML","onLoaded","show","initButtons","productBlockLoaded","productBlockVisible","siblingsOpen","eventQuickview","hide","sub","scrollPosition","featuredBlockHeight","isFocusEnabled","quickViewPattern","quickViewIds","quickViewFors","uniqueId","uniqueFor","productBlocks","classesToRemove","visibleImage","hasSlider","initSlider","showQuantity","initPaymentButton","enablePaymentButton","enableAcceptTerms","PaymentButton","Quickview","showQuickView","quickviewSection","Ajaxify","infinityContainer","endlessScroll","fix","Ajaxinate","pagination","setBadge","loadMore","request","XMLHttpRequest","responseXML","newContainer","newPagination","containerElement","removePaginationElement","paginationElement","initialize","nextPageUrl","responseType","send","imageBackgroundSize","unload","ajaxify","Blog","checkWindowWidth","BlogSection","Popout","popout","popoutList","popoutToggle","popoutInput","popoutOptions","popoutPrevent","_connectOptions","_connectToggle","_onFocusOut","updatePopout","popupOptionsClick","_connectOptionsDispatch","popupToggleClick","popupToggleFocusout","popupListFocusout","containerKeyup","ariaExpanded","relatedTarget","_hideList","childInFocus","attrValue","preventTrigger","currentElement","targetClass","currentElementClass","listTargetElement","targetAttribute","_submitForm","cancelable","nextSibling","bodyClick","isOption","popoutSection","NewsletterCheckForResult","newsletter","sessionStorage","stopSubmit","isChallengePage","formID","checkForChallengePage","newsletterSubmit","newsletterSubmitEvent","showMessage","removeStorage","writeStorage","setItem","readStorage","getItem","removeItem","search","scrollToForm","rect","scroll","shopifyLink","Collapsible","triggers","resetHeight","navHamburger","trigger","collapsibleToggleEvent","dropdownId","dropdown","parent","isExpanded","isSpace","isEscape","dropdownHeight","setDropdownHeight","maxHeight","collapsible","RangeSlider","resizeFilters","reset","onMoveEvent","onMove","onStopEvent","onStop","onStartEvent","onStart","startX","x","touchLeft","touchRight","lineSpan","max","step","normalizeFact","defaultMinValue","defaultMaxValue","abs","maxX","selectedTouch","initialValue","setMinValue","setMaxValue","ratio","ceil","eventTouch","touches","pageX","calculateValue","onChange","onChanged","rangeHolder","priceMin","priceMax","newValue","multi","floor","Collection","collectionGridWrapper","collectionSort","collectionProducts","collectionWrapper","filterMode","filters","filtersEnable","filtersForm","filtersResets","filtersInputs","sort","badgesResizeEvent","resizeFiltersEvent","checkFiltersPosition","documentClick","closeOnOutsideClick","initSort","initFilters","initFacetedFilters","initFilterToggleButtons","URL","searchParams","set","requestFilteredProducts","toggleTitle","isTopPosition","submitForm","updateRange","initResets","toggleFilter","resets","resetAlt","bindResetButton","isAriaExpanded","filterTag","selectedTag","isTagActive","previousElementSibling","sortParam","tagIndex","groupFiltersCount","requestedURL","rangeMin","rangeMax","priceMinValue","placeholder","priceMaxValue","rangeMinValue","rangeMaxValue","isFiltersContainer","isFilterExpanded","collectionWrapperTop","offsetTop","replaceState","pushState","createdElement","filtersHTML","bindSwatchFilters","finally","CollectionSection","CollectionSlider","slideshowPrev","slideshowNext","sliderInit","setArrowPosition","setQuickViewPosition","resizeBadge","goToPrevSlide","goToNextSlide","sliderInitialized","Flickity","setGallerySize","cellAlign","change","visibleQuickView","previous","arrowTop","quickViewWrap","sliderPadding","sliderInnerWidth","SearchPredictive","appendSelector","append","productTemplate","pageTemplate","noresultTemplate","productsWrapper","pagesWrapper","articlesWrapper","focusedContainer","popdown","productWrapperOuter","initSearch","val","render","terms","searchType","resources","results","fetchProducts","products","articles","injectHTML","renderNoResult","fetchPages","pages","search_url","clearTerms","pageHTML","promises","formatted","badgeStyle","productBadgeStyle","onSale","compare_at_price_min","soldOut","badgeText","badgeClasses","customBadge","preorder","on_sale","price_with_from","price_varies","price_min","formatPrices","all","page","renderPage","media","blankImage","blank","getSizedImageUrl","preview_image","alt","aspectRatio","updateValues","no_results","Navigation","header","bodyWrap","siteAlert","shopBar","transformedElements","menuToggles","headerIcons","navStandard","hamburger","searchScroller","hamburgerNavLinks","resizeTransform","transformHeaderElements","hideOnOutsideClick","documentKeyup","hideOnKeyUp","searchPredictive","searchToggles","searchOpen","searchInput","bindings","activeLinks","bindingsSearch","dropdownParents","emptyLinks","menuToggle","dropdownParent","visibleNavLinks","submenuClose","submenuOpen","searchToggle","isSearchVisible","isMenuToggle","isMenuContainer","isHeaderHamburger","isSearchToggle","focusedElement","hamburgerMenu","isHamburgerOpen","expandedItem","headerIconsLinks","iconLink","hamburgerNavLink","menuItemLinks","isTopLevel","searchClose","searchSubmit","clickableElements","navigation","Header","headerContainer","stickyHeaderState","checkNavigationOverlapping","checkTransparentHeaderEvent","checkTransparentHeader","checkNavigationOverlappingEvent","resetHeader","scrolled","contentTop","isHeaderTransparent","isDesktop","getNavigationOverlapping","headerRowWidth","navMenuWidth","getMenuItemsWidth","headerClasses","isNavCentered","isNavLeftLogoCentered","isNavigationOverlapping","headerIconsWidth","logoWidth","getLogoWidth","logoImage","logoText","itemsWidth","menuItem","marginRight","outerWidth","firstSection","firstSectionClass","firstSectionStyle","transformElements","click","onselect","qtySelector","isNaN","Product","footer","shopBarShow","productJson","initShopBar","cartBarSelectors","formSelectors","optionSelected","targets","targetIndex","targetValue","productContainerTop","RelatedProducts","relatedSection","productId","limit","requestUrl","product_recommendations_url","RecentlyViewedProducts","lazySizes","unveil","badge","LogoList","sliderInitEvent","slidesCount","slidesWidth","slide","blockId","slideIndex","pausePlayer","unpausePlayer","FaqList","triggerClick","Slideshow","parentContainer","scrollBtn","checkSliderVisibility","slideActions","FlickityFade","containerTop","containerHeight","isAutoplay","isInitialized","playPlayer","stopPlayer","currentSlideColor","Gallery","Mosaic","initMobileSlider","isMobile","isInit","PopupCookie","Popup","testmode","delay","expireDate","todayDate","date","setTime","getTime","toGMTString","initClosers","Password","inputGroups","inputGroup","Tabs","tabs","prepareTabs","tabsNav","tabsContents","tabTitles","tabContents","tabTitle","tabTitleClick","isActive","tabsCount","titleTop","toWrap","wrapperClass","AOS","offset","once","anchorLink","table","frame","smoothscroll","navigator","cookieEnabled"],"mappings":"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"}