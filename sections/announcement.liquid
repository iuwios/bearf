{%- assign text = section.settings.text -%}
{%- assign link = section.settings.link -%}

{%- style -%}
	.site-alert { color: {{ section.settings.color_text }}; background-color: {{ section.settings.color_bg }}; }
{%- endstyle -%}

<div data-section-type="announcement" data-section-id="{{ section.id }}">
	{%- if section.settings.show_announcement -%}
		<div class="site-alert container-wrap u-center" data-status="{{ section.settings.show_announcement }}" data-status-mobile="{{ section.settings.show_announcement_on_mobile }}" data-scroll-lock-fill-gap data-site-alert>
			<div class="container">
				<div class="site-alert__text site-alert__text--error">
					<p>{{- 'general.ie11_support_message' | t -}}</p>
				</div>
				<div class="site-alert__text">

					{%- if link != blank -%}
						<a href="{{ link }}" tabindex="0">
							{{- text -}}
						</a>
					{%- else -%}
						{{- text -}}
					{%- endif -%}

				</div>
			</div>
		</div>
	{%- endif -%}
</div>

{% schema %}
{
	"name": "Announcement",
	"settings": [
		{
			"type": "header",
			"content": "Announcement bar"
		},
		{
			"type": "checkbox",
			"id": "show_announcement",
			"label": "Show announcement",
			"default": true
		},
		{
			"type": "checkbox",
			"id": "show_announcement_on_mobile",
			"label": "Show on mobile",
			"default": true
		},
		{
			"type": "richtext",
			"id": "text",
			"label": "Text",
			"default": "<p>Broadcast sales, promos, or other offerings here</p>"
		},
		{
			"type": "url",
			"id": "link",
			"label": "Link"
		},
		{
			"type": "header",
			"content": "Colors"
		},
		{
			"type": "color",
			"id": "color_bg",
			"label": "Background",
			"default": "#000000"
		},
		{
			"type": "color",
			"id": "color_text",
			"label": "Text",
			"default": "#ffffff"
		}
	]
}
{% endschema %}